<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2022-09-29T19:15:57.3812385"><meta name="build-number" content="${buildNumber}">    <meta name="keywords" content="">  <title>Using File Templates Programmatically | IntelliJ Platform Plugin SDK</title><script id="virtual-toc-data" type="application/json">[{"id":"creating-new-files-from-template","level":0,"title":"Creating New Files from Template","anchor":"#creating-new-files-from-template"},{"id":"improving-save-file-as-template-action","level":0,"title":"Improving \"Save File as Template…\" Action","anchor":"#improving-save-file-as-template-action"}]</script>   <link href="https://resources.jetbrains.com/storage/help-app/v5/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Using File Templates Programmatically | IntelliJ Platform Plugin SDK"/><meta property="og:description" content=""/><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"/><meta property="og:site_name" content="IntelliJ Platform Plugin SDK Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="https://plugins.jetbrains.com/docs/intellij/using-file-templates.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@JBPlatform"><meta name="twitter:title" content="Using File Templates Programmatically | IntelliJ Platform Plugin SDK"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@JBPlatform"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://plugins.jetbrains.com/docs/intellij/using-file-templates.html#webpage", "url": "https://plugins.jetbrains.com/docs/intellij/using-file-templates.html", "name": "Using File Templates Programmatically | IntelliJ Platform Plugin SDK", "description": "", "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://plugins.jetbrains.com/docs/intellij/#website", "url": "https://plugins.jetbrains.com/docs/intellij/", "name": "IntelliJ Platform Plugin SDK Help" }</script><!-- End Schema.org --></head>    <body data-id="using_file_templates.md" data-main-title="Using File Templates Programmatically" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Part V — Features///editing.md|Editing///templates.md|Templates///file_and_code_templates.md|File and Code Templates"  data-edit-url="https://github.com/JetBrains/intellij-sdk-docs/edit/main/topics/tutorials/file_and_code_templates/using_file_templates.md"  >  <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ Platform Plugin SDK  Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">      </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="using_file_templates.md" id="using_file_templates.md"  >Using File Templates Programmatically</h1><p id="3c183ffd_66" >File templates provided by a plugin can be used during new file creation, in code intention actions, or other plugin features. They can be accessed with the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/ide-core-impl/src/com/intellij/ide/fileTemplates/FileTemplateManager.java" id="3c183ffd_67"   data-external="true" rel="noopener noreferrer" ><code class="code " id="3c183ffd_68"  >FileTemplateManager</code></a> service providing methods returning all or single file templates from a given category. For example, to obtain a template from the <span class="control" id="3c183ffd_69" ><a href="providing-file-templates.html#code" id="3c183ffd_70" data-tooltip="The Code category contains templates used for inserting in existing files, e.g., a code fragment used in an intention action or quick fix. It includes templates located in the fileTemplates/code directory."  >Code</a></span> category, pass its name to the <code class="code " id="3c183ffd_71"  >getCodeTemplate()</code> method (notice the lack of the <span class="filepath" id="3c183ffd_72" >.ft</span> extension):</p><div class="code-block" data-lang="java"         >
FileTemplate template = FileTemplateManager.getInstance(project)
    .getCodeTemplate(&quot;Test Class.java&quot;);
</div><p id="3c183ffd_74" >To render a template content, prepare and pass <code class="code " id="3c183ffd_75"  >Properties</code> object to the <code class="code " id="3c183ffd_76"  >getText()</code> method:</p><div class="code-block" data-lang="java"         >
Properties properties = new Properties();
properties.setProperty(&quot;PROP1&quot;, value1);
properties.setProperty(&quot;PROP2&quot;, value2);
String renderedText = template.getText(properties);
</div><section class="chapter"  ><h2 id="creating-new-files-from-template" data-toc="creating-new-files-from-template"  >Creating New Files from Template</h2><p id="3c183ffd_78" >The common use case for file templates is creating new files with the initial content specific to a language or framework supported by the plugin. File templates assigned to the <span class="control" id="3c183ffd_79" ><a href="providing-file-templates.html#files" id="3c183ffd_80" data-tooltip="The Files category contains templates used for creating new files. This is the main category, and it includes all templates placed directly in the fileTemplates directory. It should contain only templates for given language core entities, e.g., a class, an interface, or other items…"  >Files</a></span> category are automatically available in the  action group. Sometimes, creating a file from a given template in a specific project place doesn't make sense, or a template requires some additional properties for its content. It is possible to control a file template's visibility and its available properties using <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/lang-impl/src/com/intellij/ide/fileTemplates/CreateFromTemplateHandler.java" id="3c183ffd_82"   data-external="true" rel="noopener noreferrer" ><code class="code " id="3c183ffd_83"  >CreateFromTemplateHandler</code></a> implementation registered in the <code class="code " id="3c183ffd_84"  >com.intellij.createFromTemplateHandler</code> EP.</p><p id="3c183ffd_85" ><span class="control" id="3c183ffd_86" >Example</span>: <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/java/java-impl/src/com/intellij/ide/fileTemplates/JavaCreateFromTemplateHandler.java" id="3c183ffd_87"   data-external="true" rel="noopener noreferrer" ><code class="code " id="3c183ffd_88"  >JavaCreateFromTemplateHandler</code></a></p><section class="chapter"  ><h3 id="exposing-file-templates-from-the-other-category" data-toc="exposing-file-templates-from-the-other-category"  >Exposing File Templates from the Other Category</h3><p id="3c183ffd_89" >File templates from the <span class="control" id="3c183ffd_90" ><a href="providing-file-templates.html#other" id="3c183ffd_91" data-tooltip="The Other category contains other templates organized in groups. It includes templates located in the fileTemplates/j2ee directory and registered via the com.intellij.fileTemplateGroup extension point (EP). Note that the j2ee directory name is historical and unrelated to the J2EE…"  >Other</a></span> category are not exposed by default. To make them available in the UI, a plugin has to implement and register an action. The easiest way to do it is by extending <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/lang-impl/src/com/intellij/ide/actions/CreateFileFromTemplateAction.java" id="3c183ffd_92"   data-external="true" rel="noopener noreferrer" ><code class="code " id="3c183ffd_93"  >CreateFileFromTemplateAction</code></a> base class which contains standard implementations of necessary methods. It allows customizing the action by providing an action name, icon, overriding methods creating dialog, and others. Example action:</p><div class="code-block" data-lang="java"         >
public class CreateMyClassAction extends CreateFileFromTemplateAction {

  public CreateMyClassAction() {
    super(&quot;My Class&quot;, &quot;Creates new class&quot;, CLASS_ICON);
  }

  @Override
  protected void buildDialog(Project project, PsiDirectory directory,
      CreateFileFromTemplateDialog.Builder builder) {
    builder
    .setTitle(&quot;New My File&quot;)
    .addKind(&quot;Class&quot;, CLASS_ICON, &quot;My Class&quot;);
  }

  @Override
  protected String getActionName(PsiDirectory directory,
      @NotNull String newName, String templateName) {
    return &quot;Create My Class: &quot; + newName;
  }
}
</div><p id="3c183ffd_95" >The new action should be registered under the <code class="code " id="3c183ffd_96"  >NewGroup</code> group, e.g:</p><div class="code-block" data-lang="markup"         >
&lt;actions&gt;
  &lt;action id=&quot;Create.MyClass&quot; class=&quot;com.example.CreateMyClassAction&quot;&gt;
    &lt;add-to-group group-id=&quot;NewGroup&quot;/&gt;
  &lt;/action&gt;
&lt;/actions&gt;
</div></section><section class="chapter"  ><h3 id="custom-create-file-from-template-actions" data-toc="custom-create-file-from-template-actions"  >Custom &quot;Create File From Template&quot; Actions</h3><p id="3c183ffd_98" >In some cases, the default mechanism for creating files from templates is insufficient. Consider a language that defines multiple types of core entities, e.g., in the Java language, the following entities can be created: Class, Interface, Record, Enum, and Annotation.</p><p id="3c183ffd_99" >Having all of those items in the  action group may overwhelm users with the number of options to choose. It is more user-friendly to provide a single  action and let users choose a specific entity type in the creation dialog:</p><figure  id="3c183ffd_102"><img alt="Create Java class" title="Create Java class" src="images/new_java_class_popup.png"  class="article__bordered-element " width="296" height="156"/></figure><p id="3c183ffd_103" >This can be achieved by placing templates in the <span class="control" id="3c183ffd_104" ><a href="providing-file-templates.html#internal" id="3c183ffd_105" data-tooltip="The Internal category contains templates that are not visible in the IDE settings by default and cannot be edited by users. It includes templates located in the fileTemplates/internal directory."  >Internal</a></span> category, so they are not picked up by the default mechanism, and then registering a custom <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/lang-impl/src/com/intellij/ide/actions/CreateFileFromTemplateAction.java" id="3c183ffd_106"   data-external="true" rel="noopener noreferrer" ><code class="code " id="3c183ffd_107"  >CreateFileFromTemplateAction</code></a> implementation as described in the <a href="#exposing-file-templates-from-the-other-category" id="3c183ffd_108" data-tooltip="File templates from the Other category are not exposed by default. To make them available in the UI, a plugin has to implement and register an action. The easiest way to do it is by extending CreateFileFromTemplateAction base class which contains standard implementations of…"  >Exposing File Templates from the Other Category</a> section. To provide a list of selectable entity types, the action should provide a custom dialog with multiple file kinds for every template type, e.g.:</p><div class="code-block" data-lang="java"         >
@Override
protected void buildDialog(Project project, PsiDirectory directory,
    CreateFileFromTemplateDialog.Builder builder) {
  builder
    .setTitle(&quot;My File&quot;)
    .addKind(&quot;Class&quot;, CLASS_ICON, &quot;My Class&quot;)
    .addKind(&quot;Record&quot;, RECORD_ICON, &quot;My Record&quot;)
    .addKind(&quot;Enum&quot;, ENUM_ICON, &quot;My Enum&quot;);
}
</div><p id="3c183ffd_110" >As file templates are placed in the <span class="filepath" id="3c183ffd_111" >fileTemplates/internal</span> directory, they are not listed in the  settings page, and users can't adjust them to their needs. Internal templates can be exposed in the <span class="control" id="3c183ffd_113" >Files</span> category by additionally registering them via the <code class="code " id="3c183ffd_114"  >com.intellij.internalFileTemplate</code> EP, e.g.:</p><div class="code-block" data-lang="markup"         >
&lt;internalFileTemplate name=&quot;My Record&quot;/&gt;
</div><p id="3c183ffd_116" ><span class="control" id="3c183ffd_117" >Example</span>: <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/plugins/kotlin/idea/src/org/jetbrains/kotlin/idea/actions/NewKotlinFileAction.kt" id="3c183ffd_118"   data-external="true" rel="noopener noreferrer" ><code class="code " id="3c183ffd_119"  >NewKotlinFileAction</code></a> for Kotlin files creation action.</p></section></section><section class="chapter"  ><h2 id="improving-save-file-as-template-action" data-toc="improving-save-file-as-template-action"  >Improving &quot;Save File as Template…&quot; Action</h2><p id="3c183ffd_120" >Some languages or frameworks may require creating many custom file templates directly in the IDE with  action, including plugin developers creating templates, e.g., for Java language to support a specific framework. Adjusting created templates manually by replacing dynamic parts with properties can be tedious. It is possible to speed up this process by replacing known elements like package or class names with template properties placeholder. It can be achieved by implementing the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/lang-impl/src/com/intellij/ide/actions/SaveFileAsTemplateHandler.java" id="3c183ffd_122"   data-external="true" rel="noopener noreferrer" ><code class="code " id="3c183ffd_123"  >SaveFileAsTemplateHandler</code></a> and registering it via the <code class="code " id="3c183ffd_124"  >com.intellij.saveFileAsTemplateHandler</code> EP.</p><p id="3c183ffd_125" ><span class="control" id="3c183ffd_126" >Example</span>: <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/java/java-impl/src/com/intellij/ide/fileTemplates/SaveJavaAsTemplateHandler.java" id="3c183ffd_127"   data-external="true" rel="noopener noreferrer" ><code class="code " id="3c183ffd_128"  >SaveJavaAsTemplateHandler</code></a> replacing existing class and package names with <code class="code " id="3c183ffd_129"  >${NAME}</code> and <code class="code " id="3c183ffd_130"  >${PACKAGE_NAME}</code> properties placeholders respectively.</p></section><div class="last-modified"> Last modified: 29 九月 2022</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="providing-file-templates.html">Providing File and Code Templates</a>   <a class="navigation-links__next" href="code-documentation.html">Documentation</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/storage/help-app/v5/app.js"></script></body></html>