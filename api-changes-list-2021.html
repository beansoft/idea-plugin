<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2022-09-29T19:15:56.7562343"><meta name="build-number" content="${buildNumber}">    <meta name="keywords" content="">  <title>Incompatible Changes in IntelliJ Platform and Plugins API 2021.* | IntelliJ Platform Plugin SDK</title><script id="virtual-toc-data" type="application/json">[{"id":"20213","level":0,"title":"2021.3","anchor":"#20213"},{"id":"20212","level":0,"title":"2021.2","anchor":"#20212"},{"id":"20211","level":0,"title":"2021.1","anchor":"#20211"}]</script>   <link href="https://resources.jetbrains.com/storage/help-app/v5/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Incompatible Changes in IntelliJ Platform and Plugins API 2021.* | IntelliJ Platform Plugin SDK"/><meta property="og:description" content=""/><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"/><meta property="og:site_name" content="IntelliJ Platform Plugin SDK Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="https://plugins.jetbrains.com/docs/intellij/api-changes-list-2021.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@JBPlatform"><meta name="twitter:title" content="Incompatible Changes in IntelliJ Platform and Plugins API 2021.* | IntelliJ Platform Plugin SDK"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@JBPlatform"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://plugins.jetbrains.com/docs/intellij/api-changes-list-2021.html#webpage", "url": "https://plugins.jetbrains.com/docs/intellij/api-changes-list-2021.html", "name": "Incompatible Changes in IntelliJ Platform and Plugins API 2021.* | IntelliJ Platform Plugin SDK", "description": "", "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://plugins.jetbrains.com/docs/intellij/#website", "url": "https://plugins.jetbrains.com/docs/intellij/", "name": "IntelliJ Platform Plugin SDK Help" }</script><!-- End Schema.org --></head>    <body data-id="api_changes_list_2021.md" data-main-title="Incompatible Changes in IntelliJ Platform and Plugins API 2021.*" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Appendix II — API and Compatibility///api_changes_list.md|Incompatible API Changes"  data-edit-url="https://github.com/JetBrains/intellij-sdk-docs/edit/main/reference_guide/api_changes_list_2021.md"  >  <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ Platform Plugin SDK  Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">      </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="api_changes_list_2021.md" id="api_changes_list_2021.md"  >Incompatible Changes in IntelliJ Platform and Plugins API 2021.*</h1><p id="6795707d_520" >Please see <a href="verifying-plugin-compatibility.html" id="6795707d_521" data-tooltip="确保兼容性检查的工具"  >验证插件兼容性</a> on how to use Plugin Verifier and IDE inspections to check such problems.</p><aside data-type="tip" class="prompt" data-title="" id="6795707d_522" ><p id="6795707d_523" >Changes from API marked with <code class="code " id="6795707d_524"  >@Deprecated(forRemoval=true)</code> or any of <a href="https://github.com/JetBrains/java-annotations/blob/master/common/src/main/java/org/jetbrains/annotations/ApiStatus.java" id="6795707d_525"   data-external="true" rel="noopener noreferrer" ><code class="code " id="6795707d_526"  >org.jetbrains.annotations.ApiStatus</code></a> <code class="code " id="6795707d_527"  >@Experimental</code>, <code class="code " id="6795707d_528"  >@ScheduledForRemoval</code>, or <code class="code " id="6795707d_529"  >@Internal</code> are not listed here, as incompatible changes are to be expected.</p><p id="6795707d_530" >For API annotated with <code class="code " id="6795707d_531"  >ApiStatus.@Internal</code>, see <a href="api-internal.html" id="6795707d_532" data-tooltip="Lists private API annotated with ApiStatus.Internal and corresponding replacement."  >Internal API Migration</a> for more details and replacements.</p></aside><aside data-type="tip" class="prompt" data-title="" id="6795707d_533" ><p id="6795707d_534" >Java 11 is required (<a href="https://blog.jetbrains.com/platform/2020/09/intellij-project-migrates-to-java-11/" id="6795707d_535"   data-external="true" rel="noopener noreferrer" >blog post</a>) when targeting 2020.3 and later only.</p><p id="6795707d_536" >Please make sure to always upgrade <code class="code " id="6795707d_537"  >gradle-intellij-plugin</code> to the latest version <a href="https://github.com/jetbrains/gradle-intellij-plugin/releases" id="6795707d_538"   data-external="true" rel="noopener noreferrer" ><img alt="GitHub Release" title="GitHub Release" id="6795707d_539" src="https://img.shields.io/github/release/jetbrains/gradle-intellij-plugin.svg?style=flat-square"  class="inline-icon-"   /></a></p></aside><p id="6795707d_540" ><span class="emphasis" id="6795707d_541" >Early Access Program</span> (EAP) releases of upcoming versions are available <a href="https://eap.jetbrains.com" id="6795707d_542"   data-external="true" rel="noopener noreferrer" >here</a>.</p><section class="chapter"  ><h2 id="20213" data-toc="20213"  >2021.3</h2><section class="chapter"  ><h3 id="intellij-platform-20213" data-toc="intellij-platform-20213"  >IntelliJ Platform 2021.3</h3><dl id="6795707d_543"  data-style="title-top"  ><dt id="6795707d_544"  data-expandable="false" >Running tests fails with jarFiles is not set for [...] or Created extension classloader is not equal to plugin's one</dt><dd><p>Set system property <code class="code " id="6795707d_548"  >idea.force.use.core.classloader</code> to <code class="code " id="6795707d_549"  >true</code>.</p></dd><dt id="6795707d_550"  data-expandable="false" >Running tests fails using Gradle setup</dt><dd><p>Please use <a href="https://youtrack.jetbrains.com/issue/IDEA-278926#focus=Comments-27-5561012.0-0" id="6795707d_552"   data-external="true" rel="noopener noreferrer" >workarounds</a>.</p></dd><dt id="6795707d_553"  data-expandable="false" >com.intellij.ui.mac.MacMessages.showMessageDialog(String, String, String[], boolean, Window, int, int, DialogWrapper.DoNotAskOption) method removed</dt><dd><p>Use <code class="code " id="6795707d_556"  >com.intellij.ui.mac.MacMessages.showMessageDialog(String, String, String[], boolean, Window, int, int, DoNotAskOption)</code> instead.</p></dd><dt id="6795707d_557"  data-expandable="false" >com.intellij.openapi.ui.MessageDialogBuilder.doNotAsk(DialogWrapper.DoNotAskOption) method removed</dt><dd><p>Use <code class="code " id="6795707d_560"  >com.intellij.openapi.ui.MessageDialogBuilder.doNotAsk(DoNotAskOption)</code> instead.</p></dd><dt id="6795707d_561"  data-expandable="false" >com.intellij.ide.util.projectWizard.WizardContext.getWizard() method removed</dt><dd><p>Use <code class="code " id="6795707d_564"  >com.intellij.ide.util.projectWizard.WizardContext.getUserData(AbstractWizard.KEY)</code> instead.</p></dd><dt id="6795707d_565"  data-expandable="false" >com.intellij.openapi.ui.TextComponentAccessor.TEXT_FIELD_WITH_HISTORY_WHOLE_TEXT field removed</dt><dd><p>Use <code class="code " id="6795707d_568"  >com.intellij.openapi.ui.TextComponentAccessors.TEXT_FIELD_WITH_HISTORY_WHOLE_TEXT</code> instead.</p></dd><dt id="6795707d_569"  data-expandable="false" >com.intellij.execution.process.ColoredOutputTypeRegistry.getAnsiColorKey(int) method removed</dt><dd><p>Use <code class="code " id="6795707d_572"  >com.intellij.execution.process.ColoredOutputTypeRegistryImpl.getAnsiColorKey(int)</code> instead.</p></dd><dt id="6795707d_573"  data-expandable="false" >com.intellij.diagnostic.PerformanceWatcher.Snapshot class now interface</dt><dd><p>Recompile the dependant code or use <code class="code " id="6795707d_576"  >com.intellij.diagnostic.PerformanceWatcherImpl.SnapshotImpl</code> instead.</p></dd><dt id="6795707d_577"  data-expandable="false" >com.intellij.openapi.fileEditor.impl.EditorTabPresentationUtil.getEditorTabTitle(Project, VirtualFile, EditorWindow) method parameter EditorWindow removed</dt><dd><p>This parameter was never needed, but led to code coupling.</p></dd><dt id="6795707d_581"  data-expandable="false" >com.intellij.openapi.fileEditor.impl.EditorTabPresentationUtil.getUniqueEditorTabTitle(Project, VirtualFile, EditorWindow) method parameter EditorWindow removed</dt><dd><p>This parameter was never needed, but led to code coupling.</p></dd><dt id="6795707d_585"  data-expandable="false" >com.intellij.openapi.fileEditor.impl.EditorTabTitleProvider.getEditorTabTitle(Project, VirtualFile, EditorWindow) method parameter EditorWindow removed</dt><dd><p>This parameter was never needed, but led to code coupling.</p></dd><dt id="6795707d_589"  data-expandable="false" >Constructor com.intellij.codeInsight.hints.settings.InlayProviderSettingsModel changed</dt><dd><p>Added <code class="code " id="6795707d_592"  >Language</code> parameter.</p></dd><dt id="6795707d_593"  data-expandable="false" >com.intellij.codeInsight.hints.settings.InlayProviderSettingsModel.getDescription() abstract method added</dt><dd><p>Provides short description.</p></dd><dt id="6795707d_596"  data-expandable="false" >com.intellij.codeInsight.hints.settings.InlayProviderSettingsModel.getCaseDescription(ImmediateConfigurable.Case) abstract method added</dt><dd><p>Provides description text for given case.</p></dd><dt id="6795707d_599"  data-expandable="false" >com.intellij.codeInsight.hints.settings.InlayProviderSettingsModel.getCasePreview(ImmediateConfigurable.Case) abstract method added</dt><dd><p>Provides preview text for given case.</p></dd><dt id="6795707d_602"  data-expandable="false" >com.intellij.openapi.wm.ToolWindow.getEmptyText() method removed</dt><dd><p>Please safe-cast and use <code class="code " id="6795707d_605"  >com.intellij.openapi.wm.ex.ToolWindowEx.getEmptyText()</code>.</p></dd><dt id="6795707d_606"  data-expandable="false" >com.intellij.openapi.actionSystem.ex.CustomComponentAction#createCustomComponent(Presentation, String, DataContext) method removed</dt><dd><p>Please use <code class="code " id="6795707d_609"  >createCustomComponent(Presentation, String)</code>, one shall not depend on <code class="code " id="6795707d_610"  >dataContext</code> there.</p></dd><dt id="6795707d_611"  data-expandable="false" >com.intellij.ui.EditorTextField.addNotify() method marked final</dt><dd><p>Please use <code class="code " id="6795707d_614"  >addSettingsProvider(EditorSettingsProvider)</code> to configure <code class="code " id="6795707d_615"  >Editor</code> as editor creation may be postponed now.</p></dd></dl></section><section class="chapter"  ><h3 id="vcs-log-20213" data-toc="vcs-log-20213"  >VCS Log 2021.3</h3><dl id="6795707d_616"  data-style="title-top"  ><dt id="6795707d_617"  data-expandable="false" >com.intellij.vcs.log.ui.frame.CommitPanel class removed</dt><dd><p>Removed unnecessary inheritance.</p></dd></dl></section><section class="chapter"  ><h3 id="git-plugin-20213" data-toc="git-plugin-20213"  >Git Plugin 2021.3</h3><dl id="6795707d_620"  data-style="title-top"  ><dt id="6795707d_621"  data-expandable="false" >git4idea.ui.branch.GitBranchActionsUtilKt.checkoutOrReset(Project, List, String, GitNewBranchOptions) method removed</dt><dd><p>Method was dropped to avoid supporting outdated behavior.</p></dd><dt id="6795707d_624"  data-expandable="false" >git4idea.ui.branch.GitBranchActionsUtilKt.createNewBranch(Project, List, String, GitNewBranchOptions) method removed</dt><dd><p>Method was dropped to avoid supporting outdated behavior.</p></dd></dl></section><section class="chapter"  ><h3 id="python-plugin-20213" data-toc="python-plugin-20213"  >Python Plugin 2021.3</h3><dl id="6795707d_627"  data-style="title-top"  ><dt id="6795707d_628"  data-expandable="false" >com.jetbrains.python.console.PydevConsoleRunnerImpl(Project, Sdk, PyConsoleType, String, Map<String, String>, PyConsoleOptions.PyConsoleSettings, Consumer<? super String>, String[]) constructor parameter type com.intellij.util.Consumer<? super String> removed</dt><dd><p>There is no need to pass a Restart action as a constructor parameter, it should be created inside the <code class="code " id="6795707d_632"  >com.jetbrains.python.console.PydevConsoleRunnerImpl#createRerunAction</code> method</p></dd></dl></section><section class="chapter"  ><h3 id="intellij-idea-ultimate-20213" data-toc="intellij-idea-ultimate-20213"  >IntelliJ IDEA Ultimate 2021.3</h3><section class="chapter"  ><h4 id="miscellaneous" data-toc="miscellaneous"  >Miscellaneous</h4><dl id="6795707d_633"  data-style="title-top"  ><dt id="6795707d_634"  data-expandable="false" >com.intellij.util.JavaeeIcons class renamed to com.intellij.javaee.JavaeeIcons</dt><dd><p>To support dynamic plugins.</p></dd><dt id="6795707d_638"  data-expandable="false" >icons.RestClientIcons class renamed to com.intellij.httpClient.RestClientIcons</dt><dd><p>To support dynamic plugins.</p></dd></dl></section><section class="chapter"  ><h4 id="expression-language-el-jsp" data-toc="expression-language-el-jsp"  >Expression Language (EL) / JSP</h4><p id="6795707d_642" >Expression Language (EL) was extracted from <code class="code " id="6795707d_643"  >com.intellij.jsp</code> (<span class="emphasis" id="6795707d_644" >&quot;Java Server Pages (JSP)&quot;</span>) plugin to new <code class="code " id="6795707d_645"  >com.intellij.javaee.el</code> (<span class="emphasis" id="6795707d_646" >Java EE: Expression Language (EL)</span>) plugin. <code class="code " id="6795707d_647"  >com.intellij.jsp</code> has mandatory dependency on <code class="code " id="6795707d_648"  >com.intellij.javaee.el</code>. 10+ Ultimate plugins (Spring, Java EE, Frameworks) now have optional dependency on <code class="code " id="6795707d_649"  >com.intellij.javaee.el</code> plugin (mandatory dependency to <code class="code " id="6795707d_650"  >com.intellij.jsp</code> was removed).</p><dl id="6795707d_651"  data-style="title-top"  ><dt id="6795707d_652"  data-expandable="false" >com.intellij.jsp.el.impl.ELResolveUtil.VariableInfoData class renamed to com.intellij.jsp.el.impl.JspELResolveUtil.VariableInfoData</dt><dd><p>To support dynamic plugins.</p></dd><dt id="6795707d_656"  data-expandable="false" >com.intellij.jsp.el.impl.ELResolveUtil class renamed to com.intellij.javaee.el.util.ELResolveUtil</dt><dd><p>Use new class from <code class="code " id="6795707d_660"  >com.intellij.javaee.el</code> plugin instead or <code class="code " id="6795707d_661"  >com.intellij.jsp.el.impl.JspELResolveUtil</code> from <code class="code " id="6795707d_662"  >com.intellij.jsp</code> plugin.</p></dd><dt id="6795707d_663"  data-expandable="false" >com.intellij.jsp.el.impl.ELElementProcessor class renamed to com.intellij.javaee.el.ELElementProcessor</dt><dd><p>Use new class from <code class="code " id="6795707d_667"  >com.intellij.javaee.el</code> plugin instead.</p></dd><dt id="6795707d_668"  data-expandable="false" >com.intellij.psi.jsp.el.ELElementTypes class renamed to com.intellij.javaee.el.psi.ELElementTypes</dt><dd><p>Use new class from <code class="code " id="6795707d_672"  >com.intellij.javaee.el</code> plugin instead.</p></dd><dt id="6795707d_673"  data-expandable="false" >com.intellij.psi.jsp.el.ELLiteralExpression class renamed to com.intellij.javaee.el.psi.ELLiteralExpression</dt><dd><p>Use new class from <code class="code " id="6795707d_677"  >com.intellij.javaee.el</code> plugin instead.</p></dd><dt id="6795707d_678"  data-expandable="false" >com.intellij.psi.jsp.el.ELElementType class renamed to com.intellij.javaee.el.psi.ELElementType</dt><dd><p>Use new class from <code class="code " id="6795707d_682"  >com.intellij.javaee.el</code> plugin instead.</p></dd><dt id="6795707d_683"  data-expandable="false" >com.intellij.psi.jsp.el.ELExpressionHolder class renamed to com.intellij.javaee.el.psi.ELExpressionHolder</dt><dd><p>Use new class from <code class="code " id="6795707d_687"  >com.intellij.javaee.el</code> plugin instead.</p></dd><dt id="6795707d_688"  data-expandable="false" >com.intellij.jsp.el.impl.ElVariablesProvider class renamed to com.intellij.javaee.el.providers.ElVariablesProvider</dt><dd><p>Use new class from <code class="code " id="6795707d_692"  >com.intellij.javaee.el</code> plugin instead.</p></dd><dt id="6795707d_693"  data-expandable="false" >com.intellij.psi.jsp.el.ELVariable class renamed to com.intellij.javaee.el.psi.ELVariable</dt><dd><p>Use new class from <code class="code " id="6795707d_697"  >com.intellij.javaee.el</code> plugin instead.</p></dd><dt id="6795707d_698"  data-expandable="false" >com.intellij.psi.jsp.el.ElLiteralCustomReferenceProvider class renamed to com.intellij.javaee.el.psi.ElLiteralCustomReferenceProvider</dt><dd><p>Use new class from <code class="code " id="6795707d_702"  >com.intellij.javaee.el</code> plugin instead.</p></dd><dt id="6795707d_703"  data-expandable="false" >com.intellij.psi.jsp.JspImplicitVariable class renamed to com.intellij.javaee.el.util.ELImplicitVariable</dt><dd><p>Use new class from <code class="code " id="6795707d_707"  >com.intellij.javaee.el</code> plugin instead.</p></dd></dl></section><section class="chapter"  ><h4 id="persistence" data-toc="persistence"  >Persistence</h4><dl id="6795707d_708"  data-style="title-top"  ><dt id="6795707d_709"  data-expandable="false" >Package com.intellij.javaee.model.xml.persistence renamed to com.intellij.jpa.model.xml.persistence</dt><dd><p>To support dynamic plugins.</p></dd></dl></section><section class="chapter"  ><h4 id="application-servers" data-toc="application-servers"  >Application Servers</h4><p id="6795707d_713" >Various package renames to support dynamic plugins</p><div class="table-wrapper" ><table class=" wide" id="6795707d_714"  ><thead><tr class=" ijRowHead" id="6795707d_715" ><th id="6795707d_716"    ><p>Old package name</p></th><th id="6795707d_717"    ><p>New package name</p></th></tr></thead><tbody ><tr class="" id="6795707d_718" ><td id="6795707d_719"    ><p><code class="code " id="6795707d_720"  >com.intellij.javaee.serverInstances</code></p></td><td id="6795707d_721"    ><p><code class="code " id="6795707d_722"  >com.intellij.javaee.appServers.serverInstances</code></p></td></tr><tr class="" id="6795707d_723" ><td id="6795707d_724"    ><p><code class="code " id="6795707d_725"  >com.intellij.javaee.appServerIntegrations</code></p></td><td id="6795707d_726"    ><p><code class="code " id="6795707d_727"  >com.intellij.javaee.appServers.appServerIntegrations</code></p></td></tr><tr class="" id="6795707d_728" ><td id="6795707d_729"    ><p><code class="code " id="6795707d_730"  >com.intellij.javaee.deployment</code></p></td><td id="6795707d_731"    ><p><code class="code " id="6795707d_732"  >com.intellij.javaee.appServers.deployment</code></p></td></tr><tr class="" id="6795707d_733" ><td id="6795707d_734"    ><p><code class="code " id="6795707d_735"  >com.intellij.javaee.run</code></p></td><td id="6795707d_736"    ><p><code class="code " id="6795707d_737"  >com.intellij.javaee.appServers.run</code></p></td></tr></tbody ></table ></div><dl id="6795707d_738"  data-style="title-top"  ><dt id="6795707d_739"  data-expandable="false" >com.intellij.javaee.deployment.DeploymentModel class renamed to com.intellij.javaee.appServers.deployment.DeploymentModel</dt><dd><p>To support dynamic plugins.</p></dd><dt id="6795707d_743"  data-expandable="false" >com.intellij.javaee.deployment.DeploymentSource class renamed to com.intellij.javaee.appServers.deployment.DeploymentSource</dt><dd><p>To support dynamic plugins.</p></dd><dt id="6795707d_747"  data-expandable="false" >com.intellij.javaee.deployment.DeploymentProvider class renamed to com.intellij.javaee.appServers.deployment.DeploymentProvider</dt><dd><p>To support dynamic plugins.</p></dd><dt id="6795707d_751"  data-expandable="false" >com.intellij.javaee.openapi.ex.AppServerIntegrationsManager class renamed to com.intellij.javaee.appServers.openapi.ex.AppServerIntegrationsManager</dt><dd><p>To support dynamic plugins.</p></dd><dt id="6795707d_755"  data-expandable="false" >com.intellij.javaee.appServerIntegrations.AppServerIntegration class renamed to com.intellij.javaee.appServers.appServerIntegrations.AppServerIntegration</dt><dd><p>To support dynamic plugins.</p></dd><dt id="6795707d_759"  data-expandable="false" >com.intellij.javaee.appServerIntegrations.ApplicationServerPersistentData class renamed to com.intellij.javaee.appServers.appServerIntegrations.ApplicationServerPersistentData</dt><dd><p>To support dynamic plugins.</p></dd><dt id="6795707d_763"  data-expandable="false" >com.intellij.javaee.facet.JavaeeFrameworkSupportInfoCollector class renamed to com.intellij.javaee.appServers.facet.JavaeeFrameworkSupportInfoCollector</dt><dd><p>To support dynamic plugins.</p></dd><dt id="6795707d_767"  data-expandable="false" >com.intellij.javaee.appServerIntegrations.ApplicationServer class renamed to com.intellij.javaee.appServers.appServerIntegrations.ApplicationServer</dt><dd><p>To support dynamic plugins.</p></dd><dt id="6795707d_771"  data-expandable="false" >com.intellij.javaee.appServerIntegrations.ApplicationServerHelper class renamed to com.intellij.javaee.appServers.appServerIntegrations.ApplicationServerHelper</dt><dd><p>To support dynamic plugins.</p></dd><dt id="6795707d_775"  data-expandable="false" >com.intellij.javaee.serverInstances.J2EEServerInstance class renamed to com.intellij.javaee.appServers.serverInstances.J2EEServerInstance</dt><dd><p>To support dynamic plugins.</p></dd><dt id="6795707d_779"  data-expandable="false" >com.intellij.javaee.run.configuration.CommonModel class renamed to com.intellij.javaee.appServers.run.configuration.CommonModel</dt><dd><p>To support dynamic plugins.</p></dd><dt id="6795707d_783"  data-expandable="false" >com.intellij.javaee.run.localRun.ExecutableObjectStartupPolicy class renamed to com.intellij.javaee.appServers.run.localRun.ExecutableObjectStartupPolicy</dt><dd><p>To support dynamic plugins.</p></dd></dl></section></section><section class="chapter"  ><h3 id="database-plugin-20213" data-toc="database-plugin-20213"  >Database Plugin 2021.3</h3><dl id="6795707d_787"  data-style="title-top"  ><dt id="6795707d_788"  data-expandable="false" >com.intellij.database.model.ModelLightCopierUtils class removed</dt><dd><p>Internal class not to be used by 3rd party.</p></dd></dl></section></section><section class="chapter"  ><h2 id="20212" data-toc="20212"  >2021.2</h2><section class="chapter"  ><h3 id="intellij-platform-20212" data-toc="intellij-platform-20212"  >IntelliJ Platform 2021.2</h3><dl id="6795707d_791"  data-style="title-top"  ><dt id="6795707d_792"  data-expandable="false" >com.intellij.openapi.editor.impl.event.DocumentEventImpl.translateLineViaDiff(int) method removed</dt><dd><p>Use persistent range markers instead, see <code class="code " id="6795707d_795"  >com.intellij.openapi.editor.Document.createRangeMarker(int, int, boolean)</code> with <code class="code " id="6795707d_796"  >surviveOnExternalChange=true</code>.</p></dd><dt id="6795707d_797"  data-expandable="false" >com.intellij.openapi.editor.impl.event.DocumentEventImpl.translateLineViaDiffStrict(int) method removed</dt><dd><p>Use persistent range markers instead, see <code class="code " id="6795707d_800"  >com.intellij.openapi.editor.Document.createRangeMarker(int, int, boolean)</code> with <code class="code " id="6795707d_801"  >surviveOnExternalChange=true</code>.</p></dd><dt id="6795707d_802"  data-expandable="false" >com.intellij.openapi.file.exclude.EnforcedPlainTextFileType class removed</dt><dd><p>Use <code class="code " id="6795707d_805"  >com.intellij.openapi.fileTypes.PlainTextFileType</code> instead.</p></dd><dt id="6795707d_806"  data-expandable="false" >com.intellij.openapi.updateSettings.impl.CheckForUpdateResult class removed</dt><dd><p>Use <code class="code " id="6795707d_809"  >com.intellij.openapi.updateSettings.impl.PlatformUpdates</code> instead.</p></dd><dt id="6795707d_810"  data-expandable="false" >com.intellij.openapi.updateSettings.impl.UpdateStrategy.checkForUpdates() method return type changed from com.intellij.openapi.updateSettings.impl.CheckForUpdateResult to com.intellij.openapi.updateSettings.impl.PlatformUpdates</dt><dd><p>Use <code class="code " id="6795707d_815"  >com.intellij.openapi.updateSettings.impl.PlatformUpdates</code> instead of <code class="code " id="6795707d_816"  >com.intellij.openapi.updateSettings.impl.CheckForUpdateResult</code>.</p></dd><dt id="6795707d_817"  data-expandable="false" >com.intellij.openapi.updateSettings.impl.pluginsAdvertisement.PluginsAdvertiser.Plugin class removed</dt><dd><p>Use <code class="code " id="6795707d_820"  >com.intellij.ide.plugins.advertiser.PluginData</code> instead.</p></dd><dt id="6795707d_821"  data-expandable="false" >com.intellij.ide.plugins.DisabledPluginsState.disablePlugin(PluginId) method removed</dt><dd><p>Use either <code class="code " id="6795707d_824"  >com.intellij.ide.plugins.PluginManagerCore.disablePlugin(PluginId)</code> or <code class="code " id="6795707d_825"  >com.intellij.ide.plugins.PluginEnabler.disablePlugins(Collection)</code> instead.</p></dd><dt id="6795707d_826"  data-expandable="false" >com.intellij.ide.plugins.PluginManagerMain.suggestToEnableInstalledDependantPlugins(PluginEnabler, List) method parameter type changed from com.intellij.ide.plugins.PluginManagerMain.PluginEnabler to com.intellij.ide.plugins.PluginEnabler</dt><dd><p><code class="code " id="6795707d_831"  >com.intellij.ide.plugins.PluginManagerMain.PluginEnabler</code> has been renamed to <code class="code " id="6795707d_832"  >com.intellij.ide.plugins.PluginEnabler</code>.</p></dd><dt id="6795707d_833"  data-expandable="false" >com.intellij.ssh.ui.unified.SshConfigConfigurable.Visibility class removed</dt><dd><p>Use <code class="code " id="6795707d_836"  >com.intellij.ssh.ui.unified.SshConfigVisibility</code> instead.</p></dd><dt id="6795707d_837"  data-expandable="false" >com.intellij.ssh.ui.unified.SshConfigComboBox.reload(PresentableId, SshConfigConfigurable.Visibility) method parameter type changed from com.intellij.ssh.ui.unified.SshConfigConfigurable.Visibility to com.intellij.ssh.ui.unified.SshConfigVisibility</dt><dd><p><code class="code " id="6795707d_842"  >SshConfigConfigurable.Visibility</code> has been renamed to <code class="code " id="6795707d_843"  >SshConfigVisibility</code>.</p></dd><dt id="6795707d_844"  data-expandable="false" >com.intellij.ssh.ui.unified.SshConfigComboBox(Project, Disposable, SshConfigConfigurable.Visibility) constructor parameter type changed from com.intellij.ssh.ui.unified.SshConfigConfigurable.Visibility to com.intellij.ssh.ui.unified.SshConfigVisibility</dt><dd><p><code class="code " id="6795707d_849"  >SshConfigConfigurable.Visibility</code> has been renamed to <code class="code " id="6795707d_850"  >SshConfigVisibility</code>.</p></dd><dt id="6795707d_851"  data-expandable="false" >org.jetbrains.uast.UAnnotated.getAnnotations() method removed</dt><dd><p>Use <code class="code " id="6795707d_854"  >org.jetbrains.uast.UAnnotated.getUAnnotations()</code> instead.</p></dd><dt id="6795707d_855"  data-expandable="false" >org.jetbrains.uast.UAnnotated.getUAnnotations() marked abstract</dt><dd><p>Previously this circularly referenced <code class="code " id="6795707d_858"  >org.jetbrains.uast.UAnnotated.getAnnotations()</code>, which has been removed.</p></dd><dt id="6795707d_859"  data-expandable="false" >com.intellij.openapi.actionSystem.ActionPlaces.isMainMenuOrShortcut(String) method removed</dt><dd><p>Use <code class="code " id="6795707d_862"  >isMainMenuOrActionSearch(String)</code> method instead.</p></dd><dt id="6795707d_863"  data-expandable="false" >Add implementation for com.intellij.openapi.fileEditor.FileEditor.getFile()</dt><dd><p>Implementations should return non-null <code class="code " id="6795707d_866"  >VirtualFile</code> instance.</p></dd></dl></section><section class="chapter"  ><h3 id="performance-testing-plugin-20212" data-toc="performance-testing-plugin-20212"  >Performance Testing Plugin 2021.2</h3><dl id="6795707d_867"  data-style="title-top"  ><dt id="6795707d_868"  data-expandable="false" >com.jetbrains.performancePlugin.CommandProvider.getCommands() method return type changed from java.util.List to java.util.Map</dt><dd><p>Use <code class="code " id="6795707d_873"  >java.util.List</code> instead of <code class="code " id="6795707d_874"  >java.util.Map</code>.</p></dd></dl></section><section class="chapter"  ><h3 id="database-plugin-20212" data-toc="database-plugin-20212"  >Database Plugin 2021.2</h3><dl id="6795707d_875"  data-style="title-top"  ><dt id="6795707d_876"  data-expandable="false" >com.intellij.database.dataSource.DatabaseCredentialsAuthProvider.UserWidget class removed</dt><dd><p>Use <code class="code " id="6795707d_879"  >com.intellij.database.dataSource.DatabaseCredentialsAuthProviderUi.UserWidget</code> instead.</p></dd><dt id="6795707d_880"  data-expandable="false" >com.intellij.database.actions.DdlActions.DeleteProvider1 class removed</dt><dd><p>Use <code class="code " id="6795707d_883"  >com.intellij.database.actions.DbDeleteProvider.getDeleteProvider()</code> instead.</p></dd><dt id="6795707d_884"  data-expandable="false" >com.intellij.database.model.RawConnectionConfig.getEffectiveUrl(Project) method removed</dt><dd><p>Use <code class="code " id="6795707d_887"  >com.intellij.database.model.RawConnectionConfig.getUrl()</code> instead. Or use <code class="code " id="6795707d_888"  >com.intellij.database.dataSource.DatabaseConnectionEstablisher.processInterceptors()</code>.</p></dd></dl></section><section class="chapter"  ><h3 id="github-plugin-20212" data-toc="github-plugin-20212"  >GitHub Plugin 2021.2</h3><dl id="6795707d_889"  data-style="title-top"  ><dt id="6795707d_890"  data-expandable="false" >org.jetbrains.plugins.github.util.GithubAuthData class removed</dt><dd><p>Use <code class="code " id="6795707d_893"  >org.jetbrains.plugins.github.authentication.GithubAuthenticationManager</code> instead.</p></dd><dt id="6795707d_894"  data-expandable="false" >org.jetbrains.plugins.github.util.GithubAuthData$BasicAuth class removed</dt><dd><p>Use <code class="code " id="6795707d_897"  >org.jetbrains.plugins.github.authentication.GithubAuthenticationManager</code> instead.</p></dd><dt id="6795707d_898"  data-expandable="false" >org.jetbrains.plugins.github.util.GithubSettings.getAuthData(GithubAuthData) method removed</dt><dd><p>Use <code class="code " id="6795707d_901"  >org.jetbrains.plugins.github.authentication.GithubAuthenticationManager</code> instead.</p></dd><dt id="6795707d_902"  data-expandable="false" >org.jetbrains.plugins.github.util.GithubSettings.getLogin method removed</dt><dd><p>Use <code class="code " id="6795707d_905"  >org.jetbrains.plugins.github.authentication.GithubAuthenticationManager</code> instead.</p></dd><dt id="6795707d_906"  data-expandable="false" >org.jetbrains.plugins.github.util.GithubSettings.isAuthConfigured method removed</dt><dd><p>Use <code class="code " id="6795707d_909"  >org.jetbrains.plugins.github.authentication.GithubAuthenticationManager</code> instead.</p></dd></dl></section><section class="chapter"  ><h3 id="spring-plugin-20212" data-toc="spring-plugin-20212"  >Spring Plugin 2021.2</h3><dl id="6795707d_910"  data-style="title-top"  ><dt id="6795707d_911"  data-expandable="false" >icons.SpringApiIcons class moved to package com.intellij.spring</dt><dd><p>Use <code class="code " id="6795707d_915"  >com.intellij.spring.SpringApiIcons</code> instead.</p></dd><dt id="6795707d_916"  data-expandable="false" >icons.SpringApiIcons.Gutter class moved to package com.intellij.spring</dt><dd><p>Use <code class="code " id="6795707d_920"  >com.intellij.spring.SpringApiIcons.Gutter</code> instead.</p></dd></dl></section><section class="chapter"  ><h3 id="python-plugin-202121" data-toc="python-plugin-202121"  >Python Plugin 2021.2.1</h3><dl id="6795707d_921"  data-style="title-top"  ><dt id="6795707d_922"  data-expandable="false" >com.jetbrains.python.psi.types.PyTypedDictType.Companion.match(PyTypedDictType, PyDictLiteralExpression, TypeEvalContext) method removed</dt><dd><p>As the result of the refactoring aimed at fixing <a href="https://youtrack.jetbrains.com/issue/PY-48799" id="6795707d_925"   data-external="true" rel="noopener noreferrer" >PY-48799</a>, for dict literals containing only string keys we infer <code class="code " id="6795707d_926"  >PyTypedDictType</code> now, so there's no need to match dict literals with <code class="code " id="6795707d_927"  >TypedDict</code>s. There's a new method for comparing the inferred <code class="code " id="6795707d_928"  >TypedDict</code>s with the given ones: <code class="code " id="6795707d_929"  >com.jetbrains.python.psi.types.PyTypedDictType.Companion.match(PyType, PyTypedDictType, TypeEvalContext)</code>.</p></dd></dl></section></section><section class="chapter"  ><h2 id="20211" data-toc="20211"  >2021.1</h2><section class="chapter"  ><h3 id="intellij-platform-20211" data-toc="intellij-platform-20211"  >IntelliJ Platform 2021.1</h3><dl id="6795707d_930"  data-style="title-top"  ><dt id="6795707d_931"  data-expandable="false" >com.intellij.util.io.PersistentHashMap.isCorrupted method removed</dt><dd><p>The storage checks for corruption automatically, there is no need of any explicit additional checks.</p></dd><dt id="6795707d_934"  data-expandable="false" >com.intellij.lang.StdLanguages.JSPX field removed</dt><dd><p>Add a dependency on the <code class="code " id="6795707d_937"  >com.intellij.jsp</code> plugin and replace the reference with <code class="code " id="6795707d_938"  >com.intellij.lang.jspx.JspxLanguageImpl.INSTANCE</code>.</p></dd><dt id="6795707d_939"  data-expandable="false" >com.intellij.lang.StdLanguages.JSP field removed</dt><dd><p>Add a dependency on the <code class="code " id="6795707d_942"  >com.intellij.jsp</code> plugin and replace the reference with <code class="code " id="6795707d_943"  >com.intellij.lang.jsp.NewJspLanguage.getInstance()</code>.</p></dd><dt id="6795707d_944"  data-expandable="false" >com.intellij.ide.actions.searcheverywhere.SEResultsEqualityProvider.compareItems(alreadyFoundItem) method parameter type changed from SearchEverywhereFoundElementInfo to List<SearchEverywhereFoundElementInfo></dt><dd><p>New API is more abstract which allows to review all already found items before making &quot;deduplication&quot; decision. Also consider implementing <code class="code " id="6795707d_949"  >com.intellij.ide.actions.searcheverywhere.AbstractEqualityProvider</code> instead of <code class="code " id="6795707d_950"  >com.intellij.ide.actions.searcheverywhere.SEResultsEqualityProvider</code>.</p></dd><dt id="6795707d_951"  data-expandable="false" >com.intellij.ide.actions.searcheverywhere.SEResultsEqualityProvider.SEEqualElementsActionType.SKIP field removed</dt><dd><p>Enum class <code class="code " id="6795707d_954"  >SEEqualElementsActionType</code> was converted to sealed class with the same name.</p></dd><dt id="6795707d_955"  data-expandable="false" >com.intellij.ide.actions.searcheverywhere.SEResultsEqualityProvider.SEEqualElementsActionType.DO_NOTHING field removed</dt><dd><p>Enum class <code class="code " id="6795707d_958"  >SEEqualElementsActionType</code> was converted to sealed class with the same name.</p></dd><dt id="6795707d_959"  data-expandable="false" >com.intellij.ide.actions.searcheverywhere.SEResultsEqualityProvider.SEEqualElementsActionType.Replace field removed</dt><dd><p>Enum class <code class="code " id="6795707d_962"  >SEEqualElementsActionType</code> was converted to sealed class with the same name.</p></dd><dt id="6795707d_963"  data-expandable="false" >org.sqlite.SQLiteConfig.setBusyTimeout(String) method parameter type changed from String to int</dt><dd><p>Please use updated sqlite-jdbc API.</p></dd><dt id="6795707d_968"  data-expandable="false" >com.intellij.usages.impl.rules.UsageTypeProvider.getUsageType method PsiElement parameter marked @NotNull</dt><dd><p>This may break source-compatibility with inheritors written in Kotlin if they declare parameter type as nullable.</p></dd><dt id="6795707d_973"  data-expandable="false" >com.jetbrains.performancePlugin.CommandProvider.getCommands(Project) method parameter Project removed</dt><dd><p>Project is now only accessible via <code class="code " id="6795707d_977"  >com.intellij.openapi.ui.playback.PlaybackContext.getProject()</code> since it may change during script execution.</p></dd><dt id="6795707d_978"  data-expandable="false" >JSON Widget suppressor com.intellij.json.jsonWidgetSuppressor EP</dt><dd><p>Override new method <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/json/src/com/jetbrains/jsonSchema/extension/JsonWidgetSuppressor.java" id="6795707d_981"   data-external="true" rel="noopener noreferrer" ><code class="code " id="6795707d_982"  >JsonWidgetSuppressor.isCandidateForSuppress(VirtualFile, Project)</code></a> for quick check in EDT before <code class="code " id="6795707d_983"  >suppressSwitcherWidget()</code> is called on background thread.</p></dd></dl></section><section class="chapter"  ><h3 id="http-client-plugin-20211" data-toc="http-client-plugin-20211"  >HTTP Client Plugin 2021.1</h3><dl id="6795707d_984"  data-style="title-top"  ><dt id="6795707d_985"  data-expandable="false" >com.intellij.ws.rest.client package removed</dt><dd><p>Replaced by <code class="code " id="6795707d_988"  >com.intellij.httpClient.execution</code> in HTTP Client plugin.</p></dd><dt id="6795707d_989"  data-expandable="false" >com.intellij.ws.actions package removed</dt><dd><p>Replaced by <code class="code " id="6795707d_992"  >com.intellij.httpClient.actions</code> in HTTP Client plugin.</p></dd><dt id="6795707d_993"  data-expandable="false" >com.intellij.ws.converters package removed</dt><dd><p>Replaced by <code class="code " id="6795707d_996"  >com.intellij.httpClient.converters</code> in HTTP Client plugin.</p></dd><dt id="6795707d_997"  data-expandable="false" >com.intellij.ws.http.request package removed</dt><dd><p>Replaced by <code class="code " id="6795707d_1000"  >com.intellij.httpClient.http.request</code> in HTTP Client plugin.</p></dd></dl></section><section class="chapter"  ><h3 id="java-uml-plugin-20211" data-toc="java-uml-plugin-20211"  >Java UML Plugin 2021.1</h3><p id="6795707d_1001" >Rename of packages to <code class="code " id="6795707d_1002"  >.java.</code> specific variants</p><div class="table-wrapper" ><table class=" wide" id="6795707d_1003"  ><thead><tr class=" ijRowHead" id="6795707d_1004" ><th id="6795707d_1005"    ><p>Old package name</p></th><th id="6795707d_1006"    ><p>New package name</p></th></tr></thead><tbody ><tr class="" id="6795707d_1007" ><td id="6795707d_1008"    ><p><code class="code " id="6795707d_1009"  >com.intellij.uml.utils</code></p></td><td id="6795707d_1010"    ><p><code class="code " id="6795707d_1011"  >com.intellij.uml.java.utils</code></p></td></tr><tr class="" id="6795707d_1012" ><td id="6795707d_1013"    ><p><code class="code " id="6795707d_1014"  >com.intellij.uml.project</code></p></td><td id="6795707d_1015"    ><p><code class="code " id="6795707d_1016"  >com.intellij.uml.java.project</code></p></td></tr><tr class="" id="6795707d_1017" ><td id="6795707d_1018"    ><p><code class="code " id="6795707d_1019"  >com.intellij.uml.jigsaw</code></p></td><td id="6795707d_1020"    ><p><code class="code " id="6795707d_1021"  >com.intellij.uml.java.jigsaw</code></p></td></tr></tbody ></table ></div></section><section class="chapter"  ><h3 id="kotlin-plugin-20211" data-toc="kotlin-plugin-20211"  >Kotlin Plugin 2021.1</h3><dl id="6795707d_1022"  data-style="title-top"  ><dt id="6795707d_1023"  data-expandable="false" >org.jetbrains.kotlin.idea.refactoring.changeSignature.KotlinChangeInfo(KotlinMethodDescriptor, String, KotlinTypeInfo, Visibility, List, KotlinParameterInfo, PsiElement, Collection) constructor parameter type changed from org.jetbrains.kotlin.descriptors.Visibility to org.jetbrains.kotlin.descriptors.DescriptorVisibility</dt><dd><p><code class="code " id="6795707d_1028"  >Visibility</code> has been renamed to <code class="code " id="6795707d_1029"  >DescriptorVisibility</code>.</p></dd></dl></section><section class="chapter"  ><h3 id="go-plugin-20211" data-toc="go-plugin-20211"  >Go Plugin 2021.1</h3><dl id="6795707d_1030"  data-style="title-top"  ><dt id="6795707d_1031"  data-expandable="false" >com.goide.sdk.combobox.GoSdkChooserCombo.getSdk method moved to the superclass</dt><dd><p>Recompile the dependant code.</p></dd></dl></section><section class="chapter"  ><h3 id="coffeescript-plugin-20211" data-toc="coffeescript-plugin-20211"  >CoffeeScript Plugin 2021.1</h3><dl id="6795707d_1034"  data-style="title-top"  ><dt id="6795707d_1035"  data-expandable="false" >icons.CoffeescriptIcons class renamed to org.coffeescript.CoffeescriptIcons</dt><dd><p>To support dynamic plugins.</p></dd></dl></section></section><div class="last-modified"> Last modified: 29 九月 2022</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="api-changes-list-2022.html">Incompatible Changes in IntelliJ Platform and Plugins API 2022.*</a>   <a class="navigation-links__next" href="api-changes-list-2020.html">Incompatible Changes in IntelliJ Platform and Plugins API 2020.*</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/storage/help-app/v5/app.js"></script></body></html>