<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2022-09-25T22:17:41.5707189"><meta name="build-number" content="${buildNumber}">    <meta name="keywords" content="">  <title>Incompatible Changes in IntelliJ Platform and Plugins API 2021.* | IntelliJ Platform Plugin SDK</title><script id="virtual-toc-data" type="application/json">[{"id":"20213","level":0,"title":"2021.3","anchor":"#20213"},{"id":"20212","level":0,"title":"2021.2","anchor":"#20212"},{"id":"20211","level":0,"title":"2021.1","anchor":"#20211"}]</script>   <link href="https://resources.jetbrains.com/storage/help-app/v5/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Incompatible Changes in IntelliJ Platform and Plugins API 2021.* | IntelliJ Platform Plugin SDK"/><meta property="og:description" content=""/><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"/><meta property="og:site_name" content="IntelliJ Platform Plugin SDK Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="https://plugins.jetbrains.com/docs/intellij/api-changes-list-2021.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@JBPlatform"><meta name="twitter:title" content="Incompatible Changes in IntelliJ Platform and Plugins API 2021.* | IntelliJ Platform Plugin SDK"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@JBPlatform"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://plugins.jetbrains.com/docs/intellij/api-changes-list-2021.html#webpage", "url": "https://plugins.jetbrains.com/docs/intellij/api-changes-list-2021.html", "name": "Incompatible Changes in IntelliJ Platform and Plugins API 2021.* | IntelliJ Platform Plugin SDK", "description": "", "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://plugins.jetbrains.com/docs/intellij/#website", "url": "https://plugins.jetbrains.com/docs/intellij/", "name": "IntelliJ Platform Plugin SDK Help" }</script><!-- End Schema.org --></head>    <body data-id="api_changes_list_2021.md" data-main-title="Incompatible Changes in IntelliJ Platform and Plugins API 2021.*" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Appendix II — API and Compatibility///api_changes_list.md|Incompatible API Changes"  data-edit-url="https://github.com/JetBrains/intellij-sdk-docs/edit/main/reference_guide/api_changes_list_2021.md"  >  <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ Platform Plugin SDK  Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">      </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="api_changes_list_2021.md" id="api_changes_list_2021.md"  >Incompatible Changes in IntelliJ Platform and Plugins API 2021.*</h1><p id="bbdf06a_1" >Please see <a href="verifying-plugin-compatibility.html" id="bbdf06a_2" data-tooltip="确保兼容性检查的工具"  >验证插件兼容性</a> on how to use Plugin Verifier and IDE inspections to check such problems.</p><aside data-type="tip" class="prompt" data-title="" id="bbdf06a_3" ><p id="bbdf06a_4" >Changes from API marked with <code class="code " id="bbdf06a_5"  >@Deprecated(forRemoval=true)</code> or any of <a href="https://github.com/JetBrains/java-annotations/blob/master/common/src/main/java/org/jetbrains/annotations/ApiStatus.java" id="bbdf06a_6"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bbdf06a_7"  >org.jetbrains.annotations.ApiStatus</code></a> <code class="code " id="bbdf06a_8"  >@Experimental</code>, <code class="code " id="bbdf06a_9"  >@ScheduledForRemoval</code>, or <code class="code " id="bbdf06a_10"  >@Internal</code> are not listed here, as incompatible changes are to be expected.</p><p id="bbdf06a_11" >For API annotated with <code class="code " id="bbdf06a_12"  >ApiStatus.@Internal</code>, see <a href="api-internal.html" id="bbdf06a_13" data-tooltip="Lists private API annotated with ApiStatus.Internal and corresponding replacement."  >Internal API Migration</a> for more details and replacements.</p></aside><aside data-type="tip" class="prompt" data-title="" id="bbdf06a_14" ><p id="bbdf06a_15" >Java 11 is required (<a href="https://blog.jetbrains.com/platform/2020/09/intellij-project-migrates-to-java-11/" id="bbdf06a_16"   data-external="true" rel="noopener noreferrer" >blog post</a>) when targeting 2020.3 and later only.</p><p id="bbdf06a_17" >Please make sure to always upgrade <code class="code " id="bbdf06a_18"  >gradle-intellij-plugin</code> to the latest version <a href="https://github.com/jetbrains/gradle-intellij-plugin/releases" id="bbdf06a_19"   data-external="true" rel="noopener noreferrer" ><img alt="GitHub Release" title="GitHub Release" id="bbdf06a_20" src="https://img.shields.io/github/release/jetbrains/gradle-intellij-plugin.svg?style=flat-square"  class="inline-icon-"   /></a></p></aside><p id="bbdf06a_21" ><span class="emphasis" id="bbdf06a_22" >Early Access Program</span> (EAP) releases of upcoming versions are available <a href="https://eap.jetbrains.com" id="bbdf06a_23"   data-external="true" rel="noopener noreferrer" >here</a>.</p><section class="chapter"  ><h2 id="20213" data-toc="20213"  >2021.3</h2><section class="chapter"  ><h3 id="intellij-platform-20213" data-toc="intellij-platform-20213"  >IntelliJ Platform 2021.3</h3><dl id="bbdf06a_24"  data-style="title-top"  ><dt id="bbdf06a_25"  data-expandable="false" >Running tests fails with jarFiles is not set for [...] or Created extension classloader is not equal to plugin's one</dt><dd><p>Set system property <code class="code " id="bbdf06a_29"  >idea.force.use.core.classloader</code> to <code class="code " id="bbdf06a_30"  >true</code>.</p></dd><dt id="bbdf06a_31"  data-expandable="false" >Running tests fails using Gradle setup</dt><dd><p>Please use <a href="https://youtrack.jetbrains.com/issue/IDEA-278926#focus=Comments-27-5561012.0-0" id="bbdf06a_33"   data-external="true" rel="noopener noreferrer" >workarounds</a>.</p></dd><dt id="bbdf06a_34"  data-expandable="false" >com.intellij.ui.mac.MacMessages.showMessageDialog(String, String, String[], boolean, Window, int, int, DialogWrapper.DoNotAskOption) method removed</dt><dd><p>Use <code class="code " id="bbdf06a_37"  >com.intellij.ui.mac.MacMessages.showMessageDialog(String, String, String[], boolean, Window, int, int, DoNotAskOption)</code> instead.</p></dd><dt id="bbdf06a_38"  data-expandable="false" >com.intellij.openapi.ui.MessageDialogBuilder.doNotAsk(DialogWrapper.DoNotAskOption) method removed</dt><dd><p>Use <code class="code " id="bbdf06a_41"  >com.intellij.openapi.ui.MessageDialogBuilder.doNotAsk(DoNotAskOption)</code> instead.</p></dd><dt id="bbdf06a_42"  data-expandable="false" >com.intellij.ide.util.projectWizard.WizardContext.getWizard() method removed</dt><dd><p>Use <code class="code " id="bbdf06a_45"  >com.intellij.ide.util.projectWizard.WizardContext.getUserData(AbstractWizard.KEY)</code> instead.</p></dd><dt id="bbdf06a_46"  data-expandable="false" >com.intellij.openapi.ui.TextComponentAccessor.TEXT_FIELD_WITH_HISTORY_WHOLE_TEXT field removed</dt><dd><p>Use <code class="code " id="bbdf06a_49"  >com.intellij.openapi.ui.TextComponentAccessors.TEXT_FIELD_WITH_HISTORY_WHOLE_TEXT</code> instead.</p></dd><dt id="bbdf06a_50"  data-expandable="false" >com.intellij.execution.process.ColoredOutputTypeRegistry.getAnsiColorKey(int) method removed</dt><dd><p>Use <code class="code " id="bbdf06a_53"  >com.intellij.execution.process.ColoredOutputTypeRegistryImpl.getAnsiColorKey(int)</code> instead.</p></dd><dt id="bbdf06a_54"  data-expandable="false" >com.intellij.diagnostic.PerformanceWatcher.Snapshot class now interface</dt><dd><p>Recompile the dependant code or use <code class="code " id="bbdf06a_57"  >com.intellij.diagnostic.PerformanceWatcherImpl.SnapshotImpl</code> instead.</p></dd><dt id="bbdf06a_58"  data-expandable="false" >com.intellij.openapi.fileEditor.impl.EditorTabPresentationUtil.getEditorTabTitle(Project, VirtualFile, EditorWindow) method parameter EditorWindow removed</dt><dd><p>This parameter was never needed, but led to code coupling.</p></dd><dt id="bbdf06a_62"  data-expandable="false" >com.intellij.openapi.fileEditor.impl.EditorTabPresentationUtil.getUniqueEditorTabTitle(Project, VirtualFile, EditorWindow) method parameter EditorWindow removed</dt><dd><p>This parameter was never needed, but led to code coupling.</p></dd><dt id="bbdf06a_66"  data-expandable="false" >com.intellij.openapi.fileEditor.impl.EditorTabTitleProvider.getEditorTabTitle(Project, VirtualFile, EditorWindow) method parameter EditorWindow removed</dt><dd><p>This parameter was never needed, but led to code coupling.</p></dd><dt id="bbdf06a_70"  data-expandable="false" >Constructor com.intellij.codeInsight.hints.settings.InlayProviderSettingsModel changed</dt><dd><p>Added <code class="code " id="bbdf06a_73"  >Language</code> parameter.</p></dd><dt id="bbdf06a_74"  data-expandable="false" >com.intellij.codeInsight.hints.settings.InlayProviderSettingsModel.getDescription() abstract method added</dt><dd><p>Provides short description.</p></dd><dt id="bbdf06a_77"  data-expandable="false" >com.intellij.codeInsight.hints.settings.InlayProviderSettingsModel.getCaseDescription(ImmediateConfigurable.Case) abstract method added</dt><dd><p>Provides description text for given case.</p></dd><dt id="bbdf06a_80"  data-expandable="false" >com.intellij.codeInsight.hints.settings.InlayProviderSettingsModel.getCasePreview(ImmediateConfigurable.Case) abstract method added</dt><dd><p>Provides preview text for given case.</p></dd><dt id="bbdf06a_83"  data-expandable="false" >com.intellij.openapi.wm.ToolWindow.getEmptyText() method removed</dt><dd><p>Please safe-cast and use <code class="code " id="bbdf06a_86"  >com.intellij.openapi.wm.ex.ToolWindowEx.getEmptyText()</code>.</p></dd><dt id="bbdf06a_87"  data-expandable="false" >com.intellij.openapi.actionSystem.ex.CustomComponentAction#createCustomComponent(Presentation, String, DataContext) method removed</dt><dd><p>Please use <code class="code " id="bbdf06a_90"  >createCustomComponent(Presentation, String)</code>, one shall not depend on <code class="code " id="bbdf06a_91"  >dataContext</code> there.</p></dd><dt id="bbdf06a_92"  data-expandable="false" >com.intellij.ui.EditorTextField.addNotify() method marked final</dt><dd><p>Please use <code class="code " id="bbdf06a_95"  >addSettingsProvider(EditorSettingsProvider)</code> to configure <code class="code " id="bbdf06a_96"  >Editor</code> as editor creation may be postponed now.</p></dd></dl></section><section class="chapter"  ><h3 id="vcs-log-20213" data-toc="vcs-log-20213"  >VCS Log 2021.3</h3><dl id="bbdf06a_97"  data-style="title-top"  ><dt id="bbdf06a_98"  data-expandable="false" >com.intellij.vcs.log.ui.frame.CommitPanel class removed</dt><dd><p>Removed unnecessary inheritance.</p></dd></dl></section><section class="chapter"  ><h3 id="git-plugin-20213" data-toc="git-plugin-20213"  >Git Plugin 2021.3</h3><dl id="bbdf06a_101"  data-style="title-top"  ><dt id="bbdf06a_102"  data-expandable="false" >git4idea.ui.branch.GitBranchActionsUtilKt.checkoutOrReset(Project, List, String, GitNewBranchOptions) method removed</dt><dd><p>Method was dropped to avoid supporting outdated behavior.</p></dd><dt id="bbdf06a_105"  data-expandable="false" >git4idea.ui.branch.GitBranchActionsUtilKt.createNewBranch(Project, List, String, GitNewBranchOptions) method removed</dt><dd><p>Method was dropped to avoid supporting outdated behavior.</p></dd></dl></section><section class="chapter"  ><h3 id="python-plugin-20213" data-toc="python-plugin-20213"  >Python Plugin 2021.3</h3><dl id="bbdf06a_108"  data-style="title-top"  ><dt id="bbdf06a_109"  data-expandable="false" >com.jetbrains.python.console.PydevConsoleRunnerImpl(Project, Sdk, PyConsoleType, String, Map<String, String>, PyConsoleOptions.PyConsoleSettings, Consumer<? super String>, String[]) constructor parameter type com.intellij.util.Consumer<? super String> removed</dt><dd><p>There is no need to pass a Restart action as a constructor parameter, it should be created inside the <code class="code " id="bbdf06a_113"  >com.jetbrains.python.console.PydevConsoleRunnerImpl#createRerunAction</code> method</p></dd></dl></section><section class="chapter"  ><h3 id="intellij-idea-ultimate-20213" data-toc="intellij-idea-ultimate-20213"  >IntelliJ IDEA Ultimate 2021.3</h3><section class="chapter"  ><h4 id="miscellaneous" data-toc="miscellaneous"  >Miscellaneous</h4><dl id="bbdf06a_114"  data-style="title-top"  ><dt id="bbdf06a_115"  data-expandable="false" >com.intellij.util.JavaeeIcons class renamed to com.intellij.javaee.JavaeeIcons</dt><dd><p>To support dynamic plugins.</p></dd><dt id="bbdf06a_119"  data-expandable="false" >icons.RestClientIcons class renamed to com.intellij.httpClient.RestClientIcons</dt><dd><p>To support dynamic plugins.</p></dd></dl></section><section class="chapter"  ><h4 id="expression-language-el-jsp" data-toc="expression-language-el-jsp"  >Expression Language (EL) / JSP</h4><p id="bbdf06a_123" >Expression Language (EL) was extracted from <code class="code " id="bbdf06a_124"  >com.intellij.jsp</code> (<span class="emphasis" id="bbdf06a_125" >&quot;Java Server Pages (JSP)&quot;</span>) plugin to new <code class="code " id="bbdf06a_126"  >com.intellij.javaee.el</code> (<span class="emphasis" id="bbdf06a_127" >Java EE: Expression Language (EL)</span>) plugin. <code class="code " id="bbdf06a_128"  >com.intellij.jsp</code> has mandatory dependency on <code class="code " id="bbdf06a_129"  >com.intellij.javaee.el</code>. 10+ Ultimate plugins (Spring, Java EE, Frameworks) now have optional dependency on <code class="code " id="bbdf06a_130"  >com.intellij.javaee.el</code> plugin (mandatory dependency to <code class="code " id="bbdf06a_131"  >com.intellij.jsp</code> was removed).</p><dl id="bbdf06a_132"  data-style="title-top"  ><dt id="bbdf06a_133"  data-expandable="false" >com.intellij.jsp.el.impl.ELResolveUtil.VariableInfoData class renamed to com.intellij.jsp.el.impl.JspELResolveUtil.VariableInfoData</dt><dd><p>To support dynamic plugins.</p></dd><dt id="bbdf06a_137"  data-expandable="false" >com.intellij.jsp.el.impl.ELResolveUtil class renamed to com.intellij.javaee.el.util.ELResolveUtil</dt><dd><p>Use new class from <code class="code " id="bbdf06a_141"  >com.intellij.javaee.el</code> plugin instead or <code class="code " id="bbdf06a_142"  >com.intellij.jsp.el.impl.JspELResolveUtil</code> from <code class="code " id="bbdf06a_143"  >com.intellij.jsp</code> plugin.</p></dd><dt id="bbdf06a_144"  data-expandable="false" >com.intellij.jsp.el.impl.ELElementProcessor class renamed to com.intellij.javaee.el.ELElementProcessor</dt><dd><p>Use new class from <code class="code " id="bbdf06a_148"  >com.intellij.javaee.el</code> plugin instead.</p></dd><dt id="bbdf06a_149"  data-expandable="false" >com.intellij.psi.jsp.el.ELElementTypes class renamed to com.intellij.javaee.el.psi.ELElementTypes</dt><dd><p>Use new class from <code class="code " id="bbdf06a_153"  >com.intellij.javaee.el</code> plugin instead.</p></dd><dt id="bbdf06a_154"  data-expandable="false" >com.intellij.psi.jsp.el.ELLiteralExpression class renamed to com.intellij.javaee.el.psi.ELLiteralExpression</dt><dd><p>Use new class from <code class="code " id="bbdf06a_158"  >com.intellij.javaee.el</code> plugin instead.</p></dd><dt id="bbdf06a_159"  data-expandable="false" >com.intellij.psi.jsp.el.ELElementType class renamed to com.intellij.javaee.el.psi.ELElementType</dt><dd><p>Use new class from <code class="code " id="bbdf06a_163"  >com.intellij.javaee.el</code> plugin instead.</p></dd><dt id="bbdf06a_164"  data-expandable="false" >com.intellij.psi.jsp.el.ELExpressionHolder class renamed to com.intellij.javaee.el.psi.ELExpressionHolder</dt><dd><p>Use new class from <code class="code " id="bbdf06a_168"  >com.intellij.javaee.el</code> plugin instead.</p></dd><dt id="bbdf06a_169"  data-expandable="false" >com.intellij.jsp.el.impl.ElVariablesProvider class renamed to com.intellij.javaee.el.providers.ElVariablesProvider</dt><dd><p>Use new class from <code class="code " id="bbdf06a_173"  >com.intellij.javaee.el</code> plugin instead.</p></dd><dt id="bbdf06a_174"  data-expandable="false" >com.intellij.psi.jsp.el.ELVariable class renamed to com.intellij.javaee.el.psi.ELVariable</dt><dd><p>Use new class from <code class="code " id="bbdf06a_178"  >com.intellij.javaee.el</code> plugin instead.</p></dd><dt id="bbdf06a_179"  data-expandable="false" >com.intellij.psi.jsp.el.ElLiteralCustomReferenceProvider class renamed to com.intellij.javaee.el.psi.ElLiteralCustomReferenceProvider</dt><dd><p>Use new class from <code class="code " id="bbdf06a_183"  >com.intellij.javaee.el</code> plugin instead.</p></dd><dt id="bbdf06a_184"  data-expandable="false" >com.intellij.psi.jsp.JspImplicitVariable class renamed to com.intellij.javaee.el.util.ELImplicitVariable</dt><dd><p>Use new class from <code class="code " id="bbdf06a_188"  >com.intellij.javaee.el</code> plugin instead.</p></dd></dl></section><section class="chapter"  ><h4 id="persistence" data-toc="persistence"  >Persistence</h4><dl id="bbdf06a_189"  data-style="title-top"  ><dt id="bbdf06a_190"  data-expandable="false" >Package com.intellij.javaee.model.xml.persistence renamed to com.intellij.jpa.model.xml.persistence</dt><dd><p>To support dynamic plugins.</p></dd></dl></section><section class="chapter"  ><h4 id="application-servers" data-toc="application-servers"  >Application Servers</h4><p id="bbdf06a_194" >Various package renames to support dynamic plugins</p><div class="table-wrapper" ><table class=" wide" id="bbdf06a_195"  ><thead><tr class=" ijRowHead" id="bbdf06a_196" ><th id="bbdf06a_197"    ><p>Old package name</p></th><th id="bbdf06a_198"    ><p>New package name</p></th></tr></thead><tbody ><tr class="" id="bbdf06a_199" ><td id="bbdf06a_200"    ><p><code class="code " id="bbdf06a_201"  >com.intellij.javaee.serverInstances</code></p></td><td id="bbdf06a_202"    ><p><code class="code " id="bbdf06a_203"  >com.intellij.javaee.appServers.serverInstances</code></p></td></tr><tr class="" id="bbdf06a_204" ><td id="bbdf06a_205"    ><p><code class="code " id="bbdf06a_206"  >com.intellij.javaee.appServerIntegrations</code></p></td><td id="bbdf06a_207"    ><p><code class="code " id="bbdf06a_208"  >com.intellij.javaee.appServers.appServerIntegrations</code></p></td></tr><tr class="" id="bbdf06a_209" ><td id="bbdf06a_210"    ><p><code class="code " id="bbdf06a_211"  >com.intellij.javaee.deployment</code></p></td><td id="bbdf06a_212"    ><p><code class="code " id="bbdf06a_213"  >com.intellij.javaee.appServers.deployment</code></p></td></tr><tr class="" id="bbdf06a_214" ><td id="bbdf06a_215"    ><p><code class="code " id="bbdf06a_216"  >com.intellij.javaee.run</code></p></td><td id="bbdf06a_217"    ><p><code class="code " id="bbdf06a_218"  >com.intellij.javaee.appServers.run</code></p></td></tr></tbody ></table ></div><dl id="bbdf06a_219"  data-style="title-top"  ><dt id="bbdf06a_220"  data-expandable="false" >com.intellij.javaee.deployment.DeploymentModel class renamed to com.intellij.javaee.appServers.deployment.DeploymentModel</dt><dd><p>To support dynamic plugins.</p></dd><dt id="bbdf06a_224"  data-expandable="false" >com.intellij.javaee.deployment.DeploymentSource class renamed to com.intellij.javaee.appServers.deployment.DeploymentSource</dt><dd><p>To support dynamic plugins.</p></dd><dt id="bbdf06a_228"  data-expandable="false" >com.intellij.javaee.deployment.DeploymentProvider class renamed to com.intellij.javaee.appServers.deployment.DeploymentProvider</dt><dd><p>To support dynamic plugins.</p></dd><dt id="bbdf06a_232"  data-expandable="false" >com.intellij.javaee.openapi.ex.AppServerIntegrationsManager class renamed to com.intellij.javaee.appServers.openapi.ex.AppServerIntegrationsManager</dt><dd><p>To support dynamic plugins.</p></dd><dt id="bbdf06a_236"  data-expandable="false" >com.intellij.javaee.appServerIntegrations.AppServerIntegration class renamed to com.intellij.javaee.appServers.appServerIntegrations.AppServerIntegration</dt><dd><p>To support dynamic plugins.</p></dd><dt id="bbdf06a_240"  data-expandable="false" >com.intellij.javaee.appServerIntegrations.ApplicationServerPersistentData class renamed to com.intellij.javaee.appServers.appServerIntegrations.ApplicationServerPersistentData</dt><dd><p>To support dynamic plugins.</p></dd><dt id="bbdf06a_244"  data-expandable="false" >com.intellij.javaee.facet.JavaeeFrameworkSupportInfoCollector class renamed to com.intellij.javaee.appServers.facet.JavaeeFrameworkSupportInfoCollector</dt><dd><p>To support dynamic plugins.</p></dd><dt id="bbdf06a_248"  data-expandable="false" >com.intellij.javaee.appServerIntegrations.ApplicationServer class renamed to com.intellij.javaee.appServers.appServerIntegrations.ApplicationServer</dt><dd><p>To support dynamic plugins.</p></dd><dt id="bbdf06a_252"  data-expandable="false" >com.intellij.javaee.appServerIntegrations.ApplicationServerHelper class renamed to com.intellij.javaee.appServers.appServerIntegrations.ApplicationServerHelper</dt><dd><p>To support dynamic plugins.</p></dd><dt id="bbdf06a_256"  data-expandable="false" >com.intellij.javaee.serverInstances.J2EEServerInstance class renamed to com.intellij.javaee.appServers.serverInstances.J2EEServerInstance</dt><dd><p>To support dynamic plugins.</p></dd><dt id="bbdf06a_260"  data-expandable="false" >com.intellij.javaee.run.configuration.CommonModel class renamed to com.intellij.javaee.appServers.run.configuration.CommonModel</dt><dd><p>To support dynamic plugins.</p></dd><dt id="bbdf06a_264"  data-expandable="false" >com.intellij.javaee.run.localRun.ExecutableObjectStartupPolicy class renamed to com.intellij.javaee.appServers.run.localRun.ExecutableObjectStartupPolicy</dt><dd><p>To support dynamic plugins.</p></dd></dl></section></section><section class="chapter"  ><h3 id="database-plugin-20213" data-toc="database-plugin-20213"  >Database Plugin 2021.3</h3><dl id="bbdf06a_268"  data-style="title-top"  ><dt id="bbdf06a_269"  data-expandable="false" >com.intellij.database.model.ModelLightCopierUtils class removed</dt><dd><p>Internal class not to be used by 3rd party.</p></dd></dl></section></section><section class="chapter"  ><h2 id="20212" data-toc="20212"  >2021.2</h2><section class="chapter"  ><h3 id="intellij-platform-20212" data-toc="intellij-platform-20212"  >IntelliJ Platform 2021.2</h3><dl id="bbdf06a_272"  data-style="title-top"  ><dt id="bbdf06a_273"  data-expandable="false" >com.intellij.openapi.editor.impl.event.DocumentEventImpl.translateLineViaDiff(int) method removed</dt><dd><p>Use persistent range markers instead, see <code class="code " id="bbdf06a_276"  >com.intellij.openapi.editor.Document.createRangeMarker(int, int, boolean)</code> with <code class="code " id="bbdf06a_277"  >surviveOnExternalChange=true</code>.</p></dd><dt id="bbdf06a_278"  data-expandable="false" >com.intellij.openapi.editor.impl.event.DocumentEventImpl.translateLineViaDiffStrict(int) method removed</dt><dd><p>Use persistent range markers instead, see <code class="code " id="bbdf06a_281"  >com.intellij.openapi.editor.Document.createRangeMarker(int, int, boolean)</code> with <code class="code " id="bbdf06a_282"  >surviveOnExternalChange=true</code>.</p></dd><dt id="bbdf06a_283"  data-expandable="false" >com.intellij.openapi.file.exclude.EnforcedPlainTextFileType class removed</dt><dd><p>Use <code class="code " id="bbdf06a_286"  >com.intellij.openapi.fileTypes.PlainTextFileType</code> instead.</p></dd><dt id="bbdf06a_287"  data-expandable="false" >com.intellij.openapi.updateSettings.impl.CheckForUpdateResult class removed</dt><dd><p>Use <code class="code " id="bbdf06a_290"  >com.intellij.openapi.updateSettings.impl.PlatformUpdates</code> instead.</p></dd><dt id="bbdf06a_291"  data-expandable="false" >com.intellij.openapi.updateSettings.impl.UpdateStrategy.checkForUpdates() method return type changed from com.intellij.openapi.updateSettings.impl.CheckForUpdateResult to com.intellij.openapi.updateSettings.impl.PlatformUpdates</dt><dd><p>Use <code class="code " id="bbdf06a_296"  >com.intellij.openapi.updateSettings.impl.PlatformUpdates</code> instead of <code class="code " id="bbdf06a_297"  >com.intellij.openapi.updateSettings.impl.CheckForUpdateResult</code>.</p></dd><dt id="bbdf06a_298"  data-expandable="false" >com.intellij.openapi.updateSettings.impl.pluginsAdvertisement.PluginsAdvertiser.Plugin class removed</dt><dd><p>Use <code class="code " id="bbdf06a_301"  >com.intellij.ide.plugins.advertiser.PluginData</code> instead.</p></dd><dt id="bbdf06a_302"  data-expandable="false" >com.intellij.ide.plugins.DisabledPluginsState.disablePlugin(PluginId) method removed</dt><dd><p>Use either <code class="code " id="bbdf06a_305"  >com.intellij.ide.plugins.PluginManagerCore.disablePlugin(PluginId)</code> or <code class="code " id="bbdf06a_306"  >com.intellij.ide.plugins.PluginEnabler.disablePlugins(Collection)</code> instead.</p></dd><dt id="bbdf06a_307"  data-expandable="false" >com.intellij.ide.plugins.PluginManagerMain.suggestToEnableInstalledDependantPlugins(PluginEnabler, List) method parameter type changed from com.intellij.ide.plugins.PluginManagerMain.PluginEnabler to com.intellij.ide.plugins.PluginEnabler</dt><dd><p><code class="code " id="bbdf06a_312"  >com.intellij.ide.plugins.PluginManagerMain.PluginEnabler</code> has been renamed to <code class="code " id="bbdf06a_313"  >com.intellij.ide.plugins.PluginEnabler</code>.</p></dd><dt id="bbdf06a_314"  data-expandable="false" >com.intellij.ssh.ui.unified.SshConfigConfigurable.Visibility class removed</dt><dd><p>Use <code class="code " id="bbdf06a_317"  >com.intellij.ssh.ui.unified.SshConfigVisibility</code> instead.</p></dd><dt id="bbdf06a_318"  data-expandable="false" >com.intellij.ssh.ui.unified.SshConfigComboBox.reload(PresentableId, SshConfigConfigurable.Visibility) method parameter type changed from com.intellij.ssh.ui.unified.SshConfigConfigurable.Visibility to com.intellij.ssh.ui.unified.SshConfigVisibility</dt><dd><p><code class="code " id="bbdf06a_323"  >SshConfigConfigurable.Visibility</code> has been renamed to <code class="code " id="bbdf06a_324"  >SshConfigVisibility</code>.</p></dd><dt id="bbdf06a_325"  data-expandable="false" >com.intellij.ssh.ui.unified.SshConfigComboBox(Project, Disposable, SshConfigConfigurable.Visibility) constructor parameter type changed from com.intellij.ssh.ui.unified.SshConfigConfigurable.Visibility to com.intellij.ssh.ui.unified.SshConfigVisibility</dt><dd><p><code class="code " id="bbdf06a_330"  >SshConfigConfigurable.Visibility</code> has been renamed to <code class="code " id="bbdf06a_331"  >SshConfigVisibility</code>.</p></dd><dt id="bbdf06a_332"  data-expandable="false" >org.jetbrains.uast.UAnnotated.getAnnotations() method removed</dt><dd><p>Use <code class="code " id="bbdf06a_335"  >org.jetbrains.uast.UAnnotated.getUAnnotations()</code> instead.</p></dd><dt id="bbdf06a_336"  data-expandable="false" >org.jetbrains.uast.UAnnotated.getUAnnotations() marked abstract</dt><dd><p>Previously this circularly referenced <code class="code " id="bbdf06a_339"  >org.jetbrains.uast.UAnnotated.getAnnotations()</code>, which has been removed.</p></dd><dt id="bbdf06a_340"  data-expandable="false" >com.intellij.openapi.actionSystem.ActionPlaces.isMainMenuOrShortcut(String) method removed</dt><dd><p>Use <code class="code " id="bbdf06a_343"  >isMainMenuOrActionSearch(String)</code> method instead.</p></dd><dt id="bbdf06a_344"  data-expandable="false" >Add implementation for com.intellij.openapi.fileEditor.FileEditor.getFile()</dt><dd><p>Implementations should return non-null <code class="code " id="bbdf06a_347"  >VirtualFile</code> instance.</p></dd></dl></section><section class="chapter"  ><h3 id="performance-testing-plugin-20212" data-toc="performance-testing-plugin-20212"  >Performance Testing Plugin 2021.2</h3><dl id="bbdf06a_348"  data-style="title-top"  ><dt id="bbdf06a_349"  data-expandable="false" >com.jetbrains.performancePlugin.CommandProvider.getCommands() method return type changed from java.util.List to java.util.Map</dt><dd><p>Use <code class="code " id="bbdf06a_354"  >java.util.List</code> instead of <code class="code " id="bbdf06a_355"  >java.util.Map</code>.</p></dd></dl></section><section class="chapter"  ><h3 id="database-plugin-20212" data-toc="database-plugin-20212"  >Database Plugin 2021.2</h3><dl id="bbdf06a_356"  data-style="title-top"  ><dt id="bbdf06a_357"  data-expandable="false" >com.intellij.database.dataSource.DatabaseCredentialsAuthProvider.UserWidget class removed</dt><dd><p>Use <code class="code " id="bbdf06a_360"  >com.intellij.database.dataSource.DatabaseCredentialsAuthProviderUi.UserWidget</code> instead.</p></dd><dt id="bbdf06a_361"  data-expandable="false" >com.intellij.database.actions.DdlActions.DeleteProvider1 class removed</dt><dd><p>Use <code class="code " id="bbdf06a_364"  >com.intellij.database.actions.DbDeleteProvider.getDeleteProvider()</code> instead.</p></dd><dt id="bbdf06a_365"  data-expandable="false" >com.intellij.database.model.RawConnectionConfig.getEffectiveUrl(Project) method removed</dt><dd><p>Use <code class="code " id="bbdf06a_368"  >com.intellij.database.model.RawConnectionConfig.getUrl()</code> instead. Or use <code class="code " id="bbdf06a_369"  >com.intellij.database.dataSource.DatabaseConnectionEstablisher.processInterceptors()</code>.</p></dd></dl></section><section class="chapter"  ><h3 id="github-plugin-20212" data-toc="github-plugin-20212"  >GitHub Plugin 2021.2</h3><dl id="bbdf06a_370"  data-style="title-top"  ><dt id="bbdf06a_371"  data-expandable="false" >org.jetbrains.plugins.github.util.GithubAuthData class removed</dt><dd><p>Use <code class="code " id="bbdf06a_374"  >org.jetbrains.plugins.github.authentication.GithubAuthenticationManager</code> instead.</p></dd><dt id="bbdf06a_375"  data-expandable="false" >org.jetbrains.plugins.github.util.GithubAuthData$BasicAuth class removed</dt><dd><p>Use <code class="code " id="bbdf06a_378"  >org.jetbrains.plugins.github.authentication.GithubAuthenticationManager</code> instead.</p></dd><dt id="bbdf06a_379"  data-expandable="false" >org.jetbrains.plugins.github.util.GithubSettings.getAuthData(GithubAuthData) method removed</dt><dd><p>Use <code class="code " id="bbdf06a_382"  >org.jetbrains.plugins.github.authentication.GithubAuthenticationManager</code> instead.</p></dd><dt id="bbdf06a_383"  data-expandable="false" >org.jetbrains.plugins.github.util.GithubSettings.getLogin method removed</dt><dd><p>Use <code class="code " id="bbdf06a_386"  >org.jetbrains.plugins.github.authentication.GithubAuthenticationManager</code> instead.</p></dd><dt id="bbdf06a_387"  data-expandable="false" >org.jetbrains.plugins.github.util.GithubSettings.isAuthConfigured method removed</dt><dd><p>Use <code class="code " id="bbdf06a_390"  >org.jetbrains.plugins.github.authentication.GithubAuthenticationManager</code> instead.</p></dd></dl></section><section class="chapter"  ><h3 id="spring-plugin-20212" data-toc="spring-plugin-20212"  >Spring Plugin 2021.2</h3><dl id="bbdf06a_391"  data-style="title-top"  ><dt id="bbdf06a_392"  data-expandable="false" >icons.SpringApiIcons class moved to package com.intellij.spring</dt><dd><p>Use <code class="code " id="bbdf06a_396"  >com.intellij.spring.SpringApiIcons</code> instead.</p></dd><dt id="bbdf06a_397"  data-expandable="false" >icons.SpringApiIcons.Gutter class moved to package com.intellij.spring</dt><dd><p>Use <code class="code " id="bbdf06a_401"  >com.intellij.spring.SpringApiIcons.Gutter</code> instead.</p></dd></dl></section><section class="chapter"  ><h3 id="python-plugin-202121" data-toc="python-plugin-202121"  >Python Plugin 2021.2.1</h3><dl id="bbdf06a_402"  data-style="title-top"  ><dt id="bbdf06a_403"  data-expandable="false" >com.jetbrains.python.psi.types.PyTypedDictType.Companion.match(PyTypedDictType, PyDictLiteralExpression, TypeEvalContext) method removed</dt><dd><p>As the result of the refactoring aimed at fixing <a href="https://youtrack.jetbrains.com/issue/PY-48799" id="bbdf06a_406"   data-external="true" rel="noopener noreferrer" >PY-48799</a>, for dict literals containing only string keys we infer <code class="code " id="bbdf06a_407"  >PyTypedDictType</code> now, so there's no need to match dict literals with <code class="code " id="bbdf06a_408"  >TypedDict</code>s. There's a new method for comparing the inferred <code class="code " id="bbdf06a_409"  >TypedDict</code>s with the given ones: <code class="code " id="bbdf06a_410"  >com.jetbrains.python.psi.types.PyTypedDictType.Companion.match(PyType, PyTypedDictType, TypeEvalContext)</code>.</p></dd></dl></section></section><section class="chapter"  ><h2 id="20211" data-toc="20211"  >2021.1</h2><section class="chapter"  ><h3 id="intellij-platform-20211" data-toc="intellij-platform-20211"  >IntelliJ Platform 2021.1</h3><dl id="bbdf06a_411"  data-style="title-top"  ><dt id="bbdf06a_412"  data-expandable="false" >com.intellij.util.io.PersistentHashMap.isCorrupted method removed</dt><dd><p>The storage checks for corruption automatically, there is no need of any explicit additional checks.</p></dd><dt id="bbdf06a_415"  data-expandable="false" >com.intellij.lang.StdLanguages.JSPX field removed</dt><dd><p>Add a dependency on the <code class="code " id="bbdf06a_418"  >com.intellij.jsp</code> plugin and replace the reference with <code class="code " id="bbdf06a_419"  >com.intellij.lang.jspx.JspxLanguageImpl.INSTANCE</code>.</p></dd><dt id="bbdf06a_420"  data-expandable="false" >com.intellij.lang.StdLanguages.JSP field removed</dt><dd><p>Add a dependency on the <code class="code " id="bbdf06a_423"  >com.intellij.jsp</code> plugin and replace the reference with <code class="code " id="bbdf06a_424"  >com.intellij.lang.jsp.NewJspLanguage.getInstance()</code>.</p></dd><dt id="bbdf06a_425"  data-expandable="false" >com.intellij.ide.actions.searcheverywhere.SEResultsEqualityProvider.compareItems(alreadyFoundItem) method parameter type changed from SearchEverywhereFoundElementInfo to List<SearchEverywhereFoundElementInfo></dt><dd><p>New API is more abstract which allows to review all already found items before making &quot;deduplication&quot; decision. Also consider implementing <code class="code " id="bbdf06a_430"  >com.intellij.ide.actions.searcheverywhere.AbstractEqualityProvider</code> instead of <code class="code " id="bbdf06a_431"  >com.intellij.ide.actions.searcheverywhere.SEResultsEqualityProvider</code>.</p></dd><dt id="bbdf06a_432"  data-expandable="false" >com.intellij.ide.actions.searcheverywhere.SEResultsEqualityProvider.SEEqualElementsActionType.SKIP field removed</dt><dd><p>Enum class <code class="code " id="bbdf06a_435"  >SEEqualElementsActionType</code> was converted to sealed class with the same name.</p></dd><dt id="bbdf06a_436"  data-expandable="false" >com.intellij.ide.actions.searcheverywhere.SEResultsEqualityProvider.SEEqualElementsActionType.DO_NOTHING field removed</dt><dd><p>Enum class <code class="code " id="bbdf06a_439"  >SEEqualElementsActionType</code> was converted to sealed class with the same name.</p></dd><dt id="bbdf06a_440"  data-expandable="false" >com.intellij.ide.actions.searcheverywhere.SEResultsEqualityProvider.SEEqualElementsActionType.Replace field removed</dt><dd><p>Enum class <code class="code " id="bbdf06a_443"  >SEEqualElementsActionType</code> was converted to sealed class with the same name.</p></dd><dt id="bbdf06a_444"  data-expandable="false" >org.sqlite.SQLiteConfig.setBusyTimeout(String) method parameter type changed from String to int</dt><dd><p>Please use updated sqlite-jdbc API.</p></dd><dt id="bbdf06a_449"  data-expandable="false" >com.intellij.usages.impl.rules.UsageTypeProvider.getUsageType method PsiElement parameter marked @NotNull</dt><dd><p>This may break source-compatibility with inheritors written in Kotlin if they declare parameter type as nullable.</p></dd><dt id="bbdf06a_454"  data-expandable="false" >com.jetbrains.performancePlugin.CommandProvider.getCommands(Project) method parameter Project removed</dt><dd><p>Project is now only accessible via <code class="code " id="bbdf06a_458"  >com.intellij.openapi.ui.playback.PlaybackContext.getProject()</code> since it may change during script execution.</p></dd><dt id="bbdf06a_459"  data-expandable="false" >JSON Widget suppressor com.intellij.json.jsonWidgetSuppressor EP</dt><dd><p>Override new method <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/json/src/com/jetbrains/jsonSchema/extension/JsonWidgetSuppressor.java" id="bbdf06a_462"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bbdf06a_463"  >JsonWidgetSuppressor.isCandidateForSuppress(VirtualFile, Project)</code></a> for quick check in EDT before <code class="code " id="bbdf06a_464"  >suppressSwitcherWidget()</code> is called on background thread.</p></dd></dl></section><section class="chapter"  ><h3 id="http-client-plugin-20211" data-toc="http-client-plugin-20211"  >HTTP Client Plugin 2021.1</h3><dl id="bbdf06a_465"  data-style="title-top"  ><dt id="bbdf06a_466"  data-expandable="false" >com.intellij.ws.rest.client package removed</dt><dd><p>Replaced by <code class="code " id="bbdf06a_469"  >com.intellij.httpClient.execution</code> in HTTP Client plugin.</p></dd><dt id="bbdf06a_470"  data-expandable="false" >com.intellij.ws.actions package removed</dt><dd><p>Replaced by <code class="code " id="bbdf06a_473"  >com.intellij.httpClient.actions</code> in HTTP Client plugin.</p></dd><dt id="bbdf06a_474"  data-expandable="false" >com.intellij.ws.converters package removed</dt><dd><p>Replaced by <code class="code " id="bbdf06a_477"  >com.intellij.httpClient.converters</code> in HTTP Client plugin.</p></dd><dt id="bbdf06a_478"  data-expandable="false" >com.intellij.ws.http.request package removed</dt><dd><p>Replaced by <code class="code " id="bbdf06a_481"  >com.intellij.httpClient.http.request</code> in HTTP Client plugin.</p></dd></dl></section><section class="chapter"  ><h3 id="java-uml-plugin-20211" data-toc="java-uml-plugin-20211"  >Java UML Plugin 2021.1</h3><p id="bbdf06a_482" >Rename of packages to <code class="code " id="bbdf06a_483"  >.java.</code> specific variants</p><div class="table-wrapper" ><table class=" wide" id="bbdf06a_484"  ><thead><tr class=" ijRowHead" id="bbdf06a_485" ><th id="bbdf06a_486"    ><p>Old package name</p></th><th id="bbdf06a_487"    ><p>New package name</p></th></tr></thead><tbody ><tr class="" id="bbdf06a_488" ><td id="bbdf06a_489"    ><p><code class="code " id="bbdf06a_490"  >com.intellij.uml.utils</code></p></td><td id="bbdf06a_491"    ><p><code class="code " id="bbdf06a_492"  >com.intellij.uml.java.utils</code></p></td></tr><tr class="" id="bbdf06a_493" ><td id="bbdf06a_494"    ><p><code class="code " id="bbdf06a_495"  >com.intellij.uml.project</code></p></td><td id="bbdf06a_496"    ><p><code class="code " id="bbdf06a_497"  >com.intellij.uml.java.project</code></p></td></tr><tr class="" id="bbdf06a_498" ><td id="bbdf06a_499"    ><p><code class="code " id="bbdf06a_500"  >com.intellij.uml.jigsaw</code></p></td><td id="bbdf06a_501"    ><p><code class="code " id="bbdf06a_502"  >com.intellij.uml.java.jigsaw</code></p></td></tr></tbody ></table ></div></section><section class="chapter"  ><h3 id="kotlin-plugin-20211" data-toc="kotlin-plugin-20211"  >Kotlin Plugin 2021.1</h3><dl id="bbdf06a_503"  data-style="title-top"  ><dt id="bbdf06a_504"  data-expandable="false" >org.jetbrains.kotlin.idea.refactoring.changeSignature.KotlinChangeInfo(KotlinMethodDescriptor, String, KotlinTypeInfo, Visibility, List, KotlinParameterInfo, PsiElement, Collection) constructor parameter type changed from org.jetbrains.kotlin.descriptors.Visibility to org.jetbrains.kotlin.descriptors.DescriptorVisibility</dt><dd><p><code class="code " id="bbdf06a_509"  >Visibility</code> has been renamed to <code class="code " id="bbdf06a_510"  >DescriptorVisibility</code>.</p></dd></dl></section><section class="chapter"  ><h3 id="go-plugin-20211" data-toc="go-plugin-20211"  >Go Plugin 2021.1</h3><dl id="bbdf06a_511"  data-style="title-top"  ><dt id="bbdf06a_512"  data-expandable="false" >com.goide.sdk.combobox.GoSdkChooserCombo.getSdk method moved to the superclass</dt><dd><p>Recompile the dependant code.</p></dd></dl></section><section class="chapter"  ><h3 id="coffeescript-plugin-20211" data-toc="coffeescript-plugin-20211"  >CoffeeScript Plugin 2021.1</h3><dl id="bbdf06a_515"  data-style="title-top"  ><dt id="bbdf06a_516"  data-expandable="false" >icons.CoffeescriptIcons class renamed to org.coffeescript.CoffeescriptIcons</dt><dd><p>To support dynamic plugins.</p></dd></dl></section></section><div class="last-modified"> Last modified: 25 九月 2022</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="api-changes-list-2022.html">Incompatible Changes in IntelliJ Platform and Plugins API 2022.*</a>   <a class="navigation-links__next" href="api-changes-list-2020.html">Incompatible Changes in IntelliJ Platform and Plugins API 2020.*</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/storage/help-app/v5/app.js"></script></body></html>