<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2022-09-29T19:15:57.5772822"><meta name="build-number" content="${buildNumber}">    <meta name="keywords" content="">  <title>File and Class Choosers | IntelliJ Platform Plugin SDK</title><script id="virtual-toc-data" type="application/json">[{"id":"file-choosers","level":0,"title":"File Choosers","anchor":"#file-choosers"},{"id":"class-and-package-choosers","level":0,"title":"Class and Package Choosers","anchor":"#class-and-package-choosers"}]</script>   <link href="https://resources.jetbrains.com/storage/help-app/v5/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="File and Class Choosers | IntelliJ Platform Plugin SDK"/><meta property="og:description" content=""/><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"/><meta property="og:site_name" content="IntelliJ Platform Plugin SDK Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="https://plugins.jetbrains.com/docs/intellij/file-and-class-choosers.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@JBPlatform"><meta name="twitter:title" content="File and Class Choosers | IntelliJ Platform Plugin SDK"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@JBPlatform"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://plugins.jetbrains.com/docs/intellij/file-and-class-choosers.html#webpage", "url": "https://plugins.jetbrains.com/docs/intellij/file-and-class-choosers.html", "name": "File and Class Choosers | IntelliJ Platform Plugin SDK", "description": "", "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://plugins.jetbrains.com/docs/intellij/#website", "url": "https://plugins.jetbrains.com/docs/intellij/", "name": "IntelliJ Platform Plugin SDK Help" }</script><!-- End Schema.org --></head>    <body data-id="file_and_class_choosers.md" data-main-title="File and Class Choosers" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Part II — Base Platform///user_interface_components.md|User Interface Components"  data-edit-url="https://github.com/JetBrains/intellij-sdk-docs/edit/main/topics/user_interface_components/file_and_class_choosers.md"  >  <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ Platform Plugin SDK  Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">      </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="file_and_class_choosers.md" id="file_and_class_choosers.md"  >File and Class Choosers</h1><section class="chapter"  ><h2 id="file-choosers" data-toc="file-choosers"  >File Choosers</h2><section class="chapter"  ><h3 id="via-dialog" data-toc="via-dialog"  >Via Dialog</h3><p id="716ba9d9_41" >To let a user choose a file, directory or multiple files, use the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-api/src/com/intellij/openapi/fileChooser/FileChooser.java" id="716ba9d9_42"   data-external="true" rel="noopener noreferrer" ><code class="code " id="716ba9d9_43"  >FileChooser.chooseFiles()</code></a> method. This method has multiple overloads. The best method to use is the one which returns void and takes a callback receiving the list of selected files as a parameter. This is the only overload which will display a native file open dialog on macOS.</p><p id="716ba9d9_44" >The <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/ide-core/src/com/intellij/openapi/fileChooser/FileChooserDescriptor.java" id="716ba9d9_45"   data-external="true" rel="noopener noreferrer" ><code class="code " id="716ba9d9_46"  >FileChooserDescriptor</code></a> class allows you to control which files can be selected. The constructor parameters specify whether files and/or directories can be selected, and whether multiple selection is allowed (see <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/ide-core/src/com/intellij/openapi/fileChooser/FileChooserDescriptorFactory.java" id="716ba9d9_47"   data-external="true" rel="noopener noreferrer" ><code class="code " id="716ba9d9_48"  >FileChooserDescriptorFactory</code></a> for common variants).</p><p id="716ba9d9_49" >For more fine-grained control over the allowed selection, you can overload the <code class="code " id="716ba9d9_50"  >isFileSelectable()</code> method. You can also customize the presentation of files by overriding <code class="code " id="716ba9d9_51"  >getIcon()</code>, <code class="code " id="716ba9d9_52"  >getName()</code> and <code class="code " id="716ba9d9_53"  >getComment()</code> methods. Note that the native macOS file chooser does not support most of the customizations, so if you rely on them, you need to use an overload of <code class="code " id="716ba9d9_54"  >chooseFiles()</code> which displays the standard IntelliJ Platform dialog.</p></section><section class="chapter"  ><h3 id="via-textfield" data-toc="via-textfield"  >Via Textfield</h3><p id="716ba9d9_55" >A very common way of using file choosers is to use a text field for entering the path with an ellipsis button (<span class="control" id="716ba9d9_56" >...</span>) for showing the file chooser. To create such a control, use the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-api/src/com/intellij/openapi/ui/TextFieldWithBrowseButton.java" id="716ba9d9_57"   data-external="true" rel="noopener noreferrer" ><code class="code " id="716ba9d9_58"  >TextFieldWithBrowseButton</code></a> component and call the <code class="code " id="716ba9d9_59"  >addBrowseFolderListener()</code> method on it to set up the file chooser. As an added bonus, this will enable filename completion when entering paths in the text box.</p></section><section class="chapter"  ><h3 id="via-tree" data-toc="via-tree"  >Via Tree</h3><p id="716ba9d9_60" >An alternative UI for selecting files, which works best when the most common way of selecting a file is by typing its name, is available through the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/lang-api/src/com/intellij/ide/util/TreeFileChooserFactory.java" id="716ba9d9_61"   data-external="true" rel="noopener noreferrer" ><code class="code " id="716ba9d9_62"  >TreeFileChooserFactory</code></a> class.</p><p id="716ba9d9_63" >The dialog shown by this API has two tabs:</p><ul class="list _ul" id="716ba9d9_64"    ><li class="list__item" id="716ba9d9_65" ><p>One shows the project structure</p></li><li class="list__item" id="716ba9d9_66" ><p>Another shows a list of files similar to the one used by the </p><p> popup.</p></li></ul><p id="716ba9d9_68" >To show the dialog, call <code class="code " id="716ba9d9_69"  >showDialog()</code> on the chooser returned from <code class="code " id="716ba9d9_70"  >createFileChooser()</code>, and then call <code class="code " id="716ba9d9_71"  >getSelectedFile()</code> to retrieve the user's selection.</p></section></section><section class="chapter"  ><h2 id="class-and-package-choosers" data-toc="class-and-package-choosers"  >Class and Package Choosers</h2><p id="716ba9d9_72" >If you want to offer the user a possibility to select a Java class, you can use the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/java/openapi/src/com/intellij/ide/util/TreeClassChooserFactory.java" id="716ba9d9_73"   data-external="true" rel="noopener noreferrer" ><code class="code " id="716ba9d9_74"  >TreeClassChooserFactory</code></a> class. Its different methods allow you to specify the scope from which the classes are taken, to restrict the choice to descendants of a specific class or implementations of an interface, and to include or exclude inner classes from the list.</p><p id="716ba9d9_75" >For choosing a Java package, you can use the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/java/java-impl/src/com/intellij/ide/util/PackageChooserDialog.java" id="716ba9d9_76"   data-external="true" rel="noopener noreferrer" ><code class="code " id="716ba9d9_77"  >PackageChooserDialog</code></a> class.</p><aside data-type="tip" class="prompt" data-title="" id="716ba9d9_78" ><p id="716ba9d9_79" >To use Java-specific components in plugins targeting versions 2019.2+, explicit dependency on the Java plugin is required. See the <a href="plugin-compatibility.html#modules-specific-to-functionality" id="716ba9d9_80" data-tooltip="More specialized functionality is also delivered via modules and plugins in IntelliJ Platform-based products. For example, the com.intellij.modules.python module supports the Python language-specific functionality. If a plugin uses this module's functionality, such as…"  >Modules Specific to Functionality</a> page for details.</p></aside></section><div class="last-modified"> Last modified: 29 九月 2022</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="notifications.html">Notifications</a>   <a class="navigation-links__next" href="editor-components.html">Editor Components</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/storage/help-app/v5/app.js"></script></body></html>