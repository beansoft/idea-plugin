<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2022-09-28T11:33:50.0040909"><meta name="build-number" content="${buildNumber}">    <meta name="keywords" content="">  <title>Module | IntelliJ Platform Plugin SDK</title><script id="virtual-toc-data" type="application/json">[{"id":"how-do-i-get-a-list-of-modules-the-project-includes","level":0,"title":"How do I get a list of modules the project includes?","anchor":"#how-do-i-get-a-list-of-modules-the-project-includes"},{"id":"how-do-i-get-dependencies-and-classpath-of-a-module","level":0,"title":"How do I get dependencies and classpath of a module?","anchor":"#how-do-i-get-dependencies-and-classpath-of-a-module"},{"id":"how-do-i-get-the-sdk-the-module-uses","level":0,"title":"How do I get the SDK the module uses?","anchor":"#how-do-i-get-the-sdk-the-module-uses"},{"id":"how-do-i-get-a-list-of-modules-on-which-this-module-directly-depends","level":0,"title":"How do I get a list of modules on which this module directly depends?","anchor":"#how-do-i-get-a-list-of-modules-on-which-this-module-directly-depends"},{"id":"how-do-i-get-a-list-of-modules-that-depend-on-this-module","level":0,"title":"How do I get a list of modules that depend on this module?","anchor":"#how-do-i-get-a-list-of-modules-that-depend-on-this-module"},{"id":"how-do-i-get-a-module-to-which-the-specified-file-or-psi-element-belongs","level":0,"title":"How do I get a module to which the specified file or PSI element belongs?","anchor":"#how-do-i-get-a-module-to-which-the-specified-file-or-psi-element-belongs"},{"id":"accessing-module-roots","level":0,"title":"Accessing Module Roots","anchor":"#accessing-module-roots"},{"id":"checking-belonging-to-a-module-source-root","level":0,"title":"Checking Belonging to a Module Source Root","anchor":"#checking-belonging-to-a-module-source-root"},{"id":"java-compiler-output-properties","level":0,"title":"Java: Compiler Output Properties","anchor":"#java-compiler-output-properties"},{"id":"receiving-notifications-about-module-changes","level":0,"title":"Receiving Notifications About Module Changes","anchor":"#receiving-notifications-about-module-changes"}]</script>   <link href="https://resources.jetbrains.com/storage/help-app/v5/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Module | IntelliJ Platform Plugin SDK"/><meta property="og:description" content=""/><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"/><meta property="og:site_name" content="IntelliJ Platform Plugin SDK Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="https://plugins.jetbrains.com/docs/intellij/module.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@JBPlatform"><meta name="twitter:title" content="Module | IntelliJ Platform Plugin SDK"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@JBPlatform"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://plugins.jetbrains.com/docs/intellij/module.html#webpage", "url": "https://plugins.jetbrains.com/docs/intellij/module.html", "name": "Module | IntelliJ Platform Plugin SDK", "description": "", "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://plugins.jetbrains.com/docs/intellij/#website", "url": "https://plugins.jetbrains.com/docs/intellij/", "name": "IntelliJ Platform Plugin SDK Help" }</script><!-- End Schema.org --></head>    <body data-id="module.md" data-main-title="Module" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Part III — Project Model"  data-edit-url="https://github.com/JetBrains/intellij-sdk-docs/edit/main/topics/reference_guide/project_model/module.md"  >  <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ Platform Plugin SDK  Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">      </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="module.md" id="module.md"  >Module</h1><p id="75b168f9_1" >A <span class="emphasis" id="75b168f9_2" >module</span> is a discrete unit of functionality that can be run, tested, and debugged independently. Modules include such things as source code, build scripts, unit tests, deployment descriptors, etc.</p><p id="75b168f9_3" >The key components of a module are:</p><ul class="list _ul" id="75b168f9_4"    ><li class="list__item" id="75b168f9_5" ><p id="75b168f9_6" ><span class="control" id="75b168f9_7" >Content roots</span> - the directories where the files belonging to the module (source code, resources, etc.) are stored. Each directory can belong to one and only one module; it's not possible to share a content root between multiple modules.</p></li><li class="list__item" id="75b168f9_8" ><p id="75b168f9_9" ><span class="control" id="75b168f9_10" >Source roots</span> - A content root can have multiple <span class="control" id="75b168f9_11" >source roots</span> underneath it. Source roots can have different types: regular source roots, test source roots, resource roots, etc. In IntelliJ IDEA, source roots are used as roots of the package hierarchy structure. Java classes directly under a source root will be in the root package. Source roots can also be used to implement more fine-grained dependency checks. Code under a regular source root cannot depend on code under a test source root.</p><aside data-type="tip" class="prompt" data-title="" id="75b168f9_12" ><p id="75b168f9_13" >Not all other IntelliJ Platform-based IDEs use source roots.</p></aside></li><li class="list__item" id="75b168f9_14" ><p id="75b168f9_15" ><span class="control" id="75b168f9_16" >Order entries</span> - the dependencies of a module, which are stored in an ordered list. A dependency can be a reference to an <a href="sdk.html" id="75b168f9_17" data-tooltip="Every project uses a Software Development Kit (SDK). For Java projects, the SDK is referred to as the JDK (Java Development Kit). The SDK determines which API library is used to build the project. If a project is multi-module, the project SDK by default is common for all modules…"  >SDK</a>, a <a href="library.html" id="75b168f9_18" data-tooltip="A library is an archive of compiled code (such as JAR files) that modules depend on."  >library</a>, or another module.</p></li><li class="list__item" id="75b168f9_19" ><p id="75b168f9_20" ><span class="control" id="75b168f9_21" ><a href="facet.html" id="75b168f9_22" data-tooltip="A facet represents configuration specific for a particular framework/technology, associated with a module. A module can have multiple facets. E.g. Spring Framework specific configuration is stored in a Spring facet."  >Facets</a></span> - the list of framework-specific configuration entries.</p></li></ul><p id="75b168f9_23" >In addition to that, a module can store other settings, such as a module-specific <a href="sdk.html" id="75b168f9_24" data-tooltip="Every project uses a Software Development Kit (SDK). For Java projects, the SDK is referred to as the JDK (Java Development Kit). The SDK determines which API library is used to build the project. If a project is multi-module, the project SDK by default is common for all modules…"  >SDK</a>, compile output path settings, etc. Plugins can store additional data associated with a module by creating facets or module-level components.</p><p id="75b168f9_25" >The IntelliJ Platform provides a number of classes and interfaces you can use to work with modules:</p><ul class="list _ul" id="75b168f9_26"    ><li class="list__item" id="75b168f9_27" ><p><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/core-api/src/com/intellij/openapi/module/Module.java" id="75b168f9_28"   data-external="true" rel="noopener noreferrer" ><code class="code " id="75b168f9_29"  >Module</code></a></p></li><li class="list__item" id="75b168f9_30" ><p><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/lang-api/src/com/intellij/openapi/module/ModuleUtil.java" id="75b168f9_31"   data-external="true" rel="noopener noreferrer" ><code class="code " id="75b168f9_32"  >ModuleUtil</code></a></p></li><li class="list__item" id="75b168f9_33" ><p><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/projectModel-api/src/com/intellij/openapi/module/ModuleManager.java" id="75b168f9_34"   data-external="true" rel="noopener noreferrer" ><code class="code " id="75b168f9_35"  >ModuleManager</code></a></p></li><li class="list__item" id="75b168f9_36" ><p><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/projectModel-api/src/com/intellij/openapi/roots/ModuleRootManager.java" id="75b168f9_37"   data-external="true" rel="noopener noreferrer" ><code class="code " id="75b168f9_38"  >ModuleRootManager</code></a></p></li><li class="list__item" id="75b168f9_39" ><p><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/projectModel-api/src/com/intellij/openapi/roots/ModuleRootModel.java" id="75b168f9_40"   data-external="true" rel="noopener noreferrer" ><code class="code " id="75b168f9_41"  >ModuleRootModel</code></a></p></li><li class="list__item" id="75b168f9_42" ><p><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/projectModel-api/src/com/intellij/openapi/module/ModifiableModuleModel.java" id="75b168f9_43"   data-external="true" rel="noopener noreferrer" ><code class="code " id="75b168f9_44"  >ModifiableModuleModel</code></a></p></li><li class="list__item" id="75b168f9_45" ><p><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/projectModel-api/src/com/intellij/openapi/roots/ModifiableRootModel.java" id="75b168f9_46"   data-external="true" rel="noopener noreferrer" ><code class="code " id="75b168f9_47"  >ModifiableRootModel</code></a></p></li></ul><p id="75b168f9_48" >This section discusses how to complete some common tasks related to management of modules.</p><p id="75b168f9_49" >See <a href="project.html#changing-the-project-structure" id="75b168f9_50" data-tooltip="Utility classes used for modifying the project structure can be found in the package projectModel-impl.openapi. Its roots subpackage contains instances and utilities intended for work with project and module source roots, including ModuleRootModificationUtil and ProjectRootUtil.…"  >Changing the Project Structure</a> for information on modifying project/module structure.</p><section class="chapter"  ><h2 id="how-do-i-get-a-list-of-modules-the-project-includes" data-toc="how-do-i-get-a-list-of-modules-the-project-includes"  >How do I get a list of modules the project includes?</h2><p id="75b168f9_51" >Use the <code class="code " id="75b168f9_52"  >ModuleManager.getModules()</code> method.</p></section><section class="chapter"  ><h2 id="how-do-i-get-dependencies-and-classpath-of-a-module" data-toc="how-do-i-get-dependencies-and-classpath-of-a-module"  >How do I get dependencies and classpath of a module?</h2><p id="75b168f9_53" ><span class="emphasis" id="75b168f9_54" >Order entries</span> include SDK, libraries and other modules the module uses. With the IntelliJ IDEA UI, you can view order entries for a module on the <a href="https://www.jetbrains.com/help/idea/dependencies-tab.html" id="75b168f9_55"   data-external="true" rel="noopener noreferrer" >Dependencies</a> tab of the <span class="emphasis" id="75b168f9_56" >Project Structure</span> dialog box.</p><p id="75b168f9_57" >To explore the <a href="https://www.jetbrains.com/help/idea/dependencies-tab.html" id="75b168f9_58"   data-external="true" rel="noopener noreferrer" >module dependencies</a>, use the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/projectModel-api/src/com/intellij/openapi/roots/OrderEnumerator.java" id="75b168f9_59"   data-external="true" rel="noopener noreferrer" ><code class="code " id="75b168f9_60"  >OrderEnumerator</code></a> class.</p><p id="75b168f9_61" >The following code snippet illustrates how you can get classpath (classes root of all dependencies) for a module:</p><div class="code-block" data-lang="java"         >
VirtualFile[] roots = ModuleRootManager.getInstance(module).orderEntries().classes().getRoots();
</div></section><section class="chapter"  ><h2 id="how-do-i-get-the-sdk-the-module-uses" data-toc="how-do-i-get-the-sdk-the-module-uses"  >How do I get the SDK the module uses?</h2><p id="75b168f9_63" >Use the <code class="code " id="75b168f9_64"  >ModuleRootManager.getSdk()</code> method. This method returns a value of the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/projectModel-api/src/com/intellij/openapi/projectRoots/Sdk.java" id="75b168f9_65"   data-external="true" rel="noopener noreferrer" ><code class="code " id="75b168f9_66"  >Sdk</code></a> type.</p><p id="75b168f9_67" >The following code snippet illustrates how you can get detailed information on SDK the specified module uses:</p><div class="code-block" data-lang="java"         >
ModuleRootManager moduleRootManager = ModuleRootManager.getInstance(module);
Sdk SDK = moduleRootManager.getSdk();
String jdkInfo = &quot;Module: &quot; + module.getName() + &quot; SDK: &quot; + SDK.getName() + &quot; SDK version: &quot;
                 + SDK.getVersionString() + &quot; SDK home directory: &quot; + SDK.getHomePath();
</div></section><section class="chapter"  ><h2 id="how-do-i-get-a-list-of-modules-on-which-this-module-directly-depends" data-toc="how-do-i-get-a-list-of-modules-on-which-this-module-directly-depends"  >How do I get a list of modules on which this module directly depends?</h2><p id="75b168f9_69" >Use the <code class="code " id="75b168f9_70"  >ModuleRootManager.getDependencies()</code> method to get an array of the <code class="code " id="75b168f9_71"  >Module</code> type values or the <code class="code " id="75b168f9_72"  >ModuleRootManager.getDependencyModuleNames()</code> to get an array of module names. To clarify, consider the following code snippet:</p><div class="code-block" data-lang="java"         >
ModuleRootManager moduleRootManager = ModuleRootManager.getInstance(module);
Module[] dependentModules = moduleRootManager.getDependencies();
String[] dependentModulesNames = moduleRootManager.getDependencyModuleNames();
</div></section><section class="chapter"  ><h2 id="how-do-i-get-a-list-of-modules-that-depend-on-this-module" data-toc="how-do-i-get-a-list-of-modules-that-depend-on-this-module"  >How do I get a list of modules that depend on this module?</h2><p id="75b168f9_74" >Use the <code class="code " id="75b168f9_75"  >ModuleManager.getModuleDependentModules(module)</code> method.</p><p id="75b168f9_76" >Note that you can also check whether a module (<span class="emphasis" id="75b168f9_77" >module1</span>) depends on another specified module (<span class="emphasis" id="75b168f9_78" >module2</span>) using the <code class="code " id="75b168f9_79"  >ModuleManager.isModuleDependent()</code> method in the following way:</p><div class="code-block" data-lang="java"         >
boolean isDependent = ModuleManager.getInstance(project).isModuleDependent(module1,module2);
</div></section><section class="chapter"  ><h2 id="how-do-i-get-a-module-to-which-the-specified-file-or-psi-element-belongs" data-toc="how-do-i-get-a-module-to-which-the-specified-file-or-psi-element-belongs"  >How do I get a module to which the specified file or PSI element belongs?</h2><ul class="list _ul" id="75b168f9_81"    ><li class="list__item" id="75b168f9_82" ><p id="75b168f9_83" >To get the project module to which the specified file belongs, use the <code class="code " id="75b168f9_84"  >ModuleUtil.findModuleForFile()</code> static method.</p><p id="75b168f9_85" >To clarify, consider the following code snippet:</p></li></ul><div class="code-block" data-lang="java"         >
String pathToFile = &quot;C:\\users\\firstName.LastName\\plugins\\myPlugin\\src\\MyAction.java&quot;;
VirtualFile virtualFile = LocalFileSystem.getInstance().findFileByPath(pathToFile);
Module module = ModuleUtil.findModuleForFile(virtualFile,myProject);
String moduleName = module == null ? &quot;Module not found&quot; : module.getName();
</div><ul class="list _ul" id="75b168f9_87"    ><li class="list__item" id="75b168f9_88" ><p>To get the project module to which the specified <a href="psi-elements.html" id="75b168f9_89" data-tooltip="A PSI (Program Structure Interface) file represents a hierarchy of PSI elements (so-called PSI trees). A single PSI file (itself being a PSI element) may expose several PSI trees in specific programming languages (see ). A PSI element, in its turn, can have child PSI elements."  >PSI element</a> belongs, use the <code class="code " id="75b168f9_90"  >ModuleUtil.findModuleForPsiElement()</code> method.</p></li></ul></section><section class="chapter"  ><h2 id="accessing-module-roots" data-toc="accessing-module-roots"  >Accessing Module Roots</h2><p id="75b168f9_91" >Information about module roots can be accessed via <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/projectModel-api/src/com/intellij/openapi/roots/ModuleRootManager.java" id="75b168f9_92"   data-external="true" rel="noopener noreferrer" ><code class="code " id="75b168f9_93"  >ModuleRootManager</code></a>. For example, the following snippet shows how to access the content roots of a module:</p><div class="code-block" data-lang="java"         >
VirtualFile[] contentRoots = ModuleRootManager.getInstance(module).getContentRoots();
</div></section><section class="chapter"  ><h2 id="checking-belonging-to-a-module-source-root" data-toc="checking-belonging-to-a-module-source-root"  >Checking Belonging to a Module Source Root</h2><p id="75b168f9_95" >To check if a virtual file or directory belongs to a module source root, use the <code class="code " id="75b168f9_96"  >ProjectFileIndex.getSourceRootForFile()</code> method. This method returns <code class="code " id="75b168f9_97"  >null</code> if the file or directory does not belong to any source root of modules in the project.</p><div class="code-block" data-lang="java"         >
VirtualFile moduleSourceRoot = ProjectRootManager.getInstance(project).getFileIndex().getSourceRootForFile(virtualFileOrDirectory);
</div></section><section class="chapter"  ><h2 id="java-compiler-output-properties" data-toc="java-compiler-output-properties"  >Java: Compiler Output Properties</h2><p id="75b168f9_99" >Obtain <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/projectModel-api/src/com/intellij/openapi/roots/CompilerModuleExtension.java" id="75b168f9_100"   data-external="true" rel="noopener noreferrer" ><code class="code " id="75b168f9_101"  >CompilerModuleExtension</code></a> for given <code class="code " id="75b168f9_102"  >Module</code> instance to access <span class="control" id="75b168f9_103" >Compiler Output</span> path related properties.</p></section><section class="chapter"  ><h2 id="receiving-notifications-about-module-changes" data-toc="receiving-notifications-about-module-changes"  >Receiving Notifications About Module Changes</h2><p id="75b168f9_104" >To receive notifications about module changes (modules being added, removed or renamed), use the <a href="messaging-infrastructure.html" id="75b168f9_105" data-tooltip="The purpose of this document is to introduce the messaging infrastructure available in the IntelliJ Platform to developers and plugin writers. It is intended to answer why, when and how to use it."  >message bus</a> and the <code class="code " id="75b168f9_106"  >ProjectTopics.MODULES</code> topic:</p><div class="code-block" data-lang="java"         >
project.getMessageBus().connect().subscribe(ProjectTopics.MODULES, new ModuleListener() {
  @Override
  public void moduleAdded(@NotNull Project project, @NotNull Module module) {

  }
});
</div><p id="75b168f9_108" >If targeting 2019.3 or later, <a href="plugin-listeners.html" id="75b168f9_109" data-tooltip="Listeners allow subscription to application and project events."  >declarative registration</a> is available as well.</p></section><div class="last-modified"> Last modified: 28 九月 2022</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="framework.html">Frameworks</a>   <a class="navigation-links__next" href="sdk.html">SDK</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/storage/help-app/v5/app.js"></script></body></html>