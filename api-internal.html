<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2022-09-29T19:15:57.4092461"><meta name="build-number" content="${buildNumber}">    <meta name="keywords" content="">  <title>Internal API Migration | IntelliJ Platform Plugin SDK</title><script id="virtual-toc-data" type="application/json">[{"id":"intellij-platform","level":0,"title":"IntelliJ Platform","anchor":"#intellij-platform"},{"id":"plugins","level":0,"title":"Plugins","anchor":"#plugins"},{"id":"exceptions","level":0,"title":"Exceptions","anchor":"#exceptions"}]</script>   <link href="https://resources.jetbrains.com/storage/help-app/v5/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Internal API Migration | IntelliJ Platform Plugin SDK"/><meta property="og:description" content=""/><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"/><meta property="og:site_name" content="IntelliJ Platform Plugin SDK Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="https://plugins.jetbrains.com/docs/intellij/api-internal.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@JBPlatform"><meta name="twitter:title" content="Internal API Migration | IntelliJ Platform Plugin SDK"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@JBPlatform"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://plugins.jetbrains.com/docs/intellij/api-internal.html#webpage", "url": "https://plugins.jetbrains.com/docs/intellij/api-internal.html", "name": "Internal API Migration | IntelliJ Platform Plugin SDK", "description": "", "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://plugins.jetbrains.com/docs/intellij/#website", "url": "https://plugins.jetbrains.com/docs/intellij/", "name": "IntelliJ Platform Plugin SDK Help" }</script><!-- End Schema.org --></head>    <body data-id="api_internal.md" data-main-title="Internal API Migration" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Appendix II — API and Compatibility"  data-edit-url="https://github.com/JetBrains/intellij-sdk-docs/edit/main/topics/appendix/api_internal/api_internal.md"  >  <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ Platform Plugin SDK  Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">      </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="api_internal.md" id="api_internal.md"  >Internal API Migration</h1><p id="e1ce3d2b_218" ></p><p id="e1ce3d2b_220" >This page lists commonly used API annotated with <a href="https://github.com/JetBrains/java-annotations/blob/master/common/src/main/java/org/jetbrains/annotations/ApiStatus.java" id="e1ce3d2b_221"   data-external="true" rel="noopener noreferrer" ><code class="code " id="e1ce3d2b_222"  >org.jetbrains.annotations.ApiStatus.Internal</code></a> which indicates it is <span class="emphasis" id="e1ce3d2b_223" >private API</span> and must not be used outside of IntelliJ Platform itself:</p><aside data-type="tip" class="prompt" data-title="" id="e1ce3d2b_224" ><p id="e1ce3d2b_225" ><span class="emphasis" id="e1ce3d2b_226" ><code class="code " id="e1ce3d2b_227"  >ApiStatus.Internal</code> Javadoc:</span></p><p id="e1ce3d2b_228" >Indicates that the annotated element (class, method, field, etc.) <span class="control" id="e1ce3d2b_229" >must not be considered as a public API</span>. It's made visible to allow usages in other packages of the declaring library, but it <span class="control" id="e1ce3d2b_230" >must not be used outside of that library</span>. Such elements may be renamed, changed or removed in future versions.</p></aside><p id="e1ce3d2b_231" >Such violations are reported from <a href="verifying-plugin-compatibility.html#plugin-verifier" id="e1ce3d2b_232" data-tooltip="Compatibility with newer IDEs can easily be verified for plugins hosted on the JetBrains Marketplace using the built-in Plugin Verifier."  >Plugin Verifier</a> and are highlighted in the IDE using <a href="verifying-plugin-compatibility.html#ide-support" id="e1ce3d2b_233" data-tooltip="Consider using the following IDE inspections to get additional alerts about code that uses unstable API features:"  >dedicated inspection</a>.</p><p id="e1ce3d2b_234" >Each entry is mapped to its corresponding <span class="emphasis" id="e1ce3d2b_235" >Replacement</span>, pointing to recommended API.</p><aside data-type="tip" class="prompt" data-title="" id="e1ce3d2b_236" ><p id="e1ce3d2b_237" >The list is not complete and will be updated continuously. Please check corresponding code documentation when encountering any API not listed below.</p><p id="e1ce3d2b_238" >In some cases, such documentation might not be available inside the IDE for the current target platform version. Please use <span class="control" id="e1ce3d2b_239" >Go to file</span> to browse the latest version in the <a href="https://github.com/jetbrains/intellij-community" id="e1ce3d2b_240"   data-external="true" rel="noopener noreferrer" >intellij-community</a> GitHub repository instead.</p><p id="e1ce3d2b_241" >Please use the feedback form at the bottom of this page if you encounter missing or unclear information.</p></aside><section class="chapter"  ><h2 id="intellij-platform" data-toc="intellij-platform"  >IntelliJ Platform</h2><div class="table-wrapper" ><table class=" wide" id="e1ce3d2b_242"  ><thead><tr class=" ijRowHead" id="e1ce3d2b_243" ><th id="e1ce3d2b_244"    ><p>Internal API</p></th><th id="e1ce3d2b_245"    ><p>Replacement</p></th></tr></thead><tbody ><tr class="" id="e1ce3d2b_246" ><td id="e1ce3d2b_247"    ><p><code class="code " id="e1ce3d2b_248"  >AnAction.applyTextOverride()</code></p></td><td id="e1ce3d2b_249"    ><p><a href="basic-action-system.html#setting-the-override-text-element" id="e1ce3d2b_250" data-tooltip="Beginning in 2020.1, an alternate version of an action's menu text can be declared for use depending on where an action appears. Using the <override-text> element, the menu text for an action can be different depending on context: menu location, toolbar, etc. This is also available…"  >Setting the Override-Text Element</a></p></td></tr><tr class="" id="e1ce3d2b_251" ><td id="e1ce3d2b_252"    ><p><code class="code " id="e1ce3d2b_253"  >ApplicationLoadListener</code></p></td><td id="e1ce3d2b_254"    ><p>See <a href="plugin-components.html#application-startup" id="e1ce3d2b_255" data-tooltip="Executing code on application startup should be avoided whenever possible because it slows down startup."  >Application Startup</a></p></td></tr><tr class="" id="e1ce3d2b_256" ><td id="e1ce3d2b_257"    ><p><code class="code " id="e1ce3d2b_258"  >BuildNumber.currentVersion()</code></p></td><td id="e1ce3d2b_259"    ><p>Use <code class="code " id="e1ce3d2b_260"  >ApplicationInfo.getBuild()</code></p></td></tr><tr class="" id="e1ce3d2b_261" ><td id="e1ce3d2b_262"    ><p><code class="code " id="e1ce3d2b_263"  >CompactVirtualFileSet</code></p></td><td id="e1ce3d2b_264"    ><p>Use <code class="code " id="e1ce3d2b_265"  >VfsUtilCore.createCompactVirtualFileSet()</code></p></td></tr><tr class="" id="e1ce3d2b_266" ><td id="e1ce3d2b_267"    ><p><code class="code " id="e1ce3d2b_268"  >DefaultPicoContainer</code></p></td><td id="e1ce3d2b_269"    ><p>Use <a href="plugin-extensions.html" id="e1ce3d2b_270" data-tooltip="Extensions are the most common way of customizing functionality in the IDE."  >extension points</a> and <a href="plugin-services.html" id="e1ce3d2b_271" data-tooltip="A service is a plugin component loaded on demand when your plugin calls the getService() method of corresponding ComponentManager instance (see Types). The IntelliJ Platform ensures that only one instance of a service is loaded even though it is called several times."  >services</a></p></td></tr><tr class="" id="e1ce3d2b_272" ><td id="e1ce3d2b_273"    ><p><code class="code " id="e1ce3d2b_274"  >EdtDataContext</code></p></td><td id="e1ce3d2b_275"    ><p><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/openapi/actionSystem/impl/EdtDataContext.java" id="e1ce3d2b_276"   data-external="true" rel="noopener noreferrer" >See Doc</a></p></td></tr><tr class="" id="e1ce3d2b_277" ><td id="e1ce3d2b_278"    ><p><code class="code " id="e1ce3d2b_279"  >FileTypeIndex.NAME</code></p></td><td id="e1ce3d2b_280"    ><p>Use static methods in <code class="code " id="e1ce3d2b_281"  >FileTypeIndex</code> directly</p></td></tr><tr class="" id="e1ce3d2b_282" ><td id="e1ce3d2b_283"    ><p><code class="code " id="e1ce3d2b_284"  >IElementType.getDebugName()</code></p></td><td id="e1ce3d2b_285"    ><p>Override/use <code class="code " id="e1ce3d2b_286"  >IElementType.toString()</code></p></td></tr><tr class="" id="e1ce3d2b_287" ><td id="e1ce3d2b_288"    ><p><code class="code " id="e1ce3d2b_289"  >IconLoader.CachedImageIcon</code></p></td><td id="e1ce3d2b_290"    ><p>Use methods exposed in <code class="code " id="e1ce3d2b_291"  >IconLoader</code></p></td></tr><tr class="" id="e1ce3d2b_292" ><td id="e1ce3d2b_293"    ><p><code class="code " id="e1ce3d2b_294"  >IconLoader.LazyIcon</code></p></td><td id="e1ce3d2b_295"    ><p>Use <code class="code " id="e1ce3d2b_296"  >IconLoader.createLazy()</code></p></td></tr><tr class="" id="e1ce3d2b_297" ><td id="e1ce3d2b_298"    ><p><code class="code " id="e1ce3d2b_299"  >IndexingDataKeys</code></p></td><td id="e1ce3d2b_300"    ><p><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/core-impl/src/com/intellij/util/indexing/IndexingDataKeys.java" id="e1ce3d2b_301"   data-external="true" rel="noopener noreferrer" >See Doc</a></p></td></tr><tr class="" id="e1ce3d2b_302" ><td id="e1ce3d2b_303"    ><p><code class="code " id="e1ce3d2b_304"  >Module.getModuleFile()</code></p></td><td id="e1ce3d2b_305"    ><p><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/core-api/src/com/intellij/openapi/module/Module.java" id="e1ce3d2b_306"   data-external="true" rel="noopener noreferrer" >See Doc</a></p></td></tr><tr class="" id="e1ce3d2b_307" ><td id="e1ce3d2b_308"    ><p><code class="code " id="e1ce3d2b_309"  >Module.getModuleFilePath()</code></p></td><td id="e1ce3d2b_310"    ><p><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/core-api/src/com/intellij/openapi/module/Module.java" id="e1ce3d2b_311"   data-external="true" rel="noopener noreferrer" >See Doc</a></p></td></tr><tr class="" id="e1ce3d2b_312" ><td id="e1ce3d2b_313"    ><p><code class="code " id="e1ce3d2b_314"  >Module.getModuleTypeName()</code></p></td><td id="e1ce3d2b_315"    ><p><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/core-api/src/com/intellij/openapi/module/Module.java" id="e1ce3d2b_316"   data-external="true" rel="noopener noreferrer" >See Doc</a></p></td></tr><tr class="" id="e1ce3d2b_317" ><td id="e1ce3d2b_318"    ><p><code class="code " id="e1ce3d2b_319"  >ModuleTypeManager.registerModuleType()</code></p></td><td id="e1ce3d2b_320"    ><p>Use <code class="code " id="e1ce3d2b_321"  >com.intellij.moduleType</code> extension point instead, <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/lang-core/src/com/intellij/openapi/module/ModuleType.java" id="e1ce3d2b_322"   data-external="true" rel="noopener noreferrer" ><code class="code " id="e1ce3d2b_323"  >ModuleType</code></a></p></td></tr><tr class="" id="e1ce3d2b_324" ><td id="e1ce3d2b_325"    ><p><code class="code " id="e1ce3d2b_326"  >PathMacros.setMacro()</code></p></td><td id="e1ce3d2b_327"    ><p>Use <code class="code " id="e1ce3d2b_328"  >com.intellij.pathMacroContributor</code> extension point, <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/core-api/src/com/intellij/openapi/application/PathMacroContributor.java" id="e1ce3d2b_329"   data-external="true" rel="noopener noreferrer" ><code class="code " id="e1ce3d2b_330"  >PathMacroContributor</code></a></p></td></tr><tr class="" id="e1ce3d2b_331" ><td id="e1ce3d2b_332"    ><p><code class="code " id="e1ce3d2b_333"  >PlatformUtils</code></p></td><td id="e1ce3d2b_334"    ><p><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/core-api/src/com/intellij/util/PlatformUtils.java" id="e1ce3d2b_335"   data-external="true" rel="noopener noreferrer" >See Doc</a></p></td></tr><tr class="" id="e1ce3d2b_336" ><td id="e1ce3d2b_337"    ><p><code class="code " id="e1ce3d2b_338"  >PluginClassLoader</code></p></td><td id="e1ce3d2b_339"    ><p>Cast to <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/extensions/src/com/intellij/ide/plugins/cl/PluginAwareClassLoader.java" id="e1ce3d2b_340"   data-external="true" rel="noopener noreferrer" ><code class="code " id="e1ce3d2b_341"  >PluginAwareClassLoader</code></a></p></td></tr><tr class="" id="e1ce3d2b_342" ><td id="e1ce3d2b_343"    ><p><code class="code " id="e1ce3d2b_344"  >PluginManager.getLogger()</code></p></td><td id="e1ce3d2b_345"    ><p>Use own logger, see <a href="ide-infrastructure.html#logging" id="e1ce3d2b_346" data-tooltip="If your plugin uses log4j library directly: it is removed from IntelliJ Platform in 2022.1; please see this blog post for migration instructions."  >Logging</a></p></td></tr><tr class="" id="e1ce3d2b_347" ><td id="e1ce3d2b_348"    ><p><code class="code " id="e1ce3d2b_349"  >ProjectLibraryTable</code></p></td><td id="e1ce3d2b_350"    ><p>Use <code class="code " id="e1ce3d2b_351"  >LibraryTablesRegistrar.getLibraryTable()</code></p></td></tr><tr class="" id="e1ce3d2b_352" ><td id="e1ce3d2b_353"    ><p><code class="code " id="e1ce3d2b_354"  >SVGLoader</code></p></td><td id="e1ce3d2b_355"    ><p>Use <code class="code " id="e1ce3d2b_356"  >ImageLoader.loadFromResource()</code></p></td></tr><tr class="" id="e1ce3d2b_357" ><td id="e1ce3d2b_358"    ><p><code class="code " id="e1ce3d2b_359"  >ScrollBarPainter</code></p></td><td id="e1ce3d2b_360"    ><p><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-api/src/com/intellij/ui/components/ScrollBarPainter.java" id="e1ce3d2b_361"   data-external="true" rel="noopener noreferrer" >See Doc</a></p></td></tr><tr class="" id="e1ce3d2b_362" ><td id="e1ce3d2b_363"    ><p><code class="code " id="e1ce3d2b_364"  >UtilKt.targetPresentation()</code></p></td><td id="e1ce3d2b_365"    ><p><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/lang-impl/src/com/intellij/codeInsight/navigation/util.kt" id="e1ce3d2b_366"   data-external="true" rel="noopener noreferrer" >See Doc</a></p></td></tr></tbody ></table ></div></section><section class="chapter"  ><h2 id="plugins" data-toc="plugins"  >Plugins</h2><section class="chapter"  ><h3 id="database-plugin" data-toc="database-plugin"  >Database Plugin</h3><div class="table-wrapper" ><table class=" wide" id="e1ce3d2b_367"  ><thead><tr class=" ijRowHead" id="e1ce3d2b_368" ><th id="e1ce3d2b_369"    ><p>Internal API</p></th><th id="e1ce3d2b_370"    ><p>Replacement</p></th></tr></thead><tbody ><tr class="" id="e1ce3d2b_371" ><td id="e1ce3d2b_372"    ><p><code class="code " id="e1ce3d2b_373"  >DbDataSource.getDelegate()</code></p></td><td id="e1ce3d2b_374"    ><p>For connection config use <code class="code " id="e1ce3d2b_375"  >DbDataSource.getConnectionConfig()</code>, for <code class="code " id="e1ce3d2b_376"  >LocalDataSource</code> use <code class="code " id="e1ce3d2b_377"  >DbImplUtil.getMaybeLocalDataSource(DasDataSource)</code></p></td></tr></tbody ></table ></div></section></section><section class="chapter"  ><h2 id="exceptions" data-toc="exceptions"  >Exceptions</h2><p id="e1ce3d2b_378" >The API listed in this table is currently (or was previously) marked with <code class="code " id="e1ce3d2b_379"  >@ApiStatus.Internal</code>, but its status has changed in the meantime (or will change). Therefore, any reported violations can be disregarded.</p><div class="table-wrapper" ><table class=" wide" id="e1ce3d2b_380"  ><thead><tr class=" ijRowHead" id="e1ce3d2b_381" ><th id="e1ce3d2b_382"    ><p>Internal API</p></th><th id="e1ce3d2b_383"    ><p>Note</p></th></tr></thead><tbody ><tr class="" id="e1ce3d2b_384" ><td id="e1ce3d2b_385"    ><p><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/ide-core/src/com/intellij/ui/AnimatedIcon.java" id="e1ce3d2b_386"   data-external="true" rel="noopener noreferrer" ><code class="code " id="e1ce3d2b_387"  >AnimatedIcon.ANIMATION_IN_RENDERER_ALLOWED</code></a></p></td><td id="e1ce3d2b_388"    ><p>Made public in 2021.3</p></td></tr><tr class="" id="e1ce3d2b_389" ><td id="e1ce3d2b_390"    ><p><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/util/src/com/intellij/BundleBase.java" id="e1ce3d2b_391"   data-external="true" rel="noopener noreferrer" ><code class="code " id="e1ce3d2b_392"  >BundleBase</code></a></p></td><td id="e1ce3d2b_393"    ><p>Made public in 2022.1</p></td></tr><tr class="" id="e1ce3d2b_394" ><td id="e1ce3d2b_395"    ><p><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/indexing-api/src/com/intellij/util/indexing/IdFilter.java" id="e1ce3d2b_396"   data-external="true" rel="noopener noreferrer" ><code class="code " id="e1ce3d2b_397"  >IdFilter</code></a></p></td><td id="e1ce3d2b_398"    ><p>Reverted in 2021.2/3</p></td></tr><tr class="" id="e1ce3d2b_399" ><td id="e1ce3d2b_400"    ><p><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/lang-impl/src/com/intellij/ide/actions/runAnything/activity/RunAnythingCommandLineProvider.kt" id="e1ce3d2b_401"   data-external="true" rel="noopener noreferrer" ><code class="code " id="e1ce3d2b_402"  >RunAnythingCommandLineProvider</code></a></p></td><td id="e1ce3d2b_403"    ><p>Made public in 2021.3</p></td></tr><tr class="" id="e1ce3d2b_404" ><td id="e1ce3d2b_405"    ><p><code class="code " id="e1ce3d2b_406"  >PhpExpectedFunctionArgument</code></p></td><td id="e1ce3d2b_407"    ><p>Made public in 2022.1</p></td></tr><tr class="" id="e1ce3d2b_408" ><td id="e1ce3d2b_409"    ><p><code class="code " id="e1ce3d2b_410"  >org.jetbrains.yaml.meta.*</code></p></td><td id="e1ce3d2b_411"    ><p>YAML Metadata API will be made public in 2022.2</p></td></tr></tbody ></table ></div><aside data-type="tip" class="prompt" data-title="" id="e1ce3d2b_412" ><p id="e1ce3d2b_413" >Missing entries? Please let us know via the &quot;<span class="control" id="e1ce3d2b_414" >Was this page helpful?</span>&quot; feedback form below or <a href="getting-help.html#problems-with-the-guide" id="e1ce3d2b_415" data-tooltip="If you're having problems with the guide itself, such as missing, incorrect, or confusing content, please raise an issue on YouTrack. If the problem is easily solved, you can also submit a Pull Request."  >other channels</a>.</p><p id="e1ce3d2b_416" >Please leave your email in case we need more details.</p></aside></section><div class="last-modified"> Last modified: 29 九月 2022</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="api-notable-list-2019.html">Notable Changes in IntelliJ Platform and Plugins API 2019.*</a>   <a class="navigation-links__next" href="tools-gradle-intellij-plugin.html">Gradle IntelliJ Plugin</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/storage/help-app/v5/app.js"></script></body></html>