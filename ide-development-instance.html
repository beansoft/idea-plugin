<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2022-09-28T11:33:49.8920147"><meta name="build-number" content="${buildNumber}">    <meta name="keywords" content="">  <title>IDE Development Instance | IntelliJ Platform Plugin SDK</title><script id="virtual-toc-data" type="application/json">[{"id":"using-a-jetbrains-runtime-for-the-development-instance","level":0,"title":"Using a JetBrains Runtime for the Development Instance","anchor":"#using-a-jetbrains-runtime-for-the-development-instance"},{"id":"enabling-auto-reload","level":0,"title":"Enabling Auto-Reload","anchor":"#enabling-auto-reload"},{"id":"the-development-instance-sandbox-directory","level":0,"title":"The Development Instance Sandbox Directory","anchor":"#the-development-instance-sandbox-directory"}]</script>   <link href="https://resources.jetbrains.com/storage/help-app/v5/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="IDE Development Instance | IntelliJ Platform Plugin SDK"/><meta property="og:description" content=""/><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"/><meta property="og:site_name" content="IntelliJ Platform Plugin SDK Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="https://plugins.jetbrains.com/docs/intellij/ide-development-instance.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@JBPlatform"><meta name="twitter:title" content="IDE Development Instance | IntelliJ Platform Plugin SDK"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@JBPlatform"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://plugins.jetbrains.com/docs/intellij/ide-development-instance.html#webpage", "url": "https://plugins.jetbrains.com/docs/intellij/ide-development-instance.html", "name": "IDE Development Instance | IntelliJ Platform Plugin SDK", "description": "", "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://plugins.jetbrains.com/docs/intellij/#website", "url": "https://plugins.jetbrains.com/docs/intellij/", "name": "IntelliJ Platform Plugin SDK Help" }</script><!-- End Schema.org --></head>    <body data-id="ide_development_instance.md" data-main-title="IDE Development Instance" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Part I — 插件"  data-edit-url="https://github.com/JetBrains/intellij-sdk-docs/edit/main/topics/basics/ide_development_instance.md"  >  <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ Platform Plugin SDK  Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">      </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="ide_development_instance.md" id="ide_development_instance.md"  >IDE Development Instance</h1><p id="539d59ff_1" >A JetBrains feature for developing plugins is running or debugging a plugin project from within an IntelliJ Platform-based IDE such as IntelliJ IDEA. Selecting the <a href="gradle-prerequisites.html#running-a-simple-gradle-based-intellij-platform-plugin" id="539d59ff_2" data-tooltip="Gradle projects are run from the IDE's Gradle Tool window."  ><code class="code " id="539d59ff_3"  >runIde</code></a> task for a Gradle-based project (or <a href="running-and-debugging-a-plugin.html" id="539d59ff_4" data-tooltip="It's possible to run and debug a plugin directly from the IntelliJ IDEA. You need a configured special profile (a Plugin Run/Debug configuration) that specifies the plugin module, VM parameters, and other specific options. When you run such a profile, it launches the IDE with your…"  >Run</a> menu for a DevKit-based project) will launch a <span class="emphasis" id="539d59ff_5" >Development Instance</span> of the IDE with the plugin enabled. This page describes how to control some of the settings for the Development Instance.</p><aside data-type="tip" class="prompt" data-title="" id="539d59ff_6" ><p id="539d59ff_7" >Please see also <a href="https://www.jetbrains.com/help/idea/tuning-the-ide.html" id="539d59ff_8"   data-external="true" rel="noopener noreferrer" >Advanced Configuration</a> for general VM options and properties.</p></aside><section class="chapter"  ><h2 id="using-a-jetbrains-runtime-for-the-development-instance" data-toc="using-a-jetbrains-runtime-for-the-development-instance"  >Using a JetBrains Runtime for the Development Instance</h2><p id="539d59ff_9" >An everyday use case is to develop (build) a plugin project against a JDK, e.g., Java 8, and then run or debug the plugin in a Development Instance of the IDE. In such a situation, Development Instance must use a JetBrains Runtime (JBR) rather than the JDK used to build the plugin project.</p><p id="539d59ff_10" >The JetBrains Runtime is an environment for running IntelliJ Platform-based IDEs on Windows, macOS, and Linux. It has some modifications by JetBrains, such as fixes for native crashes not present in official JDK builds. A version of the JetBrains Runtime is bundled with all IntelliJ Platform-based IDEs. To produce accurate results while running or debugging a plugin project in a Development Instance, follow the procedures below to ensure the Development Instance uses a JetBrains Runtime.</p><section class="chapter"  ><h3 id="determining-a-jetbrains-runtime-version" data-toc="determining-a-jetbrains-runtime-version"  >Determining a JetBrains Runtime Version</h3><p id="539d59ff_11" >The JetBrains Runtime is determined from the JDK version used to build the plugin project, regardless of whether it is built on macOS, Windows, or Linux. For example, if a plugin is developed against the Java 8 SE Development Kit 8 for macOS (<span class="filepath" id="539d59ff_12" >jdk-8u212-macosx-x64.dmg</span>) to acquire the compatible JetBrains Runtime:</p><ul class="list _ul" id="539d59ff_13"    ><li class="list__item" id="539d59ff_14" ><p>Go to the <a href="https://github.com/JetBrains/JetBrainsRuntime" id="539d59ff_15"   data-external="true" rel="noopener noreferrer" >GitHub JetBrains Runtime Releases</a> for general information and the latest build.</p></li><li class="list__item" id="539d59ff_16" ><p>Open the <a href="https://github.com/JetBrains/JetBrainsRuntime/releases" id="539d59ff_17"   data-external="true" rel="noopener noreferrer" >Releases</a> page to access all releases.</p></li><li class="list__item" id="539d59ff_18" ><p>Select the package name corresponding to the platform and SDK version. In this case, the package name is <code class="code " id="539d59ff_19"  >jbrsdk8-osx-x64</code> for <span class="control" id="539d59ff_20" >J</span>et<span class="control" id="539d59ff_21" >B</span>rains <span class="control" id="539d59ff_22" >R</span>untime <span class="emphasis" id="539d59ff_23" >SDK</span> version 8, macOS x64 hardware.</p></li><li class="list__item" id="539d59ff_24" ><p>In the list of files, find the name that satisfies: </p><ul class="list _ul" id="539d59ff_25"    ><li class="list__item" id="539d59ff_26" ><p>The version and build number match the JDK used to build the plugin project. For example, <code class="code " id="539d59ff_27"  >jbrx-8u252-osx-x64</code> matches the Java 8 JDK, build 252: <code class="code " id="539d59ff_28"  >jdk-8u252-macosx-x64</code>.</p></li><li class="list__item" id="539d59ff_29" ><p>Pick the highest JetBrains Runtime build number available. For example, the file is <span class="filepath" id="539d59ff_30" >jbrx-8u252-osx-x64-b1649.2.tar.gz</span>, meaning build 1649.2 for this JetBrains Runtime matching Java 8 JDK build 252.</p></li></ul></li></ul></section><section class="chapter"  ><h3 id="jetbrains-runtime-variants" data-toc="jetbrains-runtime-variants"  >JetBrains Runtime Variants</h3><p id="539d59ff_31" >The JetBrains Runtime is delivered in various variants used for different purposes, like debugging, running for development purposes or bundling with the IDE.</p><p id="539d59ff_32" >Available JBR variants are:</p><ul class="list _ul" id="539d59ff_33"    ><li class="list__item" id="539d59ff_34" ><p><code class="code " id="539d59ff_35"  >jcef</code> - the release bundles with the <a href="jcef.html" id="539d59ff_36" data-tooltip="JCEF is available since 2020.1 as an experimental feature. We plan to deprecate using JavaFX in 3rd party plugins and switch to JCEF in 2020.2. To continue using JavaFX in 2020.2 or later, an explicit dependency on JavaFX Runtime for Plugins must be added. Please see also blog post…"  >JCEF</a> browser engine</p></li><li class="list__item" id="539d59ff_37" ><p><code class="code " id="539d59ff_38"  >sdk</code> - JBR SDK bundle used for development purposes</p></li><li class="list__item" id="539d59ff_39" ><p><code class="code " id="539d59ff_40"  >fd</code> - the fastdebug bundle which also includes the <code class="code " id="539d59ff_41"  >jcef</code> module</p></li><li class="list__item" id="539d59ff_42" ><p><code class="code " id="539d59ff_43"  >dcevm</code> - bundles DCEVM (Dynamic Code Evolution Virtual Machine)</p></li><li class="list__item" id="539d59ff_44" ><p><code class="code " id="539d59ff_45"  >nomod</code> – the release bundled without any additional modules</p></li></ul><aside data-type="tip" class="prompt" data-title="" id="539d59ff_46" ><p id="539d59ff_47" >For <code class="code " id="539d59ff_48"  >JBR 17</code>, <code class="code " id="539d59ff_49"  >dcevm</code> is bundled by default. As a consequence, separated <code class="code " id="539d59ff_50"  >dcevm</code> and <code class="code " id="539d59ff_51"  >nomod</code> variants are no longer available.</p></aside><div class="tabs" id="539d59ff_52"data-group="project-type"><div class="tabs__content" data-gtm="tab" id="539d59ff_53" data-sync-tabs="gradle"  data-title="Gradle" ><p id="539d59ff_54" >By default, the Gradle plugin will fetch and use the version of the JetBrains Runtime for the Development Instance corresponding to the version of the IntelliJ Platform used for building the plugin project. If required, an alternative version can be specified using <a href="tools-gradle-intellij-plugin.html#runide-task-jbrversion" id="539d59ff_55" data-tooltip="Custom JetBrains Runtime (JBR) version to use for running the IDE."  ><code class="code " id="539d59ff_56"  >runIde.jbrVersion</code></a> task property.</p></div><div class="tabs__content" data-gtm="tab" id="539d59ff_57" data-sync-tabs="devkit"  data-title="DevKit" ><p id="539d59ff_58" >The <a href="https://www.jetbrains.com/help/idea/run-debug-configuration.html" id="539d59ff_59"   data-external="true" rel="noopener noreferrer" >Run Configuration</a> for a DevKit-based plugin project controls the JDK used to run and debug a plugin project in a Development Instance. The default Run Configuration uses the same JDK for building the plugin project and running the plugin in a Development Instance.</p><p id="539d59ff_60" >To change the runtime for the Development Instance, set the <span class="emphasis" id="539d59ff_61" >JRE</span> field in the Run Configuration edit dialog to download a JetBrains Runtime.</p></div></div></section></section><section class="chapter"  ><h2 id="enabling-auto-reload" data-toc="enabling-auto-reload"  >Enabling Auto-Reload</h2><p id="539d59ff_62" >Starting in 2020.1, this is available for compatible <a href="dynamic-plugins.html" id="539d59ff_63" data-tooltip="Starting with the 2020.1 release, installing, updating, and uninstalling plugins without restarting the IDE is available in the IntelliJ Platform."  >dynamic plugins</a>. This allows a much faster development cycle by avoiding a full restart of the development instance after detecting code changes (when JARs are modified).</p><p id="539d59ff_64" >Please note that any unloading problems in a production environment will ask the user to restart the IDE.</p><aside data-type="tip" class="prompt" data-title="" id="539d59ff_65" ><p id="539d59ff_66" >Auto-Reload does not work when the sandbox IDE instance is running under a debugger.</p></aside><div class="tabs" id="539d59ff_67"data-group="project-type"><div class="tabs__content" data-gtm="tab" id="539d59ff_68" data-sync-tabs="gradle"  data-title="Gradle" ><p id="539d59ff_69" >Enabled by default for target platform 2020.2 or later.</p><p id="539d59ff_70" >Set property <code class="code " id="539d59ff_71"  >intellij.autoReloadPlugins</code> in <a href="gradle-prerequisites.html#running-a-simple-gradle-based-intellij-platform-plugin" id="539d59ff_72" data-tooltip="Gradle projects are run from the IDE's Gradle Tool window."  ><code class="code " id="539d59ff_73"  >runIde</code></a> task to <code class="code " id="539d59ff_74"  >true</code> for enabling it in earlier platform versions or <code class="code " id="539d59ff_75"  >false</code> to disable it explicitly, see <a href="tools-gradle-intellij-plugin-faq.html#how-to-disable-automatic-reload-of-dynamic-plugins" id="539d59ff_76" data-tooltip="See for important caveats."  >How to disable automatic reload of dynamic plugins</a>.</p><p id="539d59ff_77" >After starting the sandbox IDE instance, run <a href="tools-gradle-intellij-plugin.html#tasks-buildplugin" id="539d59ff_78" data-tooltip="Assembles a plugin and prepares ZIP archive for deployment."  ><code class="code " id="539d59ff_79"  >buildPlugin</code></a> task after modifications in the plugin project and switch focus back to sandbox instance to trigger reload.</p><aside data-type="tip" class="prompt" data-title="" id="539d59ff_80" ><p id="539d59ff_81" ><a href="tools-gradle-intellij-plugin.html#tasks-buildsearchableoptions" id="539d59ff_82" data-tooltip="Builds an index of UI components (searchable options) for the plugin. This task runs a headless IDE instance to collect all the available options provided by the plugin's ."  ><code class="code " id="539d59ff_83"  >buildSearchableOptions</code></a> task must currently be <a href="tools-gradle-intellij-plugin-faq.html#how-to-disable-building-searchable-options" id="539d59ff_84" data-tooltip="Building searchable options can be disabled as a task:"  >disabled explicitly</a> to workaround <span class="emphasis" id="539d59ff_85" >Only one instance of IDEA can be run at a time</span> problem.</p></aside></div><div class="tabs__content" data-gtm="tab" id="539d59ff_86" data-sync-tabs="devkit"  data-title="DevKit" ><p id="539d59ff_87" >Add system property <code class="code " id="539d59ff_88"  >idea.auto.reload.plugins</code> in the Plugin DevKit <a href="running-and-debugging-a-plugin.html" id="539d59ff_89" data-tooltip="It's possible to run and debug a plugin directly from the IntelliJ IDEA. You need a configured special profile (a Plugin Run/Debug configuration) that specifies the plugin module, VM parameters, and other specific options. When you run such a profile, it launches the IDE with your…"  >run configuration</a>.</p><p id="539d59ff_90" >To disable auto-reload, set <code class="code " id="539d59ff_91"  >idea.auto.reload.plugins</code> to <code class="code " id="539d59ff_92"  >false</code> explicitly (2020.1.2+).</p></div></div></section><section class="chapter"  ><h2 id="the-development-instance-sandbox-directory" data-toc="the-development-instance-sandbox-directory"  >The Development Instance Sandbox Directory</h2><p id="539d59ff_93" >The <span class="emphasis" id="539d59ff_94" >Sandbox Home</span> directory contains the <a href="#development-instance-settings-caches-logs-and-plugins" id="539d59ff_95" data-tooltip="Within the Sandbox Home directory are subdirectories of the Development Instance:"  >settings, caches, logs, and plugins</a> for a Development Instance of the IDE. This information is stored in a different location than for the <a href="https://intellij-support.jetbrains.com/hc/en-us/articles/206544519-Directories-used-by-the-IDE-to-store-settings-caches-plugins-and-logs" id="539d59ff_96"   data-external="true" rel="noopener noreferrer" >installed IDE itself</a>.</p><div class="tabs" id="539d59ff_97"data-group="project-type"><div class="tabs__content" data-gtm="tab" id="539d59ff_98" data-sync-tabs="gradle"  data-title="Gradle" ><p id="539d59ff_99" >For Gradle-based plugins, the default Sandbox Home location is defined by the <a href="tools-gradle-intellij-plugin.html" id="539d59ff_100" data-tooltip="The Gradle IntelliJ Plugin is a plugin for the Gradle build system to help configuring your environment for building, testing, verifying, and publishing plugins for IntelliJ-based IDEs."  >Gradle IntelliJ Plugin</a>. See <a href="gradle-prerequisites.html" id="539d59ff_101" data-tooltip="Gradle is the preferred solution for creating IntelliJ Platform plugins. The IntelliJ IDEA Ultimate and Community editions bundle the necessary plugins to support Gradle-based development. These IntelliJ IDEA plugins are Gradle and Plugin DevKit, which are enabled by default. To…"  >Configuring a Gradle Plugin Project</a> for more information about specifying a Sandbox Home location.</p><p id="539d59ff_102" >The default Sandbox Home location is:</p><ul class="list _ul" id="539d59ff_103"    ><li class="list__item" id="539d59ff_104" ><p>Windows: <span class="filepath" id="539d59ff_105" >$PROJECT_DIRECTORY$\build\idea-sandbox</span></p></li><li class="list__item" id="539d59ff_106" ><p>Linux/macOS: <span class="filepath" id="539d59ff_107" >$PROJECT_DIRECTORY$/build/idea-sandbox</span></p></li></ul></div><div class="tabs__content" data-gtm="tab" id="539d59ff_108" data-sync-tabs="devkit"  data-title="DevKit" ><p id="539d59ff_109" >For DevKit-based plugins, the default Sandbox Home location is defined in the IntelliJ Platform Plugin SDK. See specifying the <a href="setting-up-environment.html" id="539d59ff_110" data-tooltip="For new projects, it is highly recommended to use Gradle-based setup."  >Sandbox Home for DevKit Projects</a> for more information.</p><p id="539d59ff_111" >The default Sandbox Home directory location is:</p><ul class="list _ul" id="539d59ff_112"    ><li class="list__item" id="539d59ff_113" ><p>Windows: <code class="code " id="539d59ff_114"  >&lt;User home&gt;.&lt;product_system_name&gt;&lt;product_version&gt;\system\plugins-sandbox\</code></p></li><li class="list__item" id="539d59ff_115" ><p>Linux: <code class="code " id="539d59ff_116"  >~/.&lt;product_system_name&gt;&lt;product_version&gt;/system/plugins-sandbox/</code></p></li><li class="list__item" id="539d59ff_117" ><p>macOS: <code class="code " id="539d59ff_118"  >~/Library/Caches/&lt;product_system_name&gt;&lt;product_version&gt;/plugins-sandbox/</code></p></li></ul></div></div><section class="chapter"  ><h3 id="development-instance-settings-caches-logs-and-plugins" data-toc="development-instance-settings-caches-logs-and-plugins"  >Development Instance Settings, Caches, Logs, and Plugins</h3><p id="539d59ff_119" >Within the Sandbox Home directory are subdirectories of the Development Instance:</p><ul class="list _ul" id="539d59ff_120"    ><li class="list__item" id="539d59ff_121" ><p><span class="filepath" id="539d59ff_122" >config</span> contains settings for the IDE instance.</p></li><li class="list__item" id="539d59ff_123" ><p><span class="filepath" id="539d59ff_124" >plugins</span> contains folders for each plugin being run in the IDE instance.</p></li><li class="list__item" id="539d59ff_125" ><p><span class="filepath" id="539d59ff_126" >system/caches</span> or <span class="filepath" id="539d59ff_127" >system\caches</span> holds the IDE instance data.</p></li><li class="list__item" id="539d59ff_128" ><p><span class="filepath" id="539d59ff_129" >system/log</span> or <span class="filepath" id="539d59ff_130" >system\log</span> contains the <span class="filepath" id="539d59ff_131" >idea.log</span> file for the IDE instance.</p></li></ul><p id="539d59ff_132" >Each of these Sandbox Home subdirectories can be manually cleared to reset the IDE Development Instance. At the next launch of a Development Instance, the subdirectories will be repopulated with the appropriate information.</p></section></section><div class="last-modified"> Last modified: 28 九月 2022</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="publishing-plugin.html">Publishing a Plugin</a>   <a class="navigation-links__next" href="plugin-structure.html">Plugin Structure</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/storage/help-app/v5/app.js"></script></body></html>