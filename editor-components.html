<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2022-09-25T22:17:42.4639197"><meta name="build-number" content="${buildNumber}">    <meta name="keywords" content="">  <title>Editor Components | IntelliJ Platform Plugin SDK</title><script id="virtual-toc-data" type="application/json">[{"id":"editortextfield","level":0,"title":"EditorTextField","anchor":"#editortextfield"}]</script>   <link href="https://resources.jetbrains.com/storage/help-app/v5/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Editor Components | IntelliJ Platform Plugin SDK"/><meta property="og:description" content=""/><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"/><meta property="og:site_name" content="IntelliJ Platform Plugin SDK Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="https://plugins.jetbrains.com/docs/intellij/editor-components.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@JBPlatform"><meta name="twitter:title" content="Editor Components | IntelliJ Platform Plugin SDK"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@JBPlatform"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://plugins.jetbrains.com/docs/intellij/editor-components.html#webpage", "url": "https://plugins.jetbrains.com/docs/intellij/editor-components.html", "name": "Editor Components | IntelliJ Platform Plugin SDK", "description": "", "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://plugins.jetbrains.com/docs/intellij/#website", "url": "https://plugins.jetbrains.com/docs/intellij/", "name": "IntelliJ Platform Plugin SDK Help" }</script><!-- End Schema.org --></head>    <body data-id="editor_components.md" data-main-title="Editor Components" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Part II — Base Platform///user_interface_components.md|User Interface Components"  data-edit-url="https://github.com/JetBrains/intellij-sdk-docs/edit/main/topics/user_interface_components/editor_components.md"  >  <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ Platform Plugin SDK  Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">      </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="editor_components.md" id="editor_components.md"  >Editor Components</h1><section class="chapter"  ><h2 id="editortextfield" data-toc="editortextfield"  >EditorTextField</h2><p id="91ff33ae_1" >Compared to <a href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JTextArea.html" id="91ff33ae_2"   data-external="true" rel="noopener noreferrer" >Swing <code class="code " id="91ff33ae_3"  >JTextArea</code></a>, the IntelliJ Platform's editor component has a ton of advantages: syntax highlighting support, code completion, code folding and much more. Editors are normally displayed in editor tabs, but they can be embedded in dialogs or tool windows, too. This is enabled by the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/ui/EditorTextField.java" id="91ff33ae_4"   data-external="true" rel="noopener noreferrer" ><code class="code " id="91ff33ae_5"  >EditorTextField</code></a> component.</p><p id="91ff33ae_6" >The following attributes can be specified:</p><ul class="list _ul" id="91ff33ae_7"    ><li class="list__item" id="91ff33ae_8" ><p>The file type according to which the text in the text field is parsed;</p></li><li class="list__item" id="91ff33ae_9" ><p>Whether the text field is read-only or editable;</p></li><li class="list__item" id="91ff33ae_10" ><p>Whether the text field is single-line or multiline.</p></li></ul><p id="91ff33ae_11" >Further customizations are possible by subclassing and overriding <code class="code " id="91ff33ae_12"  >createEditor()</code> and applying <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/ui/EditorCustomization.java" id="91ff33ae_13"   data-external="true" rel="noopener noreferrer" ><code class="code " id="91ff33ae_14"  >EditorCustomization</code></a>. Several commonly needed customization implementations exist, including:</p><ul class="list _ul" id="91ff33ae_15"    ><li class="list__item" id="91ff33ae_16" ><p><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/spellchecker/src/com/intellij/spellchecker/ui/SpellCheckingEditorCustomization.java" id="91ff33ae_17"   data-external="true" rel="noopener noreferrer" ><code class="code " id="91ff33ae_18"  >SpellCheckingEditorCustomization</code></a> disables spellchecking</p></li><li class="list__item" id="91ff33ae_19" ><p><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/ui/HorizontalScrollBarEditorCustomization.java" id="91ff33ae_20"   data-external="true" rel="noopener noreferrer" ><code class="code " id="91ff33ae_21"  >HorizontalScrollBarEditorCustomization</code></a> to turn on/off horizontal scrollbar</p></li><li class="list__item" id="91ff33ae_22" ><p><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/ui/ErrorStripeEditorCustomization.java" id="91ff33ae_23"   data-external="true" rel="noopener noreferrer" ><code class="code " id="91ff33ae_24"  >ErrorStripeEditorCustomization</code></a> to turn on/off error stripes on right</p></li></ul><p id="91ff33ae_25" ><code class="code " id="91ff33ae_26"  >EditorTextField</code> has a number of subclasses that can be used as needed for additional features.</p><p id="91ff33ae_27" >If you want to use an editor as an input field in a dialog box, then consider using <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/ui/LanguageTextField.java" id="91ff33ae_28"   data-external="true" rel="noopener noreferrer" ><code class="code " id="91ff33ae_29"  >LanguageTextField</code></a>, it provides a more accessible API.</p><p id="91ff33ae_30" >If you want to add autocompletion to the editor, then use <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/util/textCompletion/TextFieldWithCompletion.java" id="91ff33ae_31"   data-external="true" rel="noopener noreferrer" ><code class="code " id="91ff33ae_32"  >TextFieldWithCompletion</code></a>. The constructor takes as an argument a class that implements <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/util/textCompletion/TextCompletionProvider.java" id="91ff33ae_33"   data-external="true" rel="noopener noreferrer" ><code class="code " id="91ff33ae_34"  >TextCompletionProvider</code></a> to provide autocompletion variants. Use <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/lang-impl/src/com/intellij/util/TextFieldCompletionProvider.java" id="91ff33ae_35"   data-external="true" rel="noopener noreferrer" ><code class="code " id="91ff33ae_36"  >TextFieldCompletionProvider</code></a> to create your own provider. For this, override <code class="code " id="91ff33ae_37"  >addCompletionVariants()</code> and add completion variants using <code class="code " id="91ff33ae_38"  >CompletionResultSet.addElement()</code>.</p><p id="91ff33ae_39" >See also <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/lang-impl/src/com/intellij/util/TextFieldCompletionProviderDumbAware.java" id="91ff33ae_40"   data-external="true" rel="noopener noreferrer" ><code class="code " id="91ff33ae_41"  >TextFieldCompletionProviderDumbAware</code></a> for completion even at the indexing stage.</p><p id="91ff33ae_42" >Refer to the <a href="code-completion.html" id="91ff33ae_43" data-tooltip="Two main types of code completion can be provided by custom language plugins: reference completion and contributor-based completion."  >Code Completion</a> to learn more about completion.</p><section class="chapter"  ><h3 id="java" data-toc="java"  >Java</h3><p id="91ff33ae_44" >A common use case for <code class="code " id="91ff33ae_45"  >EditorTextField</code> is entering the name of a Java class or package. This can be accomplished with the following steps:</p><ul class="list _ul" id="91ff33ae_46"    ><li class="list__item" id="91ff33ae_47" ><p>Use <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/java/java-psi-api/src/com/intellij/psi/JavaCodeFragmentFactory.java" id="91ff33ae_48"   data-external="true" rel="noopener noreferrer" ><code class="code " id="91ff33ae_49"  >JavaCodeFragmentFactory.createReferenceCodeFragment()</code></a> to create a code fragment representing the class or package name;</p></li><li class="list__item" id="91ff33ae_50" ><p>Call <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/core-api/src/com/intellij/psi/PsiDocumentManager.java" id="91ff33ae_51"   data-external="true" rel="noopener noreferrer" ><code class="code " id="91ff33ae_52"  >PsiDocumentManager.getDocument()</code></a> to get the document corresponding to the code fragment;</p></li><li class="list__item" id="91ff33ae_53" ><p>Pass the returned document to the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/ui/EditorTextField.java" id="91ff33ae_54"   data-external="true" rel="noopener noreferrer" ><code class="code " id="91ff33ae_55"  >EditorTextField</code></a> constructor or its <code class="code " id="91ff33ae_56"  >setDocument()</code> method.</p></li></ul><div class="code-block" data-lang="java"         >
PsiFile psiFile = PsiDocumentManager.getInstance(project)
        .getPsiFile(editor.getDocument());
PsiElement element = psiFile.findElementAt(editor.getCaretModel().getOffset());

PsiExpressionCodeFragment code =
        JavaCodeFragmentFactory.getInstance(project)
        .createExpressionCodeFragment(&quot;&quot;, element, null, true);

Document document =
        PsiDocumentManager.getInstance(project).getDocument(code);

EditorTextField myInput =
        new EditorTextField(document, project, JavaFileType.INSTANCE);
</div><aside data-type="tip" class="prompt" data-title="" id="91ff33ae_58" ><p id="91ff33ae_59" >If your plugin depends on Java functionality and targets 2019.2 or later, please make sure to follow the steps from this <a href="https://blog.jetbrains.com/platform/2019/06/java-functionality-extracted-as-a-plugin/" id="91ff33ae_60"   data-external="true" rel="noopener noreferrer" >blog post</a>.</p></aside><p id="91ff33ae_61" ><span class="control" id="91ff33ae_62" >TIPS</span>:</p><ul class="list _ul" id="91ff33ae_63"    ><li class="list__item" id="91ff33ae_64" ><p>When creating more than one field, two separate documents are needed. This is accomplished by using separate instances of <code class="code " id="91ff33ae_65"  >PsiExpressionCodeFragment</code>.</p></li><li class="list__item" id="91ff33ae_66" ><p><code class="code " id="91ff33ae_67"  >setText()</code> no longer works for the input field. However, <code class="code " id="91ff33ae_68"  >createExpressionCodeFragment()</code> accepts the text for the field as an argument. The empty string can be replaced and create a new document in lieu of <code class="code " id="91ff33ae_69"  >setText()</code>.</p></li><li class="list__item" id="91ff33ae_70" ><p>Instances of <code class="code " id="91ff33ae_71"  >JTextField</code> in the GUI builder can be replaced with a custom replacement component using the right click in your IDE. Make sure to use &quot;Custom Create&quot; so the initialization code works properly.</p></li></ul></section></section><div class="last-modified"> Last modified: 25 九月 2022</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="file-and-class-choosers.html">File and Class Choosers</a>   <a class="navigation-links__next" href="lists-and-trees.html">List and Tree Controls</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/storage/help-app/v5/app.js"></script></body></html>