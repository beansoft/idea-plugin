<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2022-09-28T11:33:50.1251181"><meta name="build-number" content="${buildNumber}">    <meta name="keywords" content="">  <title>List and Tree Controls | IntelliJ Platform Plugin SDK</title><script id="virtual-toc-data" type="application/json">[{"id":"jblist-and-tree","level":0,"title":"JBList and Tree","anchor":"#jblist-and-tree"},{"id":"coloredlistcellrenderer-and-coloredtreecellrenderer","level":0,"title":"ColoredListCellRenderer and ColoredTreeCellRenderer","anchor":"#coloredlistcellrenderer-and-coloredtreecellrenderer"},{"id":"listspeedsearch-and-treespeedsearch","level":0,"title":"ListSpeedSearch and TreeSpeedSearch","anchor":"#listspeedsearch-and-treespeedsearch"},{"id":"toolbardecorator","level":0,"title":"ToolbarDecorator","anchor":"#toolbardecorator"}]</script>   <link href="https://resources.jetbrains.com/storage/help-app/v5/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="List and Tree Controls | IntelliJ Platform Plugin SDK"/><meta property="og:description" content=""/><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"/><meta property="og:site_name" content="IntelliJ Platform Plugin SDK Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="https://plugins.jetbrains.com/docs/intellij/lists-and-trees.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@JBPlatform"><meta name="twitter:title" content="List and Tree Controls | IntelliJ Platform Plugin SDK"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@JBPlatform"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://plugins.jetbrains.com/docs/intellij/lists-and-trees.html#webpage", "url": "https://plugins.jetbrains.com/docs/intellij/lists-and-trees.html", "name": "List and Tree Controls | IntelliJ Platform Plugin SDK", "description": "", "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://plugins.jetbrains.com/docs/intellij/#website", "url": "https://plugins.jetbrains.com/docs/intellij/", "name": "IntelliJ Platform Plugin SDK Help" }</script><!-- End Schema.org --></head>    <body data-id="lists_and_trees.md" data-main-title="List and Tree Controls" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Part II — Base Platform///user_interface_components.md|User Interface Components"  data-edit-url="https://github.com/JetBrains/intellij-sdk-docs/edit/main/topics/user_interface_components/lists_and_trees.md"  >  <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ Platform Plugin SDK  Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">      </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="lists_and_trees.md" id="lists_and_trees.md"  >List and Tree Controls</h1><section class="chapter"  ><h2 id="jblist-and-tree" data-toc="jblist-and-tree"  >JBList and Tree</h2><p id="5fd04bb6_1" >Whenever you would normally use a standard <a href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JList.html" id="5fd04bb6_2"   data-external="true" rel="noopener noreferrer" >Swing <code class="code " id="5fd04bb6_3"  >JList</code></a> component, it's recommended to use the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-api/src/com/intellij/ui/components/JBList.java" id="5fd04bb6_4"   data-external="true" rel="noopener noreferrer" ><code class="code " id="5fd04bb6_5"  >JBList</code></a> class as drop-in replacement. <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-api/src/com/intellij/ui/components/JBList.java" id="5fd04bb6_6"   data-external="true" rel="noopener noreferrer" ><code class="code " id="5fd04bb6_7"  >JBList</code></a> supports the following additional features on top of <a href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JList.html" id="5fd04bb6_8"   data-external="true" rel="noopener noreferrer" ><code class="code " id="5fd04bb6_9"  >JList</code></a>:</p><ul class="list _ul" id="5fd04bb6_10"    ><li class="list__item" id="5fd04bb6_11" ><p>Drawing a tooltip with complete text of an item if the item doesn't fit into the list box width.</p></li><li class="list__item" id="5fd04bb6_12" ><p>Drawing a gray text message in the middle of the list box when it contains no items. The text can be customized by calling <code class="code " id="5fd04bb6_13"  >getEmptyText().setText()</code>.</p></li><li class="list__item" id="5fd04bb6_14" ><p>Drawing a busy icon in the top right corner of the list box to indicate that a background operation is being performed. This can be enabled by calling <code class="code " id="5fd04bb6_15"  >setPaintBusy()</code>.</p></li></ul><p id="5fd04bb6_16" >Similarly, the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-api/src/com/intellij/ui/treeStructure/Tree.java" id="5fd04bb6_17"   data-external="true" rel="noopener noreferrer" ><code class="code " id="5fd04bb6_18"  >Tree</code></a> class provides a replacement for the standard <a href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JTree.html" id="5fd04bb6_19"   data-external="true" rel="noopener noreferrer" ><code class="code " id="5fd04bb6_20"  >JTree</code></a> class. In addition to the features of <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-api/src/com/intellij/ui/components/JBList.java" id="5fd04bb6_21"   data-external="true" rel="noopener noreferrer" ><code class="code " id="5fd04bb6_22"  >JBList</code></a>, it supports wide selection painting (Mac style) and auto-scroll on drag &amp; drop.</p></section><section class="chapter"  ><h2 id="coloredlistcellrenderer-and-coloredtreecellrenderer" data-toc="coloredlistcellrenderer-and-coloredtreecellrenderer"  >ColoredListCellRenderer and ColoredTreeCellRenderer</h2><p id="5fd04bb6_23" >When you need to customize the presentation of items in a list box or a tree, it's recommended to use the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-api/src/com/intellij/ui/ColoredListCellRenderer.java" id="5fd04bb6_24"   data-external="true" rel="noopener noreferrer" ><code class="code " id="5fd04bb6_25"  >ColoredListCellRenderer</code></a> or <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-api/src/com/intellij/ui/ColoredTreeCellRenderer.java" id="5fd04bb6_26"   data-external="true" rel="noopener noreferrer" ><code class="code " id="5fd04bb6_27"  >ColoredTreeCellRenderer</code></a> classes as the cell renderer. These classes allow you to compose the presentation out of multiple text fragments with different attributes by calling <code class="code " id="5fd04bb6_28"  >append()</code> and to set an optional icon for the item by calling <code class="code " id="5fd04bb6_29"  >setIcon()</code>. The renderer automatically takes care of setting the correct text color for selected items and of many other platform-specific rendering details.</p></section><section class="chapter"  ><h2 id="listspeedsearch-and-treespeedsearch" data-toc="listspeedsearch-and-treespeedsearch"  >ListSpeedSearch and TreeSpeedSearch</h2><p id="5fd04bb6_30" >To facilitate keyboard-based selection of items in a list box or a tree, you can install a speed search handler on it using the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/ui/ListSpeedSearch.java" id="5fd04bb6_31"   data-external="true" rel="noopener noreferrer" ><code class="code " id="5fd04bb6_32"  >ListSpeedSearch</code></a> and <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/ui/TreeSpeedSearch.java" id="5fd04bb6_33"   data-external="true" rel="noopener noreferrer" ><code class="code " id="5fd04bb6_34"  >TreeSpeedSearch</code></a>. This can be done simply by calling <code class="code " id="5fd04bb6_35"  >new ListSpeedSearch(list)</code> or <code class="code " id="5fd04bb6_36"  >new TreeSpeedSearch(tree)</code>. To customize the text which is used to locate the element, override the <code class="code " id="5fd04bb6_37"  >getElementText()</code> method. Alternatively, you can pass a function to convert items to strings. A function needs to be passed as <code class="code " id="5fd04bb6_38"  >elementTextDelegate</code> to the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/ui/ListSpeedSearch.java" id="5fd04bb6_39"   data-external="true" rel="noopener noreferrer" ><code class="code " id="5fd04bb6_40"  >ListSpeedSearch</code></a> constructor or as <code class="code " id="5fd04bb6_41"  >toString</code> to the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/ui/TreeSpeedSearch.java" id="5fd04bb6_42"   data-external="true" rel="noopener noreferrer" ><code class="code " id="5fd04bb6_43"  >TreeSpeedSearch</code></a> constructor.</p></section><section class="chapter"  ><h2 id="toolbardecorator" data-toc="toolbardecorator"  >ToolbarDecorator</h2><p id="5fd04bb6_44" >A very common task in plugin development is showing a list or a tree where the user is allowed to add, remove, edit or reorder the items. The implementation of this task is greatly facilitated by the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-api/src/com/intellij/ui/ToolbarDecorator.java" id="5fd04bb6_45"   data-external="true" rel="noopener noreferrer" ><code class="code " id="5fd04bb6_46"  >ToolbarDecorator</code></a> class. This class provides a toolbar with actions on items and automatically enables drag &amp; drop reordering of items in list boxes if supported by the underlying list model. The position of the toolbar above or below the list depends on the platform under which the IDE is running.</p><p id="5fd04bb6_47" >To use a toolbar decorator:</p><ul class="list _ul" id="5fd04bb6_48"    ><li class="list__item" id="5fd04bb6_49" ><p>If you need to support removing and reordering of items in a list box, make sure the model of your list implements the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/util/ui/src/com/intellij/util/ui/EditableModel.java" id="5fd04bb6_50"   data-external="true" rel="noopener noreferrer" ><code class="code " id="5fd04bb6_51"  >EditableModel</code></a> interface. <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/util/ui/src/com/intellij/ui/CollectionListModel.java" id="5fd04bb6_52"   data-external="true" rel="noopener noreferrer" ><code class="code " id="5fd04bb6_53"  >CollectionListModel</code></a> is a handy model class that implements this interface.</p></li><li class="list__item" id="5fd04bb6_54" ><p>Call <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-api/src/com/intellij/ui/ToolbarDecorator.java" id="5fd04bb6_55"   data-external="true" rel="noopener noreferrer" ><code class="code " id="5fd04bb6_56"  >ToolbarDecorator.createDecorator()</code></a> to create a decorator instance.</p></li><li class="list__item" id="5fd04bb6_57" ><p>If you need to support adding and/or removing items, call <code class="code " id="5fd04bb6_58"  >setAddAction()</code> and/or <code class="code " id="5fd04bb6_59"  >setRemoveAction()</code>.</p></li><li class="list__item" id="5fd04bb6_60" ><p>If you need other buttons in additional to the standard ones, call <code class="code " id="5fd04bb6_61"  >addExtraAction()</code> or <code class="code " id="5fd04bb6_62"  >setActionGroup()</code>.</p></li><li class="list__item" id="5fd04bb6_63" ><p>Call <code class="code " id="5fd04bb6_64"  >createPanel()</code> and add the component it returns to your panel.</p></li></ul></section><div class="last-modified"> Last modified: 28 九月 2022</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="editor-components.html">Editor Components</a>   <a class="navigation-links__next" href="status-bar-widgets.html">Status Bar Widgets</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/storage/help-app/v5/app.js"></script></body></html>