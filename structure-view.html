<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2022-09-29T19:15:57.2912175"><meta name="build-number" content="${buildNumber}">    <meta name="keywords" content="">  <title>Structure View | IntelliJ Platform Plugin SDK</title><script id="virtual-toc-data" type="application/json">[]</script>   <link href="https://resources.jetbrains.com/storage/help-app/v5/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Structure View | IntelliJ Platform Plugin SDK"/><meta property="og:description" content=""/><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"/><meta property="og:site_name" content="IntelliJ Platform Plugin SDK Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="https://plugins.jetbrains.com/docs/intellij/structure-view.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@JBPlatform"><meta name="twitter:title" content="Structure View | IntelliJ Platform Plugin SDK"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@JBPlatform"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://plugins.jetbrains.com/docs/intellij/structure-view.html#webpage", "url": "https://plugins.jetbrains.com/docs/intellij/structure-view.html", "name": "Structure View | IntelliJ Platform Plugin SDK", "description": "", "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://plugins.jetbrains.com/docs/intellij/#website", "url": "https://plugins.jetbrains.com/docs/intellij/", "name": "IntelliJ Platform Plugin SDK Help" }</script><!-- End Schema.org --></head>    <body data-id="structure_view.md" data-main-title="Structure View" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Part VII — Custom Languages///custom_language_support.md|Custom Language Support"  data-edit-url="https://github.com/JetBrains/intellij-sdk-docs/edit/main/topics/reference_guide/custom_language_support/structure_view.md"  >  <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ Platform Plugin SDK  Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">      </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="structure_view.md" id="structure_view.md"  >Structure View</h1><p id="b6dc26f7_53" >The Structure View implementation used for a specific file type can be customized on many levels. If a custom language plugin provides an implementation of the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/editor-ui-api/src/com/intellij/ide/structureView/StructureView.java" id="b6dc26f7_54"   data-external="true" rel="noopener noreferrer" ><code class="code " id="b6dc26f7_55"  >StructureView</code></a> interface, it can completely replace the standard structure view implementation with a custom user interface component. However, for most languages, this is not necessary, and the standard <code class="code " id="b6dc26f7_56"  >StructureView</code> implementation provided by IntelliJ Platform can be reused.</p><aside data-type="tip" class="prompt" data-title="" id="b6dc26f7_57" ><p id="b6dc26f7_58" >To modify an existing Structure View (e.g., add/filter nodes of builtin language support), use <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/structure-view-impl/src/com/intellij/ide/structureView/StructureViewExtension.java" id="b6dc26f7_59"   data-external="true" rel="noopener noreferrer" ><code class="code " id="b6dc26f7_60"  >StructureViewExtension</code></a> registered in <code class="code " id="b6dc26f7_61"  >com.intellij.lang.structureViewExtension</code> extension point.</p></aside><p id="b6dc26f7_62" >The starting point for the structure view is the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/editor-ui-api/src/com/intellij/lang/PsiStructureViewFactory.java" id="b6dc26f7_63"   data-external="true" rel="noopener noreferrer" ><code class="code " id="b6dc26f7_64"  >PsiStructureViewFactory</code></a> interface, which is registered in the <code class="code " id="b6dc26f7_65"  >com.intellij.lang.psiStructureViewFactory</code> extension point.</p><p id="b6dc26f7_66" ><span class="control" id="b6dc26f7_67" >Examples:</span></p><ul class="list _ul" id="b6dc26f7_68"    ><li class="list__item" id="b6dc26f7_69" ><p><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/plugins/properties/src/com/intellij/lang/properties/structureView/PropertiesStructureViewBuilderFactory.java" id="b6dc26f7_70"   data-external="true" rel="noopener noreferrer" ><code class="code " id="b6dc26f7_71"  >PsiStructureViewFactory</code></a> for <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/plugins/properties" id="b6dc26f7_72"   data-external="true" rel="noopener noreferrer" >Properties language plugin</a></p></li><li class="list__item" id="b6dc26f7_73" ><p><a href="structure-view-factory.html" id="b6dc26f7_74" data-tooltip="Reference:"  >Custom Language Support Tutorial: Structure View</a></p></li></ul><p id="b6dc26f7_75" >To reuse the IntelliJ Platform implementation of the <code class="code " id="b6dc26f7_76"  >StructureView</code>, the plugin returns a <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/editor-ui-api/src/com/intellij/ide/structureView/TreeBasedStructureViewBuilder.java" id="b6dc26f7_77"   data-external="true" rel="noopener noreferrer" ><code class="code " id="b6dc26f7_78"  >TreeBasedStructureViewBuilder</code></a> from its <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/editor-ui-api/src/com/intellij/lang/PsiStructureViewFactory.java" id="b6dc26f7_79"   data-external="true" rel="noopener noreferrer" ><code class="code " id="b6dc26f7_80"  >PsiStructureViewFactory.getStructureViewBuilder()</code></a> method. As the builder model, the plugin can specify a subclass of <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/editor-ui-api/src/com/intellij/ide/structureView/TextEditorBasedStructureViewModel.java" id="b6dc26f7_81"   data-external="true" rel="noopener noreferrer" ><code class="code " id="b6dc26f7_82"  >TextEditorBasedStructureViewModel</code></a>, and by overriding methods of this subclass, it customizes the structure view for a specific language.</p><p id="b6dc26f7_83" ><span class="control" id="b6dc26f7_84" >Example</span>: <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/plugins/properties/properties-psi-impl/src/com/intellij/lang/properties/structureView/PropertiesFileStructureViewModel.java" id="b6dc26f7_85"   data-external="true" rel="noopener noreferrer" ><code class="code " id="b6dc26f7_86"  >StructureViewModel</code></a> for <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/plugins/properties" id="b6dc26f7_87"   data-external="true" rel="noopener noreferrer" >Properties language plugin</a></p><p id="b6dc26f7_88" >The main method to override is <code class="code " id="b6dc26f7_89"  >getRoot()</code>, which returns the instance of a class implementing the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/editor-ui-api/src/com/intellij/ide/structureView/StructureViewTreeElement.java" id="b6dc26f7_90"   data-external="true" rel="noopener noreferrer" ><code class="code " id="b6dc26f7_91"  >StructureViewTreeElement</code></a> interface. There exists no standard implementation of this interface, so a plugin will need to implement it completely.</p><p id="b6dc26f7_92" >The structure view tree is usually built as a partial mirror of the PSI tree. In the implementation of <code class="code " id="b6dc26f7_93"  >StructureViewTreeElement.getChildren()</code>, the plugin can specify which of the child elements of a specific PSI tree node need to be represented as elements in the structure view. Another important method is <code class="code " id="b6dc26f7_94"  >getPresentation()</code>, which can be used to customize the text, attributes, and icon used to represent an element in the structure view.</p><p id="b6dc26f7_95" >The implementation of <code class="code " id="b6dc26f7_96"  >StructureViewTreeElement.getChildren()</code> needs to be matched by <code class="code " id="b6dc26f7_97"  >TextEditorBasedStructureViewModel.getSuitableClasses()</code>. The latter method returns an array of <code class="code " id="b6dc26f7_98"  >PsiElement</code>-derived classes, which can be shown as structure view elements. It is used to select the Structure View item matching the cursor position when the structure view is first opened or when the <span class="control" id="b6dc26f7_99" >Autoscroll from source</span> option is enabled.</p><p id="b6dc26f7_100" ><span class="control" id="b6dc26f7_101" >Example:</span> <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/plugins/properties/properties-psi-impl/src/com/intellij/lang/properties/editor/PropertyStructureViewElement.java" id="b6dc26f7_102"   data-external="true" rel="noopener noreferrer" ><code class="code " id="b6dc26f7_103"  >StructureViewTreeElement</code></a> for <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/plugins/properties" id="b6dc26f7_104"   data-external="true" rel="noopener noreferrer" >Properties language plugin</a></p><div class="last-modified"> Last modified: 29 九月 2022</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="code-inspections-and-intentions.html">Code Inspections and Intentions</a>   <a class="navigation-links__next" href="navbar.html">Navigation Bar</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/storage/help-app/v5/app.js"></script></body></html>