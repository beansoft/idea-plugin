<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2022-09-25T22:17:41.313661"><meta name="build-number" content="${buildNumber}">    <meta name="keywords" content="">  <title>Parameter Info | IntelliJ Platform Plugin SDK</title><script id="virtual-toc-data" type="application/json">[{"id":"implementation","level":0,"title":"Implementation","anchor":"#implementation"},{"id":"further-tips","level":0,"title":"Further Tips","anchor":"#further-tips"},{"id":"examples","level":0,"title":"Examples","anchor":"#examples"}]</script>   <link href="https://resources.jetbrains.com/storage/help-app/v5/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Parameter Info | IntelliJ Platform Plugin SDK"/><meta property="og:description" content=""/><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"/><meta property="og:site_name" content="IntelliJ Platform Plugin SDK Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="https://plugins.jetbrains.com/docs/intellij/parameter-info.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@JBPlatform"><meta name="twitter:title" content="Parameter Info | IntelliJ Platform Plugin SDK"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@JBPlatform"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://plugins.jetbrains.com/docs/intellij/parameter-info.html#webpage", "url": "https://plugins.jetbrains.com/docs/intellij/parameter-info.html", "name": "Parameter Info | IntelliJ Platform Plugin SDK", "description": "", "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://plugins.jetbrains.com/docs/intellij/#website", "url": "https://plugins.jetbrains.com/docs/intellij/", "name": "IntelliJ Platform Plugin SDK Help" }</script><!-- End Schema.org --></head>    <body data-id="parameter_info.md" data-main-title="Parameter Info" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Part VII — Custom Languages///custom_language_support.md|Custom Language Support"  data-edit-url="https://github.com/JetBrains/intellij-sdk-docs/edit/main/topics/reference_guide/custom_language_support/parameter_info.md"  >  <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ Platform Plugin SDK  Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">      </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="parameter_info.md" id="parameter_info.md"  >Parameter Info</h1><p id="c1c2545d_1" >Custom languages can use <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/lang-api/src/com/intellij/lang/parameterInfo/ParameterInfoHandler.java" id="c1c2545d_2"   data-external="true" rel="noopener noreferrer" ><code class="code " id="c1c2545d_3"  >ParameterInfoHandler</code></a> registered in <code class="code " id="c1c2545d_4"  >com.intellij.codeInsight.parameterInfo</code> extension point (EP) to show information about parameters in method and function calls. This is a convenient way to display type signatures directly as a popup in the editor without having to consult the documentation. If it is available, the IDE can show this popup automatically after a short delay, or it can be invoked explicitly via .</p><p id="c1c2545d_7" >Parameter info is dynamic and can update the displayed information when the caret is moved or additional code is typed. This allows for highlighting entries or marking the current parameter at the caret position. Therefore, the interface of the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/lang-api/src/com/intellij/lang/parameterInfo/ParameterInfoHandler.java" id="c1c2545d_8"   data-external="true" rel="noopener noreferrer" ><code class="code " id="c1c2545d_9"  >ParameterInfoHandler</code></a> EP consists of methods for initially collecting the required information to display parameter information at the caret position as well as methods to update what should be displayed during edits.</p><section class="chapter"  ><h2 id="implementation" data-toc="implementation"  >Implementation</h2><p id="c1c2545d_10" >Language authors implement <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/lang-api/src/com/intellij/lang/parameterInfo/ParameterInfoHandler.java" id="c1c2545d_11"   data-external="true" rel="noopener noreferrer" ><code class="code " id="c1c2545d_12"  >ParameterInfoHandler</code></a> which takes two type parameters: <code class="code " id="c1c2545d_13"  >ParameterOwner</code> and <code class="code " id="c1c2545d_14"  >ParameterType</code>. For the explanations that follow, we assume that <code class="code " id="c1c2545d_15"  >ParameterOwner</code> is a PSI element that represents a function call in a language, and <code class="code " id="c1c2545d_16"  >ParameterType</code> represents (possibly several) function definitions.</p><p id="c1c2545d_17" >Additionally, <code class="code " id="c1c2545d_18"  >ParameterInfoHandler</code> uses several context types that are mutable and used to adjust what and how parameter information is displayed. These contexts are, e.g., <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/lang-api/src/com/intellij/lang/parameterInfo/CreateParameterInfoContext.java" id="c1c2545d_19"   data-external="true" rel="noopener noreferrer" ><code class="code " id="c1c2545d_20"  >CreateParameterInfoContext</code></a>, <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/lang-api/src/com/intellij/lang/parameterInfo/UpdateParameterInfoContext.java" id="c1c2545d_21"   data-external="true" rel="noopener noreferrer" ><code class="code " id="c1c2545d_22"  >UpdateParameterInfoContext</code></a> and <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/lang-api/src/com/intellij/lang/parameterInfo/ParameterInfoUIContext.java" id="c1c2545d_23"   data-external="true" rel="noopener noreferrer" ><code class="code " id="c1c2545d_24"  >ParameterInfoUIContext</code></a> and they all derive from <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/lang-api/src/com/intellij/lang/parameterInfo/ParameterInfoContext.java" id="c1c2545d_25"   data-external="true" rel="noopener noreferrer" ><code class="code " id="c1c2545d_26"  >ParameterInfoContext</code></a>.</p><section class="chapter"  ><h3 id="initial-phase" data-toc="initial-phase"  >Initial Phase</h3><p id="c1c2545d_27" >The initial phase describes what happens when no parameter info is currently displayed and it is invoked either automatically or by the user.</p><ol class="list _decimal" id="c1c2545d_28"  type="1"  ><li class="list__item" id="c1c2545d_29" ><p>The <code class="code " id="c1c2545d_30"  >findElementForParameterInfo()</code> method is called. When overriding this method, language authors use the provided <code class="code " id="c1c2545d_31"  >CreateParameterInfoContext</code> to access, e.g., the file and offset of the current editor. The goal is to identify the <code class="code " id="c1c2545d_32"  >ParameterOwner</code> i.e. a function call at the current offset if it exists. It is advised to extract the actual search for the function call into a separate method since it can be re-used later. The <code class="code " id="c1c2545d_33"  >findElementForParameterInfo()</code> implementation should find all matching function definitions and store them using <code class="code " id="c1c2545d_34"  >setItemsToShow()</code> of the context parameter.</p></li><li class="list__item" id="c1c2545d_35" ><p>If the returned function call element is valid, the <code class="code " id="c1c2545d_36"  >showParameterInfo()</code> method is invoked. Implementations of this method usually just call <code class="code " id="c1c2545d_37"  >showHint()</code> of the <code class="code " id="c1c2545d_38"  >CreateParameterInfoContext</code> providing the offset at which the popup should appear.</p></li><li class="list__item" id="c1c2545d_39" ><p>For each item to show from step 1, the <code class="code " id="c1c2545d_40"  >updateUI()</code> method is called. No heavy work is allowed in this method since it runs on the UI thread and it should only update the UI representation using, e.g., <code class="code " id="c1c2545d_41"  >setUIComponentEnabled()</code> or <code class="code " id="c1c2545d_42"  >setupUIComponentPresentation()</code> of the provided <code class="code " id="c1c2545d_43"  >ParameterInfoUIContext</code>.</p></li><li class="list__item" id="c1c2545d_44" ><p>After that the following methods are called which will be explained in the next phase: <code class="code " id="c1c2545d_45"  >findElementForUpdatingParameterInfo()</code>, <code class="code " id="c1c2545d_46"  >updateParameterInfo()</code>, <code class="code " id="c1c2545d_47"  >updateUI()</code>.</p></li></ol></section><section class="chapter"  ><h3 id="update-phase" data-toc="update-phase"  >Update Phase</h3><p id="c1c2545d_48" >When a parameter info popup is displayed and the user types something or moves the caret, the displayed information is updated. This allows for, e.g., highlighting a function usage with different arguments or simply moving the parameter info box closer to the caret. Therefore, when the user moves the caret or types something, the following happens:</p><ol class="list _decimal" id="c1c2545d_49"  type="1"  ><li class="list__item" id="c1c2545d_50" ><p>The <code class="code " id="c1c2545d_51"  >syncUpdateOnCaretMove()</code> method is called.</p></li><li class="list__item" id="c1c2545d_52" ><p>The <code class="code " id="c1c2545d_53"  >findElementForUpdatingParameterInfo()</code> method is called and it should find the correct function call (<code class="code " id="c1c2545d_54"  >ParameterOwner</code>) for the changed caret position. Implementations return <code class="code " id="c1c2545d_55"  >null</code> if an appropriate element could not be found or if it is different from <code class="code " id="c1c2545d_56"  >getParameterOwner()</code> of the provided <code class="code " id="c1c2545d_57"  >UpdateParameterInfoContext</code>. If <code class="code " id="c1c2545d_58"  >null</code> is returned, the <code class="code " id="c1c2545d_59"  >dispose()</code> method is called.</p></li><li class="list__item" id="c1c2545d_60" ><p>The <code class="code " id="c1c2545d_61"  >processFoundElementForUpdatingParameterInfo()</code> method is called which allows for additional adjustments of the <code class="code " id="c1c2545d_62"  >UpdateParameterInfoContext</code>. By default, this method does nothing and it's usually not necessary to implement it.</p></li><li class="list__item" id="c1c2545d_63" ><p>The <code class="code " id="c1c2545d_64"  >updateParameterInfo()</code> is called. Many implementations only invoke <code class="code " id="c1c2545d_65"  >setParameterOwner()</code> of the <code class="code " id="c1c2545d_66"  >UpdateParameterInfoContext</code> here.</p></li><li class="list__item" id="c1c2545d_67" ><p>The <code class="code " id="c1c2545d_68"  >updateUI()</code> method is called for each item in the <code class="code " id="c1c2545d_69"  >getItemsToShow()</code> array of the context which were collected in the initial phase.</p></li></ol></section></section><section class="chapter"  ><h2 id="further-tips" data-toc="further-tips"  >Further Tips</h2><p id="c1c2545d_70" >Language authors can implement <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/lang-api/src/com/intellij/lang/parameterInfo/ParameterInfoHandlerWithTabActionSupport.java" id="c1c2545d_71"   data-external="true" rel="noopener noreferrer" ><code class="code " id="c1c2545d_72"  >ParameterInfoHandlerWithTabActionSupport</code></a> to extend the parameter info functionality with the ability to jump between parameter positions by pressing the tab key. For recurring tasks like finding the index of the current parameter in a function call, <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/lang-api/src/com/intellij/lang/parameterInfo/ParameterInfoUtils.java" id="c1c2545d_73"   data-external="true" rel="noopener noreferrer" ><code class="code " id="c1c2545d_74"  >ParameterInfoUtils</code></a> provides a collection of useful functions.</p><p id="c1c2545d_75" >It is further helpful to inspect all the context-interfaces that extend from <code class="code " id="c1c2545d_76"  >ParameterInfoContext</code> and can be found in the <code class="code " id="c1c2545d_77"  >com.intellij.lang.parameterInfo</code> package as they provide insight into what data of the parameter info can be accessed and changed in the different stages.</p><p id="c1c2545d_78" >Methods of the <code class="code " id="c1c2545d_79"  >ParameterInfoHandler</code> that have a default implementation can usually be ignored. <code class="code " id="c1c2545d_80"  >syncUpdateOnCaretMove()</code> and <code class="code " id="c1c2545d_81"  >supportsOverloadSwitching()</code> are used internally by the IntelliJ Platform and are not required to be implemented by plugins. The <code class="code " id="c1c2545d_82"  >dispose()</code> method is called when the currently displayed parameter info is invalidated and destroyed. Only <code class="code " id="c1c2545d_83"  >isWhitespaceSensitive()</code> which is used in the <code class="code " id="c1c2545d_84"  >getCurrentOffset()</code> method of <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/lang-impl/src/com/intellij/codeInsight/hint/ParameterInfoControllerBase.java" id="c1c2545d_85"   data-external="true" rel="noopener noreferrer" ><code class="code " id="c1c2545d_86"  >ParameterInfoControllerBase</code></a> should be implemented when whitespace matters in a language.</p><p id="c1c2545d_87" >Note that parameter info works during indexing (using incomplete indices) when the implementations also extend <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/core-api/src/com/intellij/openapi/project/DumbAware.java" id="c1c2545d_88"   data-external="true" rel="noopener noreferrer" ><code class="code " id="c1c2545d_89"  >DumbAware</code></a>. It is recommended to adapt tests for dumb-mode since the results might be surprising, and more changes to the handler might be required for better results.</p><p id="c1c2545d_90" >Finally, language authors should be aware of the global <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/analysis-impl/src/com/intellij/codeInsight/CodeInsightSettings.java" id="c1c2545d_91"   data-external="true" rel="noopener noreferrer" ><code class="code " id="c1c2545d_92"  >CodeInsightSettings#SHOW_FULL_SIGNATURES_IN_PARAMETER_INFO</code></a> setting that can be used to present results that are consistent with the default IDE behavior. For Java, for instance, the IDE shows the full signature of the method/function on parameter info if this setting is enabled.</p></section><section class="chapter"  ><h2 id="examples" data-toc="examples"  >Examples</h2><p id="c1c2545d_93" >Existing, moderately complex, implementations of <code class="code " id="c1c2545d_94"  >ParameterInfoHandler</code> in the IntelliJ Platform that can serve as a reference are:</p><ul class="list _ul" id="c1c2545d_95"    ><li class="list__item" id="c1c2545d_96" ><p><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/plugins/xpath/xpath-lang/src/org/intellij/lang/xpath/XPathParameterInfoHandler.java" id="c1c2545d_97"   data-external="true" rel="noopener noreferrer" ><code class="code " id="c1c2545d_98"  >XPathParameterInfoHandler</code></a></p></li><li class="list__item" id="c1c2545d_99" ><p><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/xml/impl/src/com/intellij/codeInsight/hint/api/impls/XmlParameterInfoHandler.java" id="c1c2545d_100"   data-external="true" rel="noopener noreferrer" ><code class="code " id="c1c2545d_101"  >XmlParameterInfoHandler</code></a></p></li></ul><p id="c1c2545d_102" >Implementations of 3rd party plugins can be discovered using the <a href="https://plugins.jetbrains.com/intellij-platform-explorer?extensions=com.intellij.codeInsight.parameterInfo" id="c1c2545d_103"   data-external="true" rel="noopener noreferrer" >IntelliJ Platform Explorer</a>. Two examples are:</p><ul class="list _ul" id="c1c2545d_104"    ><li class="list__item" id="c1c2545d_105" ><p><a href="https://github.com/intellij-rust/intellij-rust/blob/93853e33261174399babb10e43a3aff133f0a5ef/src/main/kotlin/org/rust/ide/hints/parameter/RsParameterInfoHandler.kt" id="c1c2545d_106"   data-external="true" rel="noopener noreferrer" >RsParameterInfoHandler</a> of the Rust plugin.</p></li><li class="list__item" id="c1c2545d_107" ><p><a href="https://github.com/Hannah-Sten/TeXiFy-IDEA/blob/655644b217e3954ae1286d7070a9357f2748f6a6/src/nl/hannahsten/texifyidea/documentation/LatexParameterInfoHandler.kt" id="c1c2545d_108"   data-external="true" rel="noopener noreferrer" >LatexParameterInfoHandler</a> of the TeXiFy plugin.</p></li></ul></section><div class="last-modified"> Last modified: 25 九月 2022</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="documentation.html">Implementation</a>   <a class="navigation-links__next" href="inlay-hints.html">Inlay Hints</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/storage/help-app/v5/app.js"></script></body></html>