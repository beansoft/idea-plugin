<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2022-09-29T19:15:56.5431881"><meta name="build-number" content="${buildNumber}">    <meta name="keywords" content="">  <title>Gradle Grammar-Kit Plugin | IntelliJ Platform Plugin SDK</title><script id="virtual-toc-data" type="application/json">[{"id":"usage","level":0,"title":"Usage","anchor":"#usage"},{"id":"grammar-kit-extension","level":0,"title":"Grammar-Kit Extension","anchor":"#grammar-kit-extension"},{"id":"generatelexer-task","level":0,"title":"generateLexer Task","anchor":"#generatelexer-task"},{"id":"generateparser-task","level":0,"title":"generateParser Task","anchor":"#generateparser-task"},{"id":"useful-resources","level":0,"title":"Useful Resources","anchor":"#useful-resources"}]</script>   <link href="https://resources.jetbrains.com/storage/help-app/v5/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Gradle Grammar-Kit Plugin | IntelliJ Platform Plugin SDK"/><meta property="og:description" content=""/><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"/><meta property="og:site_name" content="IntelliJ Platform Plugin SDK Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="https://plugins.jetbrains.com/docs/intellij/tools-gradle-grammar-kit-plugin.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@JBPlatform"><meta name="twitter:title" content="Gradle Grammar-Kit Plugin | IntelliJ Platform Plugin SDK"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@JBPlatform"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://plugins.jetbrains.com/docs/intellij/tools-gradle-grammar-kit-plugin.html#webpage", "url": "https://plugins.jetbrains.com/docs/intellij/tools-gradle-grammar-kit-plugin.html", "name": "Gradle Grammar-Kit Plugin | IntelliJ Platform Plugin SDK", "description": "", "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://plugins.jetbrains.com/docs/intellij/#website", "url": "https://plugins.jetbrains.com/docs/intellij/", "name": "IntelliJ Platform Plugin SDK Help" }</script><!-- End Schema.org --></head>    <body data-id="tools_gradle_grammar_kit_plugin.md" data-main-title="Gradle Grammar-Kit Plugin" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Appendix III — Tooling"  data-edit-url="https://github.com/JetBrains/intellij-sdk-docs/edit/main/topics/appendix/tools/tools_gradle_grammar_kit_plugin.md"  >  <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ Platform Plugin SDK  Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">      </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="tools_gradle_grammar_kit_plugin.md" id="tools_gradle_grammar_kit_plugin.md"  >Gradle Grammar-Kit Plugin</h1><p id="d1d209f9_183" >The <a href="https://github.com/JetBrains/gradle-grammar-kit-plugin" id="d1d209f9_184"   data-external="true" rel="noopener noreferrer" >Gradle Grammar-Kit Plugin</a> automates generating lexers and parsers to support building <a href="custom-language-support.html" id="d1d209f9_185" data-tooltip="Supporting custom languages overview."  >custom language</a> plugins for IntelliJ-based IDEs when using <a href="https://github.com/JetBrains/Grammar-Kit" id="d1d209f9_186"   data-external="true" rel="noopener noreferrer" >Grammar-Kit</a>.</p><aside data-type="tip" class="prompt" data-title="" id="d1d209f9_187" ><p id="d1d209f9_188" >Current Gradle Grammar-Kit Plugin version is <img alt="GitHub Release" title="GitHub Release" id="d1d209f9_189" src="https://img.shields.io/github/release/jetbrains/gradle-grammar-kit-plugin.svg?style=flat-square"  class="inline-icon-"   /></p></aside><aside data-type="tip" class="prompt" data-title="" id="d1d209f9_190" ><p id="d1d209f9_191" >The plugin does not support two-pass generation. Therefore, it does not support method mixins.</p></aside><section class="chapter"  ><h2 id="usage" data-toc="usage"  >Usage</h2><p id="d1d209f9_192" >To enable this plugin in your Gradle-based project, register the plugin in the Gradle build script's <code class="code " id="d1d209f9_193"  >plugins</code> section:</p><div class="tabs" id="d1d209f9_194"data-group="languages"><div class="tabs__content" data-gtm="tab" id="d1d209f9_195" data-sync-tabs="kotlin"  data-title="Kotlin" ><div class="code-block" data-lang="kotlin"    data-title="Kotlin"     >
plugins {
  id(&quot;org.jetbrains.grammarkit&quot;) version &quot;...&quot;
}
</div></div><div class="tabs__content" data-gtm="tab" id="d1d209f9_197" data-sync-tabs="groovy"  data-title="Groovy" ><div class="code-block" data-lang="groovy"    data-title="Groovy"     >
plugins {
  id &quot;org.jetbrains.grammarkit&quot; version &quot;...&quot;
}
</div></div></div><aside data-type="tip" class="prompt" data-title="" id="d1d209f9_199" ><p id="d1d209f9_200" >This project requires <code class="code " id="d1d209f9_201"  >Gradle 6.7.1</code> or newer, however it is recommended to use the latest Gradle available. Update it with:</p><div class="code-block" data-lang="bash"         >
./gradlew wrapper --gradle-version=VERSION
</div><p id="d1d209f9_203" >See also: <a href="https://gradle.org/install/" id="d1d209f9_204"   data-external="true" rel="noopener noreferrer" >Gradle Installation</a> guide.</p></aside><aside data-type="tip" class="prompt" data-title="" id="d1d209f9_205" ><p id="d1d209f9_206" >Please see <a href="https://github.com/JetBrains/gradle-grammar-kit-plugin/blob/master/CONTRIBUTING.md" id="d1d209f9_207"   data-external="true" rel="noopener noreferrer" >CONTRIBUTING</a> on how to submit feedback and contribute to this project.</p><p id="d1d209f9_208" >Before visiting the <a href="https://github.com/JetBrains/gradle-grammar-kit-plugin/issues" id="d1d209f9_209"   data-external="true" rel="noopener noreferrer" >Issue Tracker</a>, update both plugin and Gradle to the latest versions.</p></aside></section><section class="chapter"  ><h2 id="grammar-kit-extension" data-toc="grammar-kit-extension"  >Grammar-Kit Extension</h2><p id="d1d209f9_210" >After the Gradle Grammar-Kit Plugin is applied, the <code class="code " id="d1d209f9_211"  >grammarKit</code> extension can be used to configure the plugin and common settings of the provided tasks.</p><p id="d1d209f9_212" ><span class="control" id="d1d209f9_213" >Example:</span></p><div class="tabs" id="d1d209f9_214"data-group="languages"><div class="tabs__content" data-gtm="tab" id="d1d209f9_215" data-sync-tabs="kotlin"  data-title="Kotlin" ><div class="code-block" data-lang="kotlin"    data-title="Kotlin"     >
grammarKit {
  jflexRelease.set(&quot;1.7.0-1&quot;)
  grammarKitRelease.set(&quot;2021.1.2&quot;)
  intellijRelease.set(&quot;203.7717.81&quot;)
}
</div></div><div class="tabs__content" data-gtm="tab" id="d1d209f9_217" data-sync-tabs="groovy"  data-title="Groovy" ><div class="code-block" data-lang="groovy"    data-title="Groovy"     >
grammarKit {
  jflexRelease = &quot;1.7.0-1&quot;
  grammarKitRelease = &quot;2021.1.2&quot;
  intellijRelease = &quot;203.7717.81&quot;
}
</div></div></div><section class="chapter"  ><h3 id="grammar-kit-extension-grammarkitrelease" data-toc="grammar-kit-extension-grammarkitrelease"  >grammarKitRelease</h3><p id="d1d209f9_219" >The release version of the <a href="https://github.com/JetBrains/Grammar-Kit" id="d1d209f9_220"   data-external="true" rel="noopener noreferrer" >Grammar-Kit</a> to use.</p><dl id="d1d209f9_221"  data-style="title-left" data-title-width="narrow" ><dt id="d1d209f9_222"  data-expandable="false" >Type</dt><dd><p><code class="code " id="d1d209f9_224"  >String</code></p></dd><dt id="d1d209f9_225"  data-expandable="false" >Default value</dt><dd><p><code class="code " id="d1d209f9_227"  >2021.1.2</code></p></dd></dl></section><section class="chapter"  ><h3 id="grammar-kit-extension-jflexrelease" data-toc="grammar-kit-extension-jflexrelease"  >jflexRelease</h3><p id="d1d209f9_228" >The version of the IntelliJ-patched JFlex, a <a href="https://github.com/JetBrains/intellij-deps-jflex" id="d1d209f9_229"   data-external="true" rel="noopener noreferrer" >fork of JFlex</a> lexer generator for IntelliJ Platform API.</p><dl id="d1d209f9_230"  data-style="title-left" data-title-width="narrow" ><dt id="d1d209f9_231"  data-expandable="false" >Type</dt><dd><p><code class="code " id="d1d209f9_233"  >String</code></p></dd><dt id="d1d209f9_234"  data-expandable="false" >Default value</dt><dd><p><code class="code " id="d1d209f9_236"  >1.7.0-1</code></p></dd></dl></section><section class="chapter"  ><h3 id="grammar-kit-extension-intellijrelease" data-toc="grammar-kit-extension-intellijrelease"  >intellijRelease</h3><p id="d1d209f9_237" >An optional IntelliJ version to build the classpath for <a href="#generateparser-task" id="d1d209f9_238" data-tooltip="The generateParser task generates a parser for the given grammar. The task is configured using common grammarKit extension."  ><code class="code " id="d1d209f9_239"  >GenerateParser</code></a> and <a href="#generatelexer-task" id="d1d209f9_240" data-tooltip="The generateLexer task generates a lexer for the given grammar. The task is configured using common grammarKit extension."  ><code class="code " id="d1d209f9_241"  >GenerateLexer</code></a> tasks.</p><p id="d1d209f9_242" >If provided, <a href="#grammar-kit-extension-grammarkitrelease" id="d1d209f9_243" data-tooltip="The release version of the Grammar-Kit to use."  ><code class="code " id="d1d209f9_244"  >grammarKitRelease</code></a> and <a href="#grammar-kit-extension-jflexrelease" id="d1d209f9_245" data-tooltip="The version of the IntelliJ-patched JFlex, a fork of JFlex lexer generator for IntelliJ Platform API."  ><code class="code " id="d1d209f9_246"  >jflexRelease</code></a> properties are ignored as both dependencies will be provided from the given IntelliJ IDEA release.</p><dl id="d1d209f9_247"  data-style="title-left" data-title-width="narrow" ><dt id="d1d209f9_248"  data-expandable="false" >Type</dt><dd><p><code class="code " id="d1d209f9_250"  >String</code></p></dd><dt id="d1d209f9_251"  data-expandable="false" >Default value</dt><dd><p><code class="code " id="d1d209f9_253"  >null</code></p></dd></dl></section></section><section class="chapter"  ><h2 id="generatelexer-task" data-toc="generatelexer-task"  >generateLexer Task</h2><p id="d1d209f9_254" >The <code class="code " id="d1d209f9_255"  >generateLexer</code> task generates a lexer for the given grammar. The task is configured using common <a href="#grammar-kit-extension" id="d1d209f9_256" data-tooltip="After the Gradle Grammar-Kit Plugin is applied, the grammarKit extension can be used to configure the plugin and common settings of the provided tasks."  ><code class="code " id="d1d209f9_257"  >grammarKit</code></a> extension.</p><section class="chapter"  ><h3 id="generatelexer-task-source" data-toc="generatelexer-task-source"  >source</h3><p id="d1d209f9_258" >The source Flex file to generate the lexer from.</p><dl id="d1d209f9_259"  data-style="title-left" data-title-width="narrow" ><dt id="d1d209f9_260"  data-expandable="false" >Required</dt><dd><p><code class="code " id="d1d209f9_262"  >true</code></p></dd><dt id="d1d209f9_263"  data-expandable="false" >Type</dt><dd><p><code class="code " id="d1d209f9_265"  >String</code></p></dd></dl></section><section class="chapter"  ><h3 id="generatelexer-task-targetdir" data-toc="generatelexer-task-targetdir"  >targetDir</h3><p id="d1d209f9_266" >The path to the target directory for the generated lexer.</p><dl id="d1d209f9_267"  data-style="title-left" data-title-width="narrow" ><dt id="d1d209f9_268"  data-expandable="false" >Required</dt><dd><p><code class="code " id="d1d209f9_270"  >true</code></p></dd><dt id="d1d209f9_271"  data-expandable="false" >Type</dt><dd><p><code class="code " id="d1d209f9_273"  >String</code></p></dd></dl></section><section class="chapter"  ><h3 id="generatelexer-task-targetclass" data-toc="generatelexer-task-targetclass"  >targetClass</h3><p id="d1d209f9_274" >The Java file name where the generated lexer will be written.</p><dl id="d1d209f9_275"  data-style="title-left" data-title-width="narrow" ><dt id="d1d209f9_276"  data-expandable="false" >Required</dt><dd><p><code class="code " id="d1d209f9_278"  >true</code></p></dd><dt id="d1d209f9_279"  data-expandable="false" >Type</dt><dd><p><code class="code " id="d1d209f9_281"  >String</code></p></dd></dl></section><section class="chapter"  ><h3 id="generatelexer-task-skeleton" data-toc="generatelexer-task-skeleton"  >skeleton</h3><p id="d1d209f9_282" >An optional path to the skeleton file to use for the generated lexer. The path will be provided as <code class="code " id="d1d209f9_283"  >--skel</code> option. By default, it uses the <span class="filepath" id="d1d209f9_284" ><a href="https://raw.github.com/JetBrains/intellij-community/master/tools/lexer/idea-flex.skeleton" id="d1d209f9_285"   data-external="true" rel="noopener noreferrer" >idea-flex.skeleton</a></span> skeleton file.</p><dl id="d1d209f9_286"  data-style="title-left" data-title-width="narrow" ><dt id="d1d209f9_287"  data-expandable="false" >Type</dt><dd><p><code class="code " id="d1d209f9_289"  >String</code></p></dd><dt id="d1d209f9_290"  data-expandable="false" >Default</dt><dd><p><code class="code " id="d1d209f9_292"  >null</code></p></dd></dl></section><section class="chapter"  ><h3 id="generatelexer-task-purgeoldfiles" data-toc="generatelexer-task-purgeoldfiles"  >purgeOldFiles</h3><p id="d1d209f9_293" >Purge old files from the target directory before generating the lexer.</p><dl id="d1d209f9_294"  data-style="title-left" data-title-width="narrow" ><dt id="d1d209f9_295"  data-expandable="false" >Type</dt><dd><p><code class="code " id="d1d209f9_297"  >Boolean</code></p></dd><dt id="d1d209f9_298"  data-expandable="false" >Default</dt><dd><p><code class="code " id="d1d209f9_300"  >false</code></p></dd></dl></section></section><section class="chapter"  ><h2 id="generateparser-task" data-toc="generateparser-task"  >generateParser Task</h2><p id="d1d209f9_301" >The <code class="code " id="d1d209f9_302"  >generateParser</code> task generates a parser for the given grammar. The task is configured using common <a href="#grammar-kit-extension" id="d1d209f9_303" data-tooltip="After the Gradle Grammar-Kit Plugin is applied, the grammarKit extension can be used to configure the plugin and common settings of the provided tasks."  ><code class="code " id="d1d209f9_304"  >grammarKit</code></a> extension.</p><section class="chapter"  ><h3 id="generateparser-task-source" data-toc="generateparser-task-source"  >source</h3><p id="d1d209f9_305" >The source BNF file to generate the parser from.</p><dl id="d1d209f9_306"  data-style="title-left" data-title-width="narrow" ><dt id="d1d209f9_307"  data-expandable="false" >Required</dt><dd><p><code class="code " id="d1d209f9_309"  >true</code></p></dd><dt id="d1d209f9_310"  data-expandable="false" >Type</dt><dd><p><code class="code " id="d1d209f9_312"  >String</code></p></dd></dl></section><section class="chapter"  ><h3 id="generateparser-task-targetroot" data-toc="generateparser-task-targetroot"  >targetRoot</h3><p id="d1d209f9_313" >The path to the target directory for the generated parser.</p><dl id="d1d209f9_314"  data-style="title-left" data-title-width="narrow" ><dt id="d1d209f9_315"  data-expandable="false" >Type</dt><dd><p><code class="code " id="d1d209f9_317"  >String</code></p></dd><dt id="d1d209f9_318"  data-expandable="false" >Default</dt><dd><p><code class="code " id="d1d209f9_320"  >null</code></p></dd></dl></section><section class="chapter"  ><h3 id="generateparser-task-pathtoparser" data-toc="generateparser-task-pathtoparser"  >pathToParser</h3><p id="d1d209f9_321" >The location of the generated parser class, relative to the <a href="#generateparser-task-targetroot" id="d1d209f9_322" data-tooltip="The path to the target directory for the generated parser."  ><code class="code " id="d1d209f9_323"  >targetRoot</code></a>.</p><dl id="d1d209f9_324"  data-style="title-left" data-title-width="narrow" ><dt id="d1d209f9_325"  data-expandable="false" >Required</dt><dd><p><code class="code " id="d1d209f9_327"  >true</code></p></dd><dt id="d1d209f9_328"  data-expandable="false" >Type</dt><dd><p><code class="code " id="d1d209f9_330"  >String</code></p></dd></dl></section><section class="chapter"  ><h3 id="generateparser-task-pathtopsiroot" data-toc="generateparser-task-pathtopsiroot"  >pathToPsiRoot</h3><p id="d1d209f9_331" >The location of the generated PSI files, relative to the <a href="#generateparser-task-targetroot" id="d1d209f9_332" data-tooltip="The path to the target directory for the generated parser."  ><code class="code " id="d1d209f9_333"  >targetRoot</code></a>.</p><dl id="d1d209f9_334"  data-style="title-left" data-title-width="narrow" ><dt id="d1d209f9_335"  data-expandable="false" >Required</dt><dd><p><code class="code " id="d1d209f9_337"  >true</code></p></dd><dt id="d1d209f9_338"  data-expandable="false" >Type</dt><dd><p><code class="code " id="d1d209f9_340"  >String</code></p></dd></dl></section><section class="chapter"  ><h3 id="generateparser-task-purgeoldfiles" data-toc="generateparser-task-purgeoldfiles"  >purgeOldFiles</h3><p id="d1d209f9_341" >Purge old files from the target directory before generating the parser.</p><dl id="d1d209f9_342"  data-style="title-left" data-title-width="narrow" ><dt id="d1d209f9_343"  data-expandable="false" >Type</dt><dd><p><code class="code " id="d1d209f9_345"  >Boolean</code></p></dd><dt id="d1d209f9_346"  data-expandable="false" >Default</dt><dd><p><code class="code " id="d1d209f9_348"  >false</code></p></dd></dl></section></section><section class="chapter"  ><h2 id="useful-resources" data-toc="useful-resources"  >Useful Resources</h2><ul class="list _ul" id="d1d209f9_349"    ><li class="list__item" id="d1d209f9_350" ><p><a href="https://github.com/JetBrains/Grammar-Kit" id="d1d209f9_351"   data-external="true" rel="noopener noreferrer" >Grammar-Kit</a></p></li><li class="list__item" id="d1d209f9_352" ><p><a href="https://github.com/JetBrains/intellij-deps-jflex" id="d1d209f9_353"   data-external="true" rel="noopener noreferrer" >IntelliJ-patched JFlex Sources</a></p></li><li class="list__item" id="d1d209f9_354" ><p><a href="https://cache-redirector.jetbrains.com/intellij-dependencies/org/jetbrains/intellij/deps/jflex/jflex/" id="d1d209f9_355"   data-external="true" rel="noopener noreferrer" >IntelliJ-patched JFlex</a></p></li></ul><section class="chapter"  ><h3 id="usage-examples" data-toc="usage-examples"  >Usage Examples</h3><ul class="list _ul" id="d1d209f9_356"    ><li class="list__item" id="d1d209f9_357" ><p><a href="https://github.com/Camelcade/Perl5-IDEA/blob/master/build.gradle" id="d1d209f9_358"   data-external="true" rel="noopener noreferrer" >Perl5 plugin</a></p></li><li class="list__item" id="d1d209f9_359" ><p><a href="https://github.com/intellij-rust/intellij-rust/blob/master/build.gradle.kts" id="d1d209f9_360"   data-external="true" rel="noopener noreferrer" >Rust plugin</a></p></li><li class="list__item" id="d1d209f9_361" ><p><a href="https://github.com/google/bamboo-soy/blob/master/build.gradle" id="d1d209f9_362"   data-external="true" rel="noopener noreferrer" >Bamboo Soy plugin</a></p></li></ul></section></section><div class="last-modified"> Last modified: 29 九月 2022</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="tools-gradle-intellij-plugin-faq.html">Gradle IntelliJ Plugin – FAQ</a>   <a class="navigation-links__next" href="internal-actions-intro.html">内部操作菜单</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/storage/help-app/v5/app.js"></script></body></html>