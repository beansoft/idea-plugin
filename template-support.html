<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2022-09-28T11:33:50.8369008"><meta name="build-number" content="${buildNumber}">    <meta name="keywords" content="">  <title>Providing Live Templates | IntelliJ Platform Plugin SDK</title><script id="virtual-toc-data" type="application/json">[{"id":"template-creation","level":0,"title":"Template Creation","anchor":"#template-creation"},{"id":"export-the-live-template","level":0,"title":"Export the Live Template","anchor":"#export-the-live-template"},{"id":"implement-templatecontexttype","level":0,"title":"Implement TemplateContextType","anchor":"#implement-templatecontexttype"},{"id":"completing-the-live-template-implementation","level":0,"title":"Completing the Live Template Implementation","anchor":"#completing-the-live-template-implementation"},{"id":"check-plugin","level":0,"title":"Check Plugin","anchor":"#check-plugin"}]</script>   <link href="https://resources.jetbrains.com/storage/help-app/v5/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Providing Live Templates | IntelliJ Platform Plugin SDK"/><meta property="og:description" content=""/><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"/><meta property="og:site_name" content="IntelliJ Platform Plugin SDK Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="https://plugins.jetbrains.com/docs/intellij/template-support.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@JBPlatform"><meta name="twitter:title" content="Providing Live Templates | IntelliJ Platform Plugin SDK"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@JBPlatform"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://plugins.jetbrains.com/docs/intellij/template-support.html#webpage", "url": "https://plugins.jetbrains.com/docs/intellij/template-support.html", "name": "Providing Live Templates | IntelliJ Platform Plugin SDK", "description": "", "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://plugins.jetbrains.com/docs/intellij/#website", "url": "https://plugins.jetbrains.com/docs/intellij/", "name": "IntelliJ Platform Plugin SDK Help" }</script><!-- End Schema.org --></head>    <body data-id="template_support.md" data-main-title="Providing Live Templates" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Part V — Features///editing.md|Editing///templates.md|Templates///live_templates.md|Live Templates"  data-edit-url="https://github.com/JetBrains/intellij-sdk-docs/edit/main/topics/tutorials/live_templates/template_support.md"  >  <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ Platform Plugin SDK  Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">      </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="template_support.md" id="template_support.md"  >Providing Live Templates</h1><p id="b6c607fc_1" >This tutorial illustrates how to add default Custom Live Templates to an IntelliJ Platform plugin, and assign valid contexts for these templates based on the surrounding code and file type. In addition, the tutorial discusses how to export existing Live Templates, and bundle them within a plugin. Any Live Template that can be created and exported can be added to a plugin by following the Template Creation, Export, and Extension Point Registration processes.</p><p id="b6c607fc_2" >This tutorial uses the SDK code sample <a href="https://github.com/JetBrains/intellij-sdk-code-samples/tree/main/live_templates" id="b6c607fc_3"   data-external="true" rel="noopener noreferrer" ><code class="code " id="b6c607fc_4"  >live_templates</code></a>.</p><section class="chapter"  ><h2 id="template-creation" data-toc="template-creation"  >Template Creation</h2><p id="b6c607fc_5" >Get started by <a href="https://www.jetbrains.com/idea/help/creating-and-editing-live-templates.html" id="b6c607fc_6"   data-external="true" rel="noopener noreferrer" >creating a new Live Template</a> within the IntelliJ Platform-based IDE:</p><ul class="list _ul" id="b6c607fc_7"    ><li class="list__item" id="b6c607fc_8" ><p>Add a new Template Group, &quot;Markdown&quot; and create a new Live Template under this group.</p></li><li class="list__item" id="b6c607fc_9" ><p>Assign the template the abbreviation &quot;<span class="control" id="b6c607fc_10" >{</span>&quot;.</p></li><li class="list__item" id="b6c607fc_11" ><p>Assign the description &quot;<span class="control" id="b6c607fc_12" >SDK: New link reference</span>&quot;.</p></li><li class="list__item" id="b6c607fc_13" ><p>Paste the following snippet into the <span class="control" id="b6c607fc_14" >Template text</span> field:</p></li></ul><div class="code-block" data-lang="plaintext"         >
[$TEXT$]($LINK$)$END$
</div><p id="b6c607fc_16" >The variables <code class="code " id="b6c607fc_17"  >$TEXT$</code> and <code class="code " id="b6c607fc_18"  >$LINK$</code> may be further configured in the <span class="control" id="b6c607fc_19" >Edit variables</span> dialogue to reorder their precedence and bind to the functions that invoke auto-completion at the appropriate time. In the <span class="control" id="b6c607fc_20" >Edit variables</span> dialog, set the <span class="control" id="b6c607fc_21" >Expression</span> for the <code class="code " id="b6c607fc_22"  >LINK</code> to <code class="code " id="b6c607fc_23"  >complete()</code> using the combo box.</p><p id="b6c607fc_24" >There are many <a href="https://www.jetbrains.com/help/idea/template-variables.html#predefined_functions" id="b6c607fc_25"   data-external="true" rel="noopener noreferrer" >predefined functions</a> that developers should become familiar with before implementing any unique functionality in a plugin.</p><aside data-type="tip" class="prompt" data-title="" id="b6c607fc_26" ><p id="b6c607fc_27" >Consider iteratively testing the Live Template using the current editor and a markdown file to minimize debugging later.</p></aside></section><section class="chapter"  ><h2 id="export-the-live-template" data-toc="export-the-live-template"  >Export the Live Template</h2><p id="b6c607fc_28" >Once the Live Template produces the expected result, <a href="https://www.jetbrains.com/help/idea/sharing-live-templates.html" id="b6c607fc_29"   data-external="true" rel="noopener noreferrer" >export the Live Template</a>. The export produces a file called <span class="filepath" id="b6c607fc_30" >Markdown.xml</span> with the following contents:</p><div class="code-block" data-lang="markup"         >
&lt;templateSet group=&quot;Markdown&quot;&gt;
  &lt;template
      name=&quot;{&quot;
      value=&quot;[$TEXT$]($LINK$)$END$&quot;
      description=&quot;SDK: New link reference&quot;
      toReformat=&quot;false&quot;
      toShortenFQNames=&quot;false&quot;&gt;
    &lt;variable
        name=&quot;TEXT&quot;
        expression=&quot;&quot;
        defaultValue=&quot;&quot;
        alwaysStopAt=&quot;true&quot;/&gt;
    &lt;variable
        name=&quot;LINK&quot;
        expression=&quot;complete()&quot;
        defaultValue=&quot;&quot;
        alwaysStopAt=&quot;true&quot;/&gt;
  &lt;/template&gt;
&lt;/templateSet&gt;
</div><p id="b6c607fc_32" >The display <code class="code " id="b6c607fc_33"  >name</code> can also provide localized variants by specifying <code class="code " id="b6c607fc_34"  >key</code> and <code class="code " id="b6c607fc_35"  >resource-bundle</code> attributes additionally (2020.3 and later).</p><p id="b6c607fc_36" >Copy this file into the <a href="https://github.com/JetBrains/intellij-sdk-code-samples/tree/main/live_templates/src/main/resources/liveTemplates" id="b6c607fc_37"   data-external="true" rel="noopener noreferrer" >plugin's resources folder</a>.</p></section><section class="chapter"  ><h2 id="implement-templatecontexttype" data-toc="implement-templatecontexttype"  >Implement TemplateContextType</h2><p id="b6c607fc_38" >A <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/analysis-api/src/com/intellij/codeInsight/template/TemplateContextType.java" id="b6c607fc_39"   data-external="true" rel="noopener noreferrer" ><code class="code " id="b6c607fc_40"  >TemplateContextType</code></a> tells the IntelliJ Platform where the Live Template is applicable: Markdown files. Every context must have a unique <code class="code " id="b6c607fc_41"  >TemplateContextType</code> defined for it, and the Platform defines many context types out of the box. The <code class="code " id="b6c607fc_42"  >MarkdownContext</code> class defines it for Markdown files. Ultimately, a file's extension determines the applicable Markdown context.</p><div class="code-block" data-lang="java"       data-disable-link-processing="true"  ></div><aside data-type="tip" class="prompt" data-title="" id="b6c607fc_44" ><p id="b6c607fc_45" >Once the <code class="code " id="b6c607fc_46"  >MarkdownContext</code> is defined, be sure to add the new context type to the previously created Live Template settings file.</p></aside><p id="b6c607fc_47" >Within the <code class="code " id="b6c607fc_48"  >&lt;template&gt;...&lt;/template&gt;</code> elements in the <span class="filepath" id="b6c607fc_49" >Markdown.xml</span> <a href="#export-the-live-template" id="b6c607fc_50" data-tooltip="Once the Live Template produces the expected result, export the Live Template. The export produces a file called Markdown.xml with the following contents:"  >Live Template definition file</a>, add the following context elements:</p><div class="code-block" data-lang="markup"         >
&lt;template&gt;
  &lt;variable ... /&gt;
  &lt;context&gt;
    &lt;option name=&quot;MARKDOWN&quot; value=&quot;true&quot;/&gt;
  &lt;/context&gt;
&lt;/template&gt;
</div><p id="b6c607fc_52" >It is not always necessary to define your own <code class="code " id="b6c607fc_53"  >TemplateContextType</code>, as there are many existing template contexts already defined in the IntelliJ Platform. Consider reusing one of the many existing template context types that inherit from <code class="code " id="b6c607fc_54"  >TemplateContextType</code> if you are augmenting language support to an existing area.</p></section><section class="chapter"  ><h2 id="completing-the-live-template-implementation" data-toc="completing-the-live-template-implementation"  >Completing the Live Template Implementation</h2><p id="b6c607fc_55" >Depending on the version of the IntelliJ Platform, different steps are used to complete the implementation of the feature.</p><div class="tabs" id="b6c607fc_56"><div class="tabs__content" data-gtm="tab" id="b6c607fc_57"   data-title="2020.1 and later" ><p id="b6c607fc_58" >Using the <code class="code " id="b6c607fc_59"  >com.intellij.defaultLiveTemplates</code> and <code class="code " id="b6c607fc_60"  >com.intellij.liveTemplateContext</code> extension points, register the implementations with the IntelliJ Platform. The <code class="code " id="b6c607fc_61"  >file</code> attribute in the <code class="code " id="b6c607fc_62"  >defaultLiveTemplates</code> element specifies <code class="code " id="b6c607fc_63"  >path/filename</code> under the <span class="filepath" id="b6c607fc_64" >src/main/resources</span> folder.</p><div class="code-block" data-lang="markup"    data-title="XML"     >
&lt;extensions defaultExtensionNs=&quot;com.intellij&quot;&gt;
  &lt;defaultLiveTemplates file=&quot;/liveTemplates/Markdown.xml&quot;/&gt;
  &lt;liveTemplateContext
      implementation=&quot;org.intellij.sdk.liveTemplates.MarkdownContext&quot;/&gt;
&lt;/extensions&gt;
</div></div><div class="tabs__content" data-gtm="tab" id="b6c607fc_66"   data-title="Versions 2019.3 and Earlier" ><p id="b6c607fc_67" >The <code class="code " id="b6c607fc_68"  >MarkdownTemplateProvider</code> implementing <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/lang-impl/src/com/intellij/codeInsight/template/impl/DefaultLiveTemplatesProvider.java" id="b6c607fc_69"   data-external="true" rel="noopener noreferrer" ><code class="code " id="b6c607fc_70"  >DefaultLiveTemplatesProvider</code></a> tells the Platform where to find the Live Template settings file. Make sure to include the full path to the file, relative to the <span class="filepath" id="b6c607fc_71" >src/main/resources</span> directory, excluding the file extension.</p><div class="code-block" data-lang="java"    data-title="Java"     >
package org.intellij.sdk.liveTemplates;

import com.intellij.codeInsight.template.impl.DefaultLiveTemplatesProvider;
import org.jetbrains.annotations.Nullable;

public class MarkdownTemplateProvider implements DefaultLiveTemplatesProvider {
  @Override
  public String[] getDefaultLiveTemplateFiles() {
    return new String[]{&quot;liveTemplates/Markdown&quot;};
  }

  @Nullable
  @Override
  public String[] getHiddenLiveTemplateFiles() {
    return null;
  }
}
</div><p id="b6c607fc_73" >Using the <code class="code " id="b6c607fc_74"  >com.intellij.defaultLiveTemplatesProvider</code> and <code class="code " id="b6c607fc_75"  >com.intellij.liveTemplateContext</code> extension points, register the implementations with the IntelliJ Platform.</p><div class="code-block" data-lang="markup"    data-title="XML"     >
&lt;extensions defaultExtensionNs=&quot;com.intellij&quot;&gt;
  &lt;defaultLiveTemplatesProvider
      implementation=&quot;org.intellij.sdk.liveTemplates.MarkdownTemplateProvider&quot;/&gt;
  &lt;liveTemplateContext
      implementation=&quot;org.intellij.sdk.liveTemplates.MarkdownContext&quot;/&gt;
&lt;/extensions&gt;
</div></div></div></section><section class="chapter"  ><h2 id="check-plugin" data-toc="check-plugin"  >Check Plugin</h2><p id="b6c607fc_77" >Now verify the plugin is working correctly. Run the plugin in a Development Instance and verify there is a new entry under .</p><p id="b6c607fc_79" >Finally, create a new file <span class="filepath" id="b6c607fc_80" >test.md</span> and confirm that the Live Template works by entering a <kbd data-bypass="true" class="keystroke" id="b6c607fc_81" ><span class="keystroke__value">{</span></kbd> character and then pressing <kbd data-bypass="true" class="keystroke" id="b6c607fc_82" ><span class="keystroke__value">Tab</span></kbd>.</p></section><div class="last-modified"> Last modified: 28 九月 2022</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="live-templates.html">Live Templates</a>   <a class="navigation-links__next" href="new-macros.html">Creating New Functions for Live Templates</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/storage/help-app/v5/app.js"></script></body></html>