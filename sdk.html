<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2022-09-29T19:15:56.4433879"><meta name="build-number" content="${buildNumber}">    <meta name="keywords" content="">  <title>SDK | IntelliJ Platform Plugin SDK</title><script id="virtual-toc-data" type="application/json">[{"id":"getting-project-sdk-information","level":0,"title":"Getting Project SDK Information","anchor":"#getting-project-sdk-information"},{"id":"getting-and-setting-project-sdk-attributes","level":0,"title":"Getting and Setting Project SDK Attributes","anchor":"#getting-and-setting-project-sdk-attributes"},{"id":"available-sdks","level":0,"title":"Available SDKs","anchor":"#available-sdks"},{"id":"working-with-a-custom-sdk","level":0,"title":"Working with a Custom SDK","anchor":"#working-with-a-custom-sdk"},{"id":"assisting-in-setting-up-an-sdk","level":0,"title":"Assisting in Setting Up an SDK","anchor":"#assisting-in-setting-up-an-sdk"}]</script>   <link href="https://resources.jetbrains.com/storage/help-app/v5/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="SDK | IntelliJ Platform Plugin SDK"/><meta property="og:description" content=""/><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"/><meta property="og:site_name" content="IntelliJ Platform Plugin SDK Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="https://plugins.jetbrains.com/docs/intellij/sdk.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@JBPlatform"><meta name="twitter:title" content="SDK | IntelliJ Platform Plugin SDK"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@JBPlatform"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://plugins.jetbrains.com/docs/intellij/sdk.html#webpage", "url": "https://plugins.jetbrains.com/docs/intellij/sdk.html", "name": "SDK | IntelliJ Platform Plugin SDK", "description": "", "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://plugins.jetbrains.com/docs/intellij/#website", "url": "https://plugins.jetbrains.com/docs/intellij/", "name": "IntelliJ Platform Plugin SDK Help" }</script><!-- End Schema.org --></head>    <body data-id="sdk.md" data-main-title="SDK" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Part III — Project Model"  data-edit-url="https://github.com/JetBrains/intellij-sdk-docs/edit/main/topics/reference_guide/project_model/sdk.md"  >  <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ Platform Plugin SDK  Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">      </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="sdk.md" id="sdk.md"  >SDK</h1><p id="555f893b_67" >Every project uses a Software Development Kit (SDK). For Java projects, the SDK is referred to as the JDK (Java Development Kit). The SDK determines which API library is used to build the project. If a project is multi-module, the project SDK by default is common for all modules within the project. Optionally, individual SDKs for each module can be configured. For more information about SDKs, see <a href="https://www.jetbrains.com/help/idea/working-with-sdks.html" id="555f893b_68"   data-external="true" rel="noopener noreferrer" >SDK</a> in the IntelliJ IDEA Web Help.</p><section class="chapter"  ><h2 id="getting-project-sdk-information" data-toc="getting-project-sdk-information"  >Getting Project SDK Information</h2><p id="555f893b_69" >The information about the project SDK is accessed via <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/projectModel-api/src/com/intellij/openapi/roots/ProjectRootManager.java" id="555f893b_70"   data-external="true" rel="noopener noreferrer" ><code class="code " id="555f893b_71"  >ProjectRootManager</code></a> like the following example shows</p><div class="code-block" data-lang="java"         >
Sdk projectSdk = ProjectRootManager.getInstance(project).getProjectSdk();
</div></section><section class="chapter"  ><h2 id="getting-and-setting-project-sdk-attributes" data-toc="getting-and-setting-project-sdk-attributes"  >Getting and Setting Project SDK Attributes</h2><ul class="list _ul" id="555f893b_73"    ><li class="list__item" id="555f893b_74" ><p id="555f893b_75" >To get the project-level SDK:</p><div class="code-block" data-lang="java"         >
Sdk projectSdk = ProjectRootManager.getInstance(project).getProjectSdk();
</div></li><li class="list__item" id="555f893b_77" ><p id="555f893b_78" >To get the project-level SDK name:</p><div class="code-block" data-lang="java"         >
String projectSdkName = ProjectRootManager.getInstance(project).getProjectSdkName();
</div></li><li class="list__item" id="555f893b_80" ><p id="555f893b_81" >To set the project-level SDK:</p><div class="code-block" data-lang="java"         >
ProjectRootManager.getInstance(project).setProjectSdk(sdk);
</div></li><li class="list__item" id="555f893b_83" ><p id="555f893b_84" >To set the project-level SDK name:</p><div class="code-block" data-lang="java"         >
ProjectRootManager.getInstance(project).setProjectSdkName(name);
</div></li></ul><p id="555f893b_86" >See the <a href="https://github.com/JetBrains/intellij-sdk-code-samples/tree/main/project_model/src/main/java/org/intellij/sdk/project/model/ProjectSdkAction.java" id="555f893b_87"   data-external="true" rel="noopener noreferrer" >project_model</a> code sample to get more familiar with SDK manipulation toolset.</p></section><section class="chapter"  ><h2 id="available-sdks" data-toc="available-sdks"  >Available SDKs</h2><p id="555f893b_88" ><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/projectModel-api/src/com/intellij/openapi/projectRoots/ProjectJdkTable.java" id="555f893b_89"   data-external="true" rel="noopener noreferrer" ><code class="code " id="555f893b_90"  >ProjectJdkTable</code></a> can be used to query and modify configured SDKs.</p></section><section class="chapter"  ><h2 id="working-with-a-custom-sdk" data-toc="working-with-a-custom-sdk"  >Working with a Custom SDK</h2><p id="555f893b_91" >To create a custom SDK, provide a class extending <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/lang-core/src/com/intellij/openapi/projectRoots/SdkType.java" id="555f893b_92"   data-external="true" rel="noopener noreferrer" ><code class="code " id="555f893b_93"  >SdkType</code></a>, leave <code class="code " id="555f893b_94"  >saveAdditionalData()</code> blank, and register it in the <code class="code " id="555f893b_95"  >com.intellij.sdkType</code> extension point.</p><p id="555f893b_96" >To make SDK settings persistent, override <code class="code " id="555f893b_97"  >setupSdkPaths()</code> and save settings by <code class="code " id="555f893b_98"  >modificator.commitChanges()</code>:</p><div class="code-block" data-lang="java"         >
@Override
public boolean setupSdkPaths(@NotNull Sdk sdk, @NotNull SdkModel sdkModel) {
  SdkModificator modificator = sdk.getSdkModificator();
  modificator.setVersionString(getVersionString(sdk));
  modificator.commitChanges(); // save
  return true;
}
</div><p id="555f893b_100" >To let a user select an SDK, see <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/java/idea-ui/src/com/intellij/openapi/projectRoots/ui/ProjectJdksEditor.java" id="555f893b_101"   data-external="true" rel="noopener noreferrer" ><code class="code " id="555f893b_102"  >ProjectJdksEditor</code></a>.</p><p id="555f893b_103" >However, it is not recommended to use &quot;SDK&quot; in non-IntelliJ IDEA IDEs. Although &quot;SDK&quot; is available in most JetBrains products, <code class="code " id="555f893b_104"  >ProjectJdksEditor</code> is specific to Java, making the operation around &quot;SDK&quot; difficult. The recommended way of managing &quot;SDK&quot; settings is to create a <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/lang-impl/src/com/intellij/ide/util/projectWizard/CustomStepProjectGenerator.java" id="555f893b_105"   data-external="true" rel="noopener noreferrer" ><code class="code " id="555f893b_106"  >CustomStepProjectGenerator</code></a> implementation and save settings in a <a href="persisting-state-of-components.html" id="555f893b_107" data-tooltip="The IntelliJ Platform provides an API that allows components or services to persist their state between restarts of the IDE. You can use either a simple API to persist a few values or persist the state of more complicated components using the PersistentStateComponent interface."  ><code class="code " id="555f893b_108"  >PersistentStateComponent</code></a>.</p></section><section class="chapter"  ><h2 id="assisting-in-setting-up-an-sdk" data-toc="assisting-in-setting-up-an-sdk"  >Assisting in Setting Up an SDK</h2><p id="555f893b_109" >Prompting the user with a notification to set up an SDK can help them get up-and-running with a plugin faster. Use <code class="code " id="555f893b_110"  >com.intellij.projectSdkSetupValidator</code> extension point to register an implementation of <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/lang-impl/src/com/intellij/codeInsight/daemon/ProjectSdkSetupValidator.java" id="555f893b_111"   data-external="true" rel="noopener noreferrer" ><code class="code " id="555f893b_112"  >ProjectSdkSetupValidator</code></a> to notify the user if they are missing an SDK.</p><p id="555f893b_113" >The following is a simplified example that checks whether an instance of &quot;DemoSdk&quot; has been configured in the project when the user opens a &quot;DemoFileType&quot;:</p><div class="code-block" data-lang="kotlin"         >
class DemoProjectSdkSetupValidator : ProjectSdkSetupValidator {
  override fun isApplicableFor(project: Project, file: VirtualFile): Boolean {
    return file.fileType == DemoFileType
  }

  override fun getErrorMessage(project: Project, file: VirtualFile): String? {
    if (ProjectJdkTable.getInstance().getSdksOfType(DemoSdkType.getInstance()).isEmpty()) {
      return &quot;No DemoSdks are configured for this project!&quot;
    }
    return null
  }

  override fun getFixHandler(project: Project, file: VirtualFile):
        EditorNotificationPanel.ActionHandler {
    return SdkPopupFactory.newBuilder()
        .withProject(project)
        .withSdkTypeFilter { it is DemoSdkType }
        .updateSdkForFile(file)
        .buildEditorNotificationPanelHandler()
  }
}
</div><p id="555f893b_115" >Within <code class="code " id="555f893b_116"  >DemoProjectSdkSetupValidator</code>:</p><ul class="list _ul" id="555f893b_117"    ><li class="list__item" id="555f893b_118" ><p><code class="code " id="555f893b_119"  >isApplicableFor()</code> checks what condition(s) should be met to run the validation.</p></li><li class="list__item" id="555f893b_120" ><p><code class="code " id="555f893b_121"  >getErrorMessage()</code> runs the validation and return an appropriate error message if the validation fails.</p></li><li class="list__item" id="555f893b_122" ><p>If the validation is successful, then it should return null.</p></li><li class="list__item" id="555f893b_123" ><p><code class="code " id="555f893b_124"  >getFixHandler()</code> returns an <code class="code " id="555f893b_125"  >EditorNotificationPanel.ActionHandler</code> that enables the user to execute a quick-fix to resolve the validation issue.</p></li></ul><aside data-type="tip" class="prompt" data-title="" id="555f893b_126" ><p id="555f893b_127" ><code class="code " id="555f893b_128"  >ProjectSdkSetupValidator</code> will not work in IntelliJ Platform-based IDEs such as PyCharm. In such cases, you should register an implementation of <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-api/src/com/intellij/ui/EditorNotifications.java" id="555f893b_129"   data-external="true" rel="noopener noreferrer" ><code class="code " id="555f893b_130"  >EditorNotifications.Provider</code></a> at the <code class="code " id="555f893b_131"  >com.intellij.editorNotificationProvider</code> extension point and override the <code class="code " id="555f893b_132"  >createNotificationPanel()</code> method with the conditionality and panel setup you want.</p></aside></section><div class="last-modified"> Last modified: 29 九月 2022</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="module.html">Module</a>   <a class="navigation-links__next" href="library.html">Library</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/storage/help-app/v5/app.js"></script></body></html>