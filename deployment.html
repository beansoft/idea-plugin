<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2022-09-25T22:17:42.2758779"><meta name="build-number" content="${buildNumber}">    <meta name="keywords" content="">  <title>Publishing Plugins with Gradle | IntelliJ Platform Plugin SDK</title><script id="virtual-toc-data" type="application/json">[{"id":"building-distribution","level":0,"title":"Building Distribution","anchor":"#building-distribution"},{"id":"providing-your-personal-access-token-to-gradle","level":0,"title":"Providing Your Personal Access Token to Gradle","anchor":"#providing-your-personal-access-token-to-gradle"},{"id":"deploying-a-plugin-with-gradle","level":0,"title":"Deploying a Plugin with Gradle","anchor":"#deploying-a-plugin-with-gradle"}]</script>   <link href="https://resources.jetbrains.com/storage/help-app/v5/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Publishing Plugins with Gradle | IntelliJ Platform Plugin SDK"/><meta property="og:description" content=""/><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"/><meta property="og:site_name" content="IntelliJ Platform Plugin SDK Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="https://plugins.jetbrains.com/docs/intellij/deployment.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@JBPlatform"><meta name="twitter:title" content="Publishing Plugins with Gradle | IntelliJ Platform Plugin SDK"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@JBPlatform"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://plugins.jetbrains.com/docs/intellij/deployment.html#webpage", "url": "https://plugins.jetbrains.com/docs/intellij/deployment.html", "name": "Publishing Plugins with Gradle | IntelliJ Platform Plugin SDK", "description": "", "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://plugins.jetbrains.com/docs/intellij/#website", "url": "https://plugins.jetbrains.com/docs/intellij/", "name": "IntelliJ Platform Plugin SDK Help" }</script><!-- End Schema.org --></head>    <body data-id="deployment.md" data-main-title="Publishing Plugins with Gradle" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Part I — 插件///getting_started.md|创建插件///gradle_build_system.md|Using Gradle"  data-edit-url="https://github.com/JetBrains/intellij-sdk-docs/edit/main/topics/tutorials/build_system/deployment.md"  >  <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ Platform Plugin SDK  Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">      </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="deployment.md" id="deployment.md"  >Publishing Plugins with Gradle</h1><p id="9422201b_1" >Once you have <a href="gradle-guide.html" id="9422201b_2" data-tooltip="This page serves as a guide to Gradle-based plugin configuration for IntelliJ Platform projects. The IntelliJ IDEA Ultimate and Community editions bundle the Gradle and Plugin DevKit plugins to support Gradle-based development."  >configured Gradle support</a>, you can automatically build and deploy your plugin to the <a href="https://plugins.jetbrains.com" id="9422201b_3"   data-external="true" rel="noopener noreferrer" >JetBrains Marketplace</a>. To automatically deploy a plugin, you need to have <span class="emphasis" id="9422201b_4" >already published the plugin to the plugin repository at least once.</span> Please see the guide page for manually <a href="publishing-plugin.html" id="9422201b_5" data-tooltip="When your plugin is ready, you can publish it to a plugin repository so that other users can install it. You can choose to publish it on the JetBrains Marketplace or a ."  >publishing a plugin</a> for the first time and <a href="#building-distribution" id="9422201b_6" data-tooltip="For initial upload, manual distribution or local installation, invoke the buildPlugin Gradle task to create the plugin distribution. The resulting ZIP file is located in build/distributions and can then be installed via drag & drop (or using plugin manager) or uploaded to a ."  >Building Distribution</a> on obtaining the initial plugin distribution artifact.</p><aside data-type="tip" class="prompt" data-title="" id="9422201b_7" ><p id="9422201b_8" >Please see <a href="marketing.html" id="9422201b_9" data-tooltip="Please make sure to follow the guidelines from Plugin Overview page for an optimal presentation of your plugin on JetBrains Marketplace."  >Marketing</a> for remarks on how to prepare your plugin for optimal presentation.</p></aside><aside data-type="tip" class="prompt" data-title="" id="9422201b_10" ><p id="9422201b_11" >When adding additional repositories to your Gradle build script, always use HTTPS protocol.</p></aside><section class="chapter"  ><h2 id="building-distribution" data-toc="building-distribution"  >Building Distribution</h2><p id="9422201b_12" >For initial upload, manual distribution or local installation, invoke the <a href="tools-gradle-intellij-plugin.html#tasks-buildplugin" id="9422201b_13" data-tooltip="Assembles a plugin and prepares ZIP archive for deployment."  ><code class="code " id="9422201b_14"  >buildPlugin</code></a> Gradle task to create the plugin distribution. The resulting ZIP file is located in <span class="filepath" id="9422201b_15" >build/distributions</span> and can then be installed via drag &amp; drop (or using <a href="https://www.jetbrains.com/help/idea/managing-plugins.html#installing-plugins-from-disk" id="9422201b_16"   data-external="true" rel="noopener noreferrer" >plugin manager</a>) or uploaded to a <a href="custom-plugin-repository.html" id="9422201b_17" data-tooltip="Toolbox Enterprise (currently in Early Access) comes with a local built-in IntelliJ plugin repository that allows you to choose specific plugins to be approved within your organization. It also lets you upload and distribute your own plugins inside your company, as well as any…"  >Custom Plugin Repository</a>.</p></section><section class="chapter"  ><h2 id="providing-your-personal-access-token-to-gradle" data-toc="providing-your-personal-access-token-to-gradle"  >Providing Your Personal Access Token to Gradle</h2><p id="9422201b_18" >To deploy a plugin to the JetBrains Marketplace, you need to supply your Personal Access Token, which you can find on your profile page, in <a href="https://plugins.jetbrains.com/author/me/tokens" id="9422201b_19"   data-external="true" rel="noopener noreferrer" >My Tokens</a> section.</p><p id="9422201b_20" >To create a new token, provide its name and click the <span class="control" id="9422201b_21" >Generate Token</span> button. A new token will be created and displayed right below.</p><aside data-type="tip" class="prompt" data-title="" id="9422201b_22" ><p id="9422201b_23" >Copy it before you close this page and keep it in a secure location. This is the only time the token is visible.</p></aside><p id="9422201b_24" >This section describes two options to supply your <span class="emphasis" id="9422201b_25" >Personal Access Token</span> via Gradle using:</p><ul class="list _ul" id="9422201b_26"    ><li class="list__item" id="9422201b_27" ><p>Environment variables,</p></li><li class="list__item" id="9422201b_28" ><p>Parameters to the Gradle task.</p></li></ul><section class="chapter"  ><h3 id="using-environment-variables" data-toc="using-environment-variables"  >Using Environment Variables</h3><p id="9422201b_29" >Start by defining an environment variable such as:</p><div class="code-block" data-lang="bash"         >
export ORG_GRADLE_PROJECT_intellijPublishToken='YOUR_TOKEN'
</div><aside data-type="tip" class="prompt" data-title="" id="9422201b_31" ><p id="9422201b_32" >On macOS systems, environment variables set in <span class="filepath" id="9422201b_33" >.bash_profile</span> are only visible to processes you run from bash. Environment variables visible to all processes need to be defined in <a href="https://developer.apple.com/library/archive/qa/qa1067/_index.html" id="9422201b_34"   data-external="true" rel="noopener noreferrer" >Environment.plist</a>.</p></aside><p id="9422201b_35" >Now provide the environment variable in the run configuration with which you run the <a href="tools-gradle-intellij-plugin.html#tasks-publishplugin" id="9422201b_36" data-tooltip="Publishes plugin to the remote JetBrains Marketplace repository."  ><code class="code " id="9422201b_37"  >publishPlugin</code></a> task locally. To do so, create a Gradle run configuration (if not already done), choose your Gradle project, specify the <a href="tools-gradle-intellij-plugin.html#tasks-publishplugin" id="9422201b_38" data-tooltip="Publishes plugin to the remote JetBrains Marketplace repository."  ><code class="code " id="9422201b_39"  >publishPlugin</code></a> task, and then add the environment variable.</p><div class="tabs" id="9422201b_40"data-group="languages"><div class="tabs__content" data-gtm="tab" id="9422201b_41" data-sync-tabs="kotlin"  data-title="Kotlin" ><div class="code-block" data-lang="kotlin"    data-title="Kotlin"     >
publishPlugin {
  token.set(System.getenv(&quot;ORG_GRADLE_PROJECT_intellijPublishToken&quot;))
}
</div></div><div class="tabs__content" data-gtm="tab" id="9422201b_43" data-sync-tabs="groovy"  data-title="Groovy" ><div class="code-block" data-lang="groovy"    data-title="Groovy"     >
publishPlugin {
  token = System.getenv(&quot;ORG_GRADLE_PROJECT_intellijPublishToken&quot;)
}
</div></div></div><p id="9422201b_45" >Note that you still need to put some default values (can be empty) in the Gradle properties because otherwise, you will get a compilation error.</p></section><section class="chapter"  ><h3 id="using-parameters-for-the-gradle-task" data-toc="using-parameters-for-the-gradle-task"  >Using Parameters for the Gradle Task</h3><p id="9422201b_46" >Like using environment variables, you can also pass your token as a parameter to the Gradle task. For example, you can provide the parameter</p><div class="code-block" data-lang="bash"         >
-Dorg.gradle.project.intellijPublishToken=YOUR_TOKEN
</div><p id="9422201b_48" >on the command line or by putting it in the arguments of your Gradle run configuration.</p><p id="9422201b_49" >Note that also, in this case, you still need to put some default values in your Gradle properties.</p></section></section><section class="chapter"  ><h2 id="deploying-a-plugin-with-gradle" data-toc="deploying-a-plugin-with-gradle"  >Deploying a Plugin with Gradle</h2><p id="9422201b_50" >The first step when deploying a plugin is to confirm that it works correctly. You may wish to verify this by <a href="https://www.jetbrains.com/help/idea/managing-plugins.html" id="9422201b_51"   data-external="true" rel="noopener noreferrer" >installing your plugin from disk</a> on a fresh instance of your target IDE(s).</p><section class="chapter"  ><h3 id="signing-a-plugin" data-toc="signing-a-plugin"  >Signing a Plugin</h3><p id="9422201b_52" >The Marketplace signing is designed to ensure that plugins are not modified over the course of the publishing and delivery pipeline. In version <code class="code " id="9422201b_53"  >1.x</code>, the Gradle IntelliJ Plugin provides the <a href="tools-gradle-intellij-plugin.html#tasks-signplugin" id="9422201b_54" data-tooltip="Signs the ZIP archive with the provided key using marketplace-zip-signer library."  ><code class="code " id="9422201b_55"  >signPlugin</code></a> task, which will be executed automatically right before the <a href="tools-gradle-intellij-plugin.html#tasks-publishplugin" id="9422201b_56" data-tooltip="Publishes plugin to the remote JetBrains Marketplace repository."  ><code class="code " id="9422201b_57"  >publishPlugin</code></a>.</p><p id="9422201b_58" >For more details on generating a proper certificate and configuring the <a href="tools-gradle-intellij-plugin.html#tasks-signplugin" id="9422201b_59" data-tooltip="Signs the ZIP archive with the provided key using marketplace-zip-signer library."  ><code class="code " id="9422201b_60"  >signPlugin</code></a> task, check the <a href="plugin-signing.html" id="9422201b_61" data-tooltip="Plugin Signing is a mechanism introduced in the 2021.2 release cycle to increase security in JetBrains Marketplace and all of our IntelliJ-based IDEs."  >Plugin Signing</a> article.</p></section><section class="chapter"  ><h3 id="publishing-a-plugin" data-toc="publishing-a-plugin"  >Publishing a Plugin</h3><p id="9422201b_62" >Once you are confident the plugin works as intended, make sure the plugin version is updated, as the JetBrains Marketplace won't accept multiple artifacts with the same version.</p><p id="9422201b_63" >To deploy a new version of your plugin to the JetBrains Marketplace, invoke the <a href="tools-gradle-intellij-plugin.html#tasks-publishplugin" id="9422201b_64" data-tooltip="Publishes plugin to the remote JetBrains Marketplace repository."  ><code class="code " id="9422201b_65"  >publishPlugin</code></a> Gradle task.</p><p id="9422201b_66" >Now check the most recent version of your plugin on the <a href="https://plugins.jetbrains.com/" id="9422201b_67"   data-external="true" rel="noopener noreferrer" >JetBrains Marketplace</a>. If successfully deployed, any users who currently have your plugin installed on an available version of the IntelliJ Platform are notified of a new update available as soon as the update has been verified.</p></section><section class="chapter"  ><h3 id="specifying-a-release-channel" data-toc="specifying-a-release-channel"  >Specifying a Release Channel</h3><p id="9422201b_68" >You may also deploy plugins to a release channel of your choosing, by configuring the <a href="tools-gradle-intellij-plugin.html#publishplugin-task-channels" id="9422201b_69" data-tooltip="List of channel names to upload plugin to."  ><code class="code " id="9422201b_70"  >publishPlugin.channels</code></a> property. For example:</p><div class="tabs" id="9422201b_71"data-group="languages"><div class="tabs__content" data-gtm="tab" id="9422201b_72" data-sync-tabs="kotlin"  data-title="Kotlin" ><div class="code-block" data-lang="kotlin"    data-title="Kotlin"     >
publishPlugin {
  channels.set(listOf(&quot;beta&quot;))
}
</div></div><div class="tabs__content" data-gtm="tab" id="9422201b_74" data-sync-tabs="groovy"  data-title="Groovy" ><div class="code-block" data-lang="groovy"    data-title="Groovy"     >
publishPlugin {
  channels = ['beta']
}
</div></div></div><p id="9422201b_76" >When empty, this uses the default plugin repository, available to all <a href="https://plugins.jetbrains.com/" id="9422201b_77"   data-external="true" rel="noopener noreferrer" >JetBrains Marketplace</a> users. However, you can publish it to an arbitrarily-named channel. These non-default release channels are treated as separate repositories.</p><p id="9422201b_78" >When using a non-default release channel, users need to configure a new <a href="https://www.jetbrains.com/help/idea/managing-plugins.html#repos" id="9422201b_79"   data-external="true" rel="noopener noreferrer" >custom plugin repository</a> in their IDE to install your plugin. For example, if you specify <code class="code " id="9422201b_80"  >publishPlugin.channels = ['canary']</code>, then users need to add the <code class="code " id="9422201b_81"  >https://plugins.jetbrains.com/plugins/canary/list</code> repository to install the plugin and receive updates.</p><p id="9422201b_82" >Popular channel names include:</p><ul class="list _ul" id="9422201b_83"    ><li class="list__item" id="9422201b_84" ><p><code class="code " id="9422201b_85"  >alpha</code>: https://plugins.jetbrains.com/plugins/alpha/list</p></li><li class="list__item" id="9422201b_86" ><p><code class="code " id="9422201b_87"  >beta</code>: https://plugins.jetbrains.com/plugins/beta/list</p></li><li class="list__item" id="9422201b_88" ><p><code class="code " id="9422201b_89"  >eap</code>: https://plugins.jetbrains.com/plugins/eap/list</p></li></ul><p id="9422201b_90" >More information about the available configuration options is in the <a href="tools-gradle-intellij-plugin.html#tasks-publishplugin" id="9422201b_91" data-tooltip="Publishes plugin to the remote JetBrains Marketplace repository."  >documentation of the IntelliJ Gradle Plugin</a>.</p></section></section><div class="last-modified"> Last modified: 25 九月 2022</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="gradle-guide.html">Configuring Gradle Projects</a>   <a class="navigation-links__next" href="using-dev-kit.html">Using DevKit</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/storage/help-app/v5/app.js"></script></body></html>