<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2022-09-28T11:33:50.6128855"><meta name="build-number" content="${buildNumber}">    <meta name="keywords" content="">  <title>Tool Windows | IntelliJ Platform Plugin SDK</title><script id="virtual-toc-data" type="application/json">[{"id":"declarative-setup","level":0,"title":"Declarative Setup","anchor":"#declarative-setup"},{"id":"programmatic-setup","level":0,"title":"Programmatic Setup","anchor":"#programmatic-setup"},{"id":"contents-tabs","level":0,"title":"Contents (Tabs)","anchor":"#contents-tabs"},{"id":"sample-plugin","level":0,"title":"Sample Plugin","anchor":"#sample-plugin"}]</script>   <link href="https://resources.jetbrains.com/storage/help-app/v5/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Tool Windows | IntelliJ Platform Plugin SDK"/><meta property="og:description" content=""/><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"/><meta property="og:site_name" content="IntelliJ Platform Plugin SDK Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="https://plugins.jetbrains.com/docs/intellij/tool-windows.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@JBPlatform"><meta name="twitter:title" content="Tool Windows | IntelliJ Platform Plugin SDK"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@JBPlatform"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://plugins.jetbrains.com/docs/intellij/tool-windows.html#webpage", "url": "https://plugins.jetbrains.com/docs/intellij/tool-windows.html", "name": "Tool Windows | IntelliJ Platform Plugin SDK", "description": "", "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://plugins.jetbrains.com/docs/intellij/#website", "url": "https://plugins.jetbrains.com/docs/intellij/", "name": "IntelliJ Platform Plugin SDK Help" }</script><!-- End Schema.org --></head>    <body data-id="tool_windows.md" data-main-title="Tool Windows" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Part II — Base Platform///user_interface_components.md|User Interface Components"  data-edit-url="https://github.com/JetBrains/intellij-sdk-docs/edit/main/topics/user_interface_components/tool_windows.md"  >  <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ Platform Plugin SDK  Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">      </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="tool_windows.md" id="tool_windows.md"  >Tool Windows</h1><p id="a42d37d0_1" ><span class="emphasis" id="a42d37d0_2" >Tool windows</span> are child windows of the IDE used to display information. These windows generally have their own toolbars (referred to as <span class="emphasis" id="a42d37d0_3" >tool window bars</span>) along the outer edges of the main window containing one or more <span class="emphasis" id="a42d37d0_4" >tool window buttons</span>, which activate panels displayed on the left, bottom and right sides of the main IDE window. For detailed information about tool windows, please see <a href="https://www.jetbrains.com/idea/help/tool-windows.html" id="a42d37d0_5"   data-external="true" rel="noopener noreferrer" >IntelliJ IDEA Web Help</a> and <a href="https://jetbrains.design/intellij/components/tool_window/" id="a42d37d0_6"   data-external="true" rel="noopener noreferrer" >Tool window</a> topic in IntelliJ Platform UI Guidelines.</p><p id="a42d37d0_7" >Each side contains two tool window groups, the primary and the secondary one, and only one tool window from each group can be active at a time.</p><p id="a42d37d0_8" >Each tool window can show multiple tabs (or &quot;contents&quot;, as they are called in the API). For example, the Run tool window displays a tab for each active run configuration, and the Changes/Version Control tool window displays a fixed set of tabs depending on the version control system used in the project.</p><p id="a42d37d0_9" >There are two main scenarios for the use of tool windows in a plugin. Using <a href="#declarative-setup" id="a42d37d0_10" data-tooltip="The tool window is registered in plugin.xml using the com.intellij.toolWindow extension point. The extension point attributes specify all the data which is necessary to display the tool window button:"  >declarative setup</a>, a tool window button is always visible, and the user can activate it and interact with the plugin functionality at any time. Alternatively, using <a href="#programmatic-setup" id="a42d37d0_11" data-tooltip="The second method involves simply calling ToolWindowManager.registerToolWindow() from the plugin code. The method has multiple overloads that can be used depending on the task. When using an overload that takes a component, the component becomes the first content (tab) displayed in…"  >programmatic setup</a>, the tool window is created to show the results of a specific operation, and can be closed by the user after the operation is completed.</p><p id="a42d37d0_12" >Project-level topic <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/openapi/wm/ex/ToolWindowManagerListener.java" id="a42d37d0_13"   data-external="true" rel="noopener noreferrer" ><code class="code " id="a42d37d0_14"  >ToolWindowManagerListener</code></a> allows listening to tool window (un-)registering/show events (see <a href="plugin-listeners.html" id="a42d37d0_15" data-tooltip="Listeners allow subscription to application and project events."  >Listeners</a>).</p><section class="chapter"  ><h2 id="declarative-setup" data-toc="declarative-setup"  >Declarative Setup</h2><p id="a42d37d0_16" >The tool window is registered in <span class="filepath" id="a42d37d0_17" ><a href="plugin-configuration-file.html" id="a42d37d0_18" data-tooltip="Plugin configuration file contains all the information about the plugin, as well as all registered extensions, actions, listeners, etc."  >plugin.xml</a></span> using the <code class="code " id="a42d37d0_19"  >com.intellij.toolWindow</code> extension point. The extension point attributes specify all the data which is necessary to display the tool window button:</p><ul class="list _ul" id="a42d37d0_20"    ><li class="list__item" id="a42d37d0_21" ><p id="a42d37d0_22" >The <code class="code " id="a42d37d0_23"  >id</code> of the tool window - corresponds to the text displayed on the tool window button. To provide a localized text, specify matching <code class="code " id="a42d37d0_24"  >toolwindow.stripe.[id]</code> message key (escape spaces with <code class="code " id="a42d37d0_25"  >_</code>) in your <a href="localization-guide.html" id="a42d37d0_26" data-tooltip="The purpose of the document is to describe steps necessary to create localized versions of IDEA."  >message bundle</a> (code insight supported in 2020.3 and later).</p></li><li class="list__item" id="a42d37d0_27" ><p id="a42d37d0_28" >The <code class="code " id="a42d37d0_29"  >icon</code> to display on the tool window button (13x13 pixels, grey and monochromatic; see <a href="https://jetbrains.design/intellij/components/tool_window/#07" id="a42d37d0_30"   data-external="true" rel="noopener noreferrer" >Tool window</a> in IntelliJ Platform UI Guidelines and <a href="work-with-icons-and-images.html" id="a42d37d0_31" data-tooltip="Icons and images are used widely by IntelliJ Platform plugins. Plugins need icons mostly for actions, custom components renderers, tool windows, and so on."  >Working with Icons and Images</a>)</p></li><li class="list__item" id="a42d37d0_32" ><p id="a42d37d0_33" >The <code class="code " id="a42d37d0_34"  >anchor</code>, meaning the side of the screen on which the tool window is displayed (&quot;left&quot; (default), &quot;right&quot; or &quot;bottom&quot;)</p></li><li class="list__item" id="a42d37d0_35" ><p id="a42d37d0_36" >The <code class="code " id="a42d37d0_37"  >secondary</code> attribute, specifying whether the tool window is displayed in the primary or the secondary group</p></li></ul><p id="a42d37d0_38" >In addition to that, specify the <code class="code " id="a42d37d0_39"  >factoryClass</code> attribute - the name of a class implementing the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-api/src/com/intellij/openapi/wm/ToolWindowFactory.java" id="a42d37d0_40"   data-external="true" rel="noopener noreferrer" ><code class="code " id="a42d37d0_41"  >ToolWindowFactory</code></a> interface. When the user clicks on the tool window button, the <code class="code " id="a42d37d0_42"  >createToolWindowContent()</code> method of the factory class is called, and initializes the UI of the tool window. This procedure ensures that unused tool windows don't cause any overhead in startup time or memory usage: if a user does not interact with the tool window, no plugin code will be loaded or executed.</p><p id="a42d37d0_43" >If the tool window of a plugin doesn't need to be displayed for all projects:</p><div class="tabs" id="a42d37d0_44"><div class="tabs__content" data-gtm="tab" id="a42d37d0_45"   data-title="2021.1 and later" ><p id="a42d37d0_46" >Implement the <code class="code " id="a42d37d0_47"  >isApplicable(Project)</code> method.</p></div><div class="tabs__content" data-gtm="tab" id="a42d37d0_48"   data-title="2019.3 and earlier" ><p id="a42d37d0_49" >Specify the <code class="code " id="a42d37d0_50"  >conditionClass</code> attribute in <span class="filepath" id="a42d37d0_51" >plugin.xml</span> with a class implementing <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/util-rt/src/com/intellij/openapi/util/Condition.java" id="a42d37d0_52"   data-external="true" rel="noopener noreferrer" ><code class="code " id="a42d37d0_53"  >Condition&lt;Project&gt;</code></a> (can be the same class as the <code class="code " id="a42d37d0_54"  >ToolWindowFactory</code> implementation).</p></div></div><p id="a42d37d0_55" >Note, the condition is evaluated only once when the project is loaded. To show and hide a tool window dynamically while the user is working with the project, use <a href="#programmatic-setup" id="a42d37d0_56" data-tooltip="The second method involves simply calling ToolWindowManager.registerToolWindow() from the plugin code. The method has multiple overloads that can be used depending on the task. When using an overload that takes a component, the component becomes the first content (tab) displayed in…"  >programmatic setup</a> for tool window registration.</p></section><section class="chapter"  ><h2 id="programmatic-setup" data-toc="programmatic-setup"  >Programmatic Setup</h2><p id="a42d37d0_57" >The second method involves simply calling <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-api/src/com/intellij/openapi/wm/ToolWindowManager.kt" id="a42d37d0_58"   data-external="true" rel="noopener noreferrer" ><code class="code " id="a42d37d0_59"  >ToolWindowManager.registerToolWindow()</code></a> from the plugin code. The method has multiple overloads that can be used depending on the task. When using an overload that takes a component, the component becomes the first content (tab) displayed in the tool window.</p></section><section class="chapter"  ><h2 id="contents-tabs" data-toc="contents-tabs"  >Contents (Tabs)</h2><p id="a42d37d0_60" >Displaying the contents of many tool windows requires access to <a href="indexing-and-psi-stubs.html" id="a42d37d0_61" data-tooltip="The indexing framework provides a quick way to locate specific elements, e.g., files containing a certain word or methods with a particular name, in large codebases. Plugin developers can use the existing indexes built by the IDE itself and build and use their own indexes."  >indexes</a>. Because of that, tool windows are normally disabled while building indexes unless the <code class="code " id="a42d37d0_62"  >ToolWindowFactory</code> implements <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/core-api/src/com/intellij/openapi/project/DumbAware.java" id="a42d37d0_63"   data-external="true" rel="noopener noreferrer" ><code class="code " id="a42d37d0_64"  >DumbAware</code></a>. For programmatic setup, parameter <code class="code " id="a42d37d0_65"  >canWorkInDumbMode</code> must be set to <code class="code " id="a42d37d0_66"  >true</code> in calls to <code class="code " id="a42d37d0_67"  >registerToolWindow()</code>.</p><p id="a42d37d0_68" >As mentioned previously, tool windows can contain multiple contents (tabs). To manage the contents of a tool window, call <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/ide-core/src/com/intellij/openapi/wm/ToolWindow.java" id="a42d37d0_69"   data-external="true" rel="noopener noreferrer" ><code class="code " id="a42d37d0_70"  >ToolWindow.getContentManager()</code></a>. To add a content (tab), first create it by calling <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/ide-core/src/com/intellij/ui/content/ContentManager.java" id="a42d37d0_71"   data-external="true" rel="noopener noreferrer" ><code class="code " id="a42d37d0_72"  >ContentManager.getFactory().createContent()</code></a>, and then to add it to the tool window using <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/ide-core/src/com/intellij/ui/content/ContentManager.java" id="a42d37d0_73"   data-external="true" rel="noopener noreferrer" ><code class="code " id="a42d37d0_74"  >ContentManager.addContent()</code></a>. Use <code class="code " id="a42d37d0_75"  >Content.setDisposer()</code> to register associated <code class="code " id="a42d37d0_76"  >Disposable</code> (see <a href="disposers.html" id="a42d37d0_77" data-tooltip="The IntelliJ Platform's Disposer facilitates resource cleanup. If a subsystem keeps a set of resources alive coincident with a parent object's lifetime, the subsystem's resources should be registered with the Disposer to be released before or at the same time as the parent object."  >Disposer and Disposable</a>).</p><section class="chapter"  ><h3 id="closing-tabs" data-toc="closing-tabs"  >Closing Tabs</h3><p id="a42d37d0_78" >A plugin can control whether the user is allowed to close tabs either globally or on a per-content basis. The former is done by passing the <code class="code " id="a42d37d0_79"  >canCloseContents</code> parameter to the <code class="code " id="a42d37d0_80"  >registerToolWindow()</code> function, or by specifying <code class="code " id="a42d37d0_81"  >canCloseContents=&quot;true&quot;</code> in <span class="filepath" id="a42d37d0_82" >plugin.xml</span>. The default value is <code class="code " id="a42d37d0_83"  >false</code>; calling <code class="code " id="a42d37d0_84"  >setClosable(true)</code> on <code class="code " id="a42d37d0_85"  >ContentManager</code> content will be ignored unless <code class="code " id="a42d37d0_86"  >canCloseContents</code> is explicitly set. If closing tabs is enabled in general, a plugin can disable closing of specific tabs by calling <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/ide-core/src/com/intellij/ui/content/Content.java" id="a42d37d0_87"   data-external="true" rel="noopener noreferrer" ><code class="code " id="a42d37d0_88"  >Content.setCloseable(false)</code></a>.</p></section></section><section class="chapter"  ><h2 id="sample-plugin" data-toc="sample-plugin"  >Sample Plugin</h2><p id="a42d37d0_89" >To clarify how to develop plugins that create tool windows, consider the <span class="control" id="a42d37d0_90" >toolWindow</span> sample plugin available in the <a href="https://github.com/JetBrains/intellij-sdk-code-samples/tree/main/tool_window" id="a42d37d0_91"   data-external="true" rel="noopener noreferrer" >code samples</a>.</p><p id="a42d37d0_92" >See <a href="code-samples.html" id="a42d37d0_93" data-tooltip="This guide comes with a number of sample plugins available from dedicated intellij-sdk-code-samples GitHub repository."  >Code Samples</a> on how to set up and run the plugin.</p><p id="a42d37d0_94" >This plugin creates the <span class="control" id="a42d37d0_95" >Sample Calendar</span> tool window that displays the system date, time and time zone. When opened, this tool window is similar to the following screen:</p><figure  id="a42d37d0_96"><img alt="Sample Calendar" title="Sample Calendar" src="images/sample_calendar.png"  class="" width="523" height="368"/></figure></section><div class="last-modified"> Last modified: 28 九月 2022</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="user-interface-components.html">User Interface Components</a>   <a class="navigation-links__next" href="dialog-wrapper.html">Dialogs</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/storage/help-app/v5/app.js"></script></body></html>