<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2022-09-29T19:15:56.7862425"><meta name="build-number" content="${buildNumber}">    <meta name="keywords" content="">  <title>JCEF - Java Chromium Embedded Framework | IntelliJ Platform Plugin SDK</title><script id="virtual-toc-data" type="application/json">[{"id":"enabling-jcef","level":0,"title":"Enabling JCEF","anchor":"#enabling-jcef"},{"id":"debugging","level":0,"title":"Debugging","anchor":"#debugging"},{"id":"api","level":0,"title":"API","anchor":"#api"}]</script>   <link href="https://resources.jetbrains.com/storage/help-app/v5/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="JCEF - Java Chromium Embedded Framework | IntelliJ Platform Plugin SDK"/><meta property="og:description" content=""/><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"/><meta property="og:site_name" content="IntelliJ Platform Plugin SDK Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="https://plugins.jetbrains.com/docs/intellij/jcef.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@JBPlatform"><meta name="twitter:title" content="JCEF - Java Chromium Embedded Framework | IntelliJ Platform Plugin SDK"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@JBPlatform"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://plugins.jetbrains.com/docs/intellij/jcef.html#webpage", "url": "https://plugins.jetbrains.com/docs/intellij/jcef.html", "name": "JCEF - Java Chromium Embedded Framework | IntelliJ Platform Plugin SDK", "description": "", "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://plugins.jetbrains.com/docs/intellij/#website", "url": "https://plugins.jetbrains.com/docs/intellij/", "name": "IntelliJ Platform Plugin SDK Help" }</script><!-- End Schema.org --></head>    <body data-id="jcef.md" data-main-title="JCEF - Java Chromium Embedded Framework" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Part II — Base Platform"  data-edit-url="https://github.com/JetBrains/intellij-sdk-docs/edit/main/topics/reference_guide/jcef.md"  >  <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ Platform Plugin SDK  Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">      </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="jcef.md" id="jcef.md"  >JCEF - Java Chromium Embedded Framework</h1><aside data-type="tip" class="prompt" data-title="" id="c8b98d7_83" ><p id="c8b98d7_84" >JCEF is available since 2020.1 as an <span class="control" id="c8b98d7_85" >experimental feature</span>. We plan to deprecate using JavaFX in 3rd party plugins and switch to JCEF in 2020.2. To continue using JavaFX in 2020.2 or later, an explicit dependency on <a href="https://plugins.jetbrains.com/plugin/14250-javafx-runtime-for-plugins" id="c8b98d7_86"   data-external="true" rel="noopener noreferrer" >JavaFX Runtime for Plugins</a> must be added. Please see also blog post <a href="https://blog.jetbrains.com/platform/2020/07/javafx-and-jcef-in-the-intellij-platform/" id="c8b98d7_87"   data-external="true" rel="noopener noreferrer" >JavaFX and JCEF in the IntelliJ Platform</a> for summary of plans.</p></aside><p id="c8b98d7_88" >JCEF is a Java port of <a href="https://bitbucket.org/chromiumembedded/cef/wiki/Home" id="c8b98d7_89"   data-external="true" rel="noopener noreferrer" >CEF</a> framework for embedding <a href="https://www.chromium.org/Home" id="c8b98d7_90"   data-external="true" rel="noopener noreferrer" >Chromium-based browsers</a> in applications using Swing.</p><p id="c8b98d7_91" >Embedding of the browser component inside the IDE allows amongst others:</p><ul class="list _ul" id="c8b98d7_92"    ><li class="list__item" id="c8b98d7_93" ><p>rendering HTML content</p></li><li class="list__item" id="c8b98d7_94" ><p>previewing generated HTML (e.g., from Markdown)</p></li></ul><section class="chapter"  ><h2 id="enabling-jcef" data-toc="enabling-jcef"  >Enabling JCEF</h2><div class="tabs" id="c8b98d7_95"><div class="tabs__content" data-gtm="tab" id="c8b98d7_96"   data-title="2020.2 and later" ><aside data-type="tip" class="prompt" data-title="" id="c8b98d7_97" ><p id="c8b98d7_98" >JCEF is available and enabled by default since 2020.2</p></aside></div><div class="tabs__content" data-gtm="tab" id="c8b98d7_99"   data-title="Earlier versions" ><p id="c8b98d7_100" >Using JCEF requires using a dedicated JetBrains Runtime, please follow these <a href="https://youtrack.jetbrains.com/issue/IDEA-231833#focus=streamItem-27-3993099.0-0" id="c8b98d7_101"   data-external="true" rel="noopener noreferrer" >installation instructions</a> on how to obtain and activate it in your IDE. Enable <code class="code " id="c8b98d7_102"  >ide.browser.jcef.enabled</code> in <span class="control" id="c8b98d7_103" >Registry</span> dialog (invoke  and type &quot;Registry&quot;) and restart the IDE for changes to take effect.</p></div></div></section><section class="chapter"  ><h2 id="debugging" data-toc="debugging"  >Debugging</h2><p id="c8b98d7_105" >The <a href="https://developers.google.com/web/tools/chrome-devtools/" id="c8b98d7_106"   data-external="true" rel="noopener noreferrer" >Chrome DevTools</a>, embedded into JCEF, can be used as a debugging and profiling tool. It's active by default, so that a Chrome DevTools client can attach to it via the default port number - <code class="code " id="c8b98d7_107"  >9222</code>. The port number can be configured with the following registry key:</p><div class="code-block" data-lang="none"         >
ide.browser.jcef.debug.port=9222
</div><p id="c8b98d7_109" >JavaScript debugger in IntelliJ IDEA Ultimate can thus be used to debug JavaScript code running in the IDE via the Chrome DevTools. Use the <span class="control" id="c8b98d7_110" >Attach to Node.js/Chrome</span> configurations with a proper port number.</p><p id="c8b98d7_111" >Also, JCEF provides a default Chrome DevTools front-end (similar to the one in the Chrome browser) that can be opened from the JCEF's browser component context menu via . The menu item is available in <a href="enabling-internal.html" id="c8b98d7_113" data-tooltip="某些工具例如内部操作菜单, 只有在IntelliJ IDEA的内部模式启用时才能看到."  >internal mode</a> only, starting with 2021.3 platform registry key <code class="code " id="c8b98d7_114"  >ide.browser.jcef.contextMenu.devTools.enabled</code> must be set to <code class="code " id="c8b98d7_115"  >true</code> explicitly.</p><p id="c8b98d7_116" >To access the Chrome DevTools in plugin code, use the following API:</p><div class="code-block" data-lang="java"         >
JBCefBrowser myBrowser = new JBCefBrowser(myUrl);
CefBrowser myDevTools = myBrowser.getCefBrowser().getDevTools();
JBCefBrowser myDevToolsBrowser = new JBCefBrowser(myDevTools,
        myBrowser.getJBCefClient());
</div><p id="c8b98d7_118" >Or in order to just open it in a separate window:</p><div class="code-block" data-lang="java"         >
JBCefBrowser myBrowser = new JBCefBrowser(myUrl);
myBrowser.openDevTools();
</div></section><section class="chapter"  ><h2 id="api" data-toc="api"  >API</h2><section class="chapter"  ><h3 id="jbcefapp" data-toc="jbcefapp"  >JBCefApp</h3><p id="c8b98d7_120" ><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-api/src/com/intellij/ui/jcef/JBCefApp.java" id="c8b98d7_121"   data-external="true" rel="noopener noreferrer" ><code class="code " id="c8b98d7_122"  >JBCefApp</code></a></p><p id="c8b98d7_123" >Performs JCEF auto-initialization, manages its lifecycle, and provides <code class="code " id="c8b98d7_124"  >JBCefClient</code> instances.</p><p id="c8b98d7_125" >Before using JCEF, <code class="code " id="c8b98d7_126"  >JBCefApp.isSupported()</code> check must be called:</p><div class="code-block" data-lang="java"         >
if (!JBCefApp.isSupported()) {
  // Fallback to an alternative browser-less solution
  return;
}

// Use JCEF
</div><p id="c8b98d7_128" >JCEF can be unsupported when:</p><ul class="list _ul" id="c8b98d7_129"    ><li class="list__item" id="c8b98d7_130" ><p>It's not available in the IDE runtime (the IDE is started with an alternative OpenJDK).</p></li><li class="list__item" id="c8b98d7_131" ><p>Its version is not compatible with the running IDE.</p></li></ul><p id="c8b98d7_132" >To avoid the above problems, the IDE should be run with the bundled JetBrains Runtime (JBR) (see also <a href="ide-development-instance.html" id="c8b98d7_133" data-tooltip="A JetBrains feature for developing plugins is running or debugging a plugin project from within an IntelliJ Platform-based IDE such as IntelliJ IDEA. Selecting the runIde task for a Gradle-based project (or Run menu for a DevKit-based project) will launch a Development Instance of…"  >IDE Development Instance</a>).</p></section><section class="chapter"  ><h3 id="jbcefclient" data-toc="jbcefclient"  >JBCefClient</h3><p id="c8b98d7_134" ><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-api/src/com/intellij/ui/jcef/JBCefClient.java" id="c8b98d7_135"   data-external="true" rel="noopener noreferrer" ><code class="code " id="c8b98d7_136"  >JBCefClient</code></a></p><p id="c8b98d7_137" >Is tied to every browser component explicitly or implicitly. Used for adding handlers to the associated browser. The same instance can be shared among multiple browsers. It is up to the developer to use a shared or per-browser instance, depending on the handlers' logic. If a client was created explicitly, it should be <a href="disposers.html" id="c8b98d7_138" data-tooltip="The IntelliJ Platform's Disposer facilitates resource cleanup. If a subsystem keeps a set of resources alive coincident with a parent object's lifetime, the subsystem's resources should be registered with the Disposer to be released before or at the same time as the parent object."  >disposed</a> by the developer; otherwise, it is disposed automatically following the associated browser instance disposal.</p></section><section class="chapter"  ><h3 id="jbcefbrowser" data-toc="jbcefbrowser"  >JBCefBrowser</h3><p id="c8b98d7_139" ><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-api/src/com/intellij/ui/jcef/JBCefBrowser.java" id="c8b98d7_140"   data-external="true" rel="noopener noreferrer" ><code class="code " id="c8b98d7_141"  >JBCefBrowser</code></a></p><p id="c8b98d7_142" >Provides the browser UI component:</p><div class="code-block" data-lang="java"         >
JComponent getComponent();
</div><p id="c8b98d7_144" >Provides the load methods (callable from non-EDT thread as well):</p><div class="code-block" data-lang="java"         >
void loadURL(String);
void loadHTML(String);
</div><p id="c8b98d7_146" >For executing JS code and callbacks (see below), use the wrapped <code class="code " id="c8b98d7_147"  >CefBrowser</code> instance directly:</p><div class="code-block" data-lang="java"         >
getCefBrowser().executeJavaScript(String code, String url, int line);
</div><p id="c8b98d7_149" >By default, <code class="code " id="c8b98d7_150"  >JBCefBrowser</code> is created with implicit <code class="code " id="c8b98d7_151"  >JBCefClient</code> (disposed automatically). It is possible to pass your own <code class="code " id="c8b98d7_152"  >JBCefClient</code> (disposed by the developer).</p><p id="c8b98d7_153" >For accessing:</p><div class="code-block" data-lang="java"         >
JBCefClient getJBCefClient();
</div><p id="c8b98d7_155" >The simplest way to add a browser component to your UI:</p><div class="code-block" data-lang="java"         >
JPanel myPanel = ...;
myPanel.add(new JBCefBrowser(&quot;https://www.jetbrains.com&quot;).getComponent());
</div></section><section class="chapter"  ><h3 id="jbcefjsquery" data-toc="jbcefjsquery"  >JBCefJSQuery</h3><p id="c8b98d7_157" ><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-api/src/com/intellij/ui/jcef/JBCefJSQuery.java" id="c8b98d7_158"   data-external="true" rel="noopener noreferrer" ><code class="code " id="c8b98d7_159"  >JBCefJSQuery</code></a></p><p id="c8b98d7_160" >Provides JS query callback mechanism.</p><p id="c8b98d7_161" >There's no direct access to JS DOM from Java (like in JavaFX WebView, see also <a href="https://youtrack.jetbrains.com/issue/JBR-2046" id="c8b98d7_162"   data-external="true" rel="noopener noreferrer" >this issue</a>). Still, JCEF provides an asynchronous way to communicate to JS.</p><p id="c8b98d7_163" >It's simpler to illustrate it by an example. Say we want to open a link in an external browser and handle it:</p><div class="code-block" data-lang="java"         >

JBCefBrowser myJBCefBrowser = ...
CefBrowser myCefBrowser = ...

// Create a JS query instance
JBCefJSQuery myJSQueryOpenInBrowser = JBCefJSQuery.create(myJBCefBrowser);

// Add a query handler
myJSQueryOpenInBrowser.addHandler((link) -&gt; {
      // handle link here
      return null; // can respond back to JS with JBCefJSQuery.Response
    });

// Inject the query callback into JS
myCefBrowser.executeJavaScript(
    &quot;window.JavaPanelBridge = {&quot; +
        &quot;openInExternalBrowser : function(link) {&quot; +
            myJSQueryOpenInBrowser.inject(&quot;link&quot;) +
        &quot;}&quot; +
    &quot;};&quot;,
    myCefBrowser.getURL(), 0);

// Dispose the query when necessary
Disposer.dispose(myJSQueryOpenInBrowser);
</div></section></section><div class="last-modified"> Last modified: 29 九月 2022</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="color-scheme-management.html">Color Scheme Management</a>   <a class="navigation-links__next" href="themes-intro.html">Custom UI Themes</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/storage/help-app/v5/app.js"></script></body></html>