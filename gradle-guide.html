<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2022-09-29T19:15:56.6922203"><meta name="build-number" content="${buildNumber}">    <meta name="keywords" content="">  <title>Configuring Gradle Projects | IntelliJ Platform Plugin SDK</title><script id="virtual-toc-data" type="application/json">[{"id":"overview-of-the-gradle-intellij-plugin","level":0,"title":"Overview of the Gradle IntelliJ Plugin","anchor":"#overview-of-the-gradle-intellij-plugin"},{"id":"guide-to-configuring-gradle-intellij-plugin-functionality","level":0,"title":"Guide to Configuring Gradle IntelliJ Plugin Functionality","anchor":"#guide-to-configuring-gradle-intellij-plugin-functionality"},{"id":"common-gradle-plugin-configurations-for-development","level":0,"title":"Common Gradle Plugin Configurations for Development","anchor":"#common-gradle-plugin-configurations-for-development"}]</script>   <link href="https://resources.jetbrains.com/storage/help-app/v5/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Configuring Gradle Projects | IntelliJ Platform Plugin SDK"/><meta property="og:description" content=""/><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"/><meta property="og:site_name" content="IntelliJ Platform Plugin SDK Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="https://plugins.jetbrains.com/docs/intellij/gradle-guide.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@JBPlatform"><meta name="twitter:title" content="Configuring Gradle Projects | IntelliJ Platform Plugin SDK"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@JBPlatform"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://plugins.jetbrains.com/docs/intellij/gradle-guide.html#webpage", "url": "https://plugins.jetbrains.com/docs/intellij/gradle-guide.html", "name": "Configuring Gradle Projects | IntelliJ Platform Plugin SDK", "description": "", "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://plugins.jetbrains.com/docs/intellij/#website", "url": "https://plugins.jetbrains.com/docs/intellij/", "name": "IntelliJ Platform Plugin SDK Help" }</script><!-- End Schema.org --></head>    <body data-id="gradle_guide.md" data-main-title="Configuring Gradle Projects" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Part I — 插件///getting_started.md|创建插件///gradle_build_system.md|Using Gradle"  data-edit-url="https://github.com/JetBrains/intellij-sdk-docs/edit/main/topics/tutorials/build_system/gradle_guide.md"  >  <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ Platform Plugin SDK  Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">      </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="gradle_guide.md" id="gradle_guide.md"  >Configuring Gradle Projects</h1><p id="8ac13147_200" >This page serves as a guide to Gradle-based plugin configuration for IntelliJ Platform projects. The IntelliJ IDEA Ultimate and Community editions bundle the <span class="emphasis" id="8ac13147_201" >Gradle</span> and <span class="emphasis" id="8ac13147_202" >Plugin DevKit</span> plugins to support Gradle-based development.</p><p id="8ac13147_203" >The <a href="gradle-prerequisites.html" id="8ac13147_204" data-tooltip="Gradle is the preferred solution for creating IntelliJ Platform plugins. The IntelliJ IDEA Ultimate and Community editions bundle the necessary plugins to support Gradle-based development. These IntelliJ IDEA plugins are Gradle and Plugin DevKit, which are enabled by default. To…"  >Getting Started with Gradle</a> page provides a tutorial for creating Gradle-based IntelliJ Platform plugins. It may be useful to review the IntelliJ Platform page, particularly the description of versioning in the <a href="intellij-platform.html" id="8ac13147_205" data-tooltip="介绍 IntelliJ Platform, 插件, 以及基于它的开发工具."  >IntelliJ 平台</a> section.</p><aside data-type="tip" class="prompt" data-title="" id="8ac13147_206" ><p id="8ac13147_207" >When adding additional repositories to your Gradle build script, always use HTTPS protocol.</p></aside><section class="chapter"  ><h2 id="overview-of-the-gradle-intellij-plugin" data-toc="overview-of-the-gradle-intellij-plugin"  >Overview of the Gradle IntelliJ Plugin</h2><p id="8ac13147_208" >The Gradle plugin is built from the open-source project <a href="tools-gradle-intellij-plugin.html" id="8ac13147_209" data-tooltip="The Gradle IntelliJ Plugin is a plugin for the Gradle build system to help configuring your environment for building, testing, verifying, and publishing plugins for IntelliJ-based IDEs."  >Gradle IntelliJ Plugin</a>. This plugin adds Gradle tasks that enable developing IntelliJ Platform plugins.</p></section><section class="chapter"  ><h2 id="guide-to-configuring-gradle-intellij-plugin-functionality" data-toc="guide-to-configuring-gradle-intellij-plugin-functionality"  >Guide to Configuring Gradle IntelliJ Plugin Functionality</h2><p id="8ac13147_210" >This section presents a guided tour of Gradle plugin attributes to achieve the commonly desired functionality.</p><section class="chapter"  ><h3 id="configuring-the-gradle-intellij-plugin-for-building-intellij-platform-plugin-projects" data-toc="configuring-the-gradle-intellij-plugin-for-building-intellij-platform-plugin-projects"  >Configuring the Gradle IntelliJ Plugin for Building IntelliJ Platform Plugin Projects</h3><p id="8ac13147_211" >By default, the Gradle plugin will build a plugin project against the IntelliJ Platform defined by the latest EAP snapshot of the IntelliJ IDEA Community Edition.</p><aside data-type="tip" class="prompt" data-title="" id="8ac13147_212" ><p id="8ac13147_213" >Using EAP versions of the IntelliJ Platform requires adding the <span class="emphasis" id="8ac13147_214" >Snapshots repository</span> to the Gradle build script (see <a href="intellij-artifacts.html" id="8ac13147_215" data-tooltip="When using additional repositories, make sure to use HTTPS always."  >IntelliJ Platform Artifacts Repositories</a>).</p></aside><p id="8ac13147_216" >If a matching version of the specified IntelliJ Platform is not available on the local machine, the Gradle plugin downloads the correct version and type. IntelliJ IDEA then indexes the build and any associated source code and JetBrains Java Runtime.</p><section class="chapter"  ><h4 id="intellij-platform-configuration" data-toc="intellij-platform-configuration"  >IntelliJ Platform Configuration</h4><p id="8ac13147_217" >Explicitly setting the <a href="tools-gradle-intellij-plugin.html#intellij-extension-version" id="8ac13147_218" data-tooltip="All available JetBrains IDEs versions can be found at IntelliJ Artifacts page."  ><code class="code " id="8ac13147_219"  >intellij.version</code></a> and <a href="tools-gradle-intellij-plugin.html#intellij-extension-type" id="8ac13147_220" data-tooltip="The type of the IntelliJ-based IDE distribution. The type may also be specified as a prefix of the value for the intellij.version property instead."  ><code class="code " id="8ac13147_221"  >intellij.type</code></a> properties tells the Gradle plugin to use that configuration of the IntelliJ Platform to create the plugin project.</p><p id="8ac13147_222" >All available platform versions can be browsed in the <a href="intellij-artifacts.html" id="8ac13147_223" data-tooltip="When using additional repositories, make sure to use HTTPS always."  >IntelliJ Platform Artifacts Repositories</a>.</p><p id="8ac13147_224" >If the chosen platform version is not available in the repositories, or a local installation of the target IDE is the desired type and version of the IntelliJ Platform, use <a href="tools-gradle-intellij-plugin.html#intellij-extension-localpath" id="8ac13147_225" data-tooltip="The path to the locally installed IDE distribution that should be used to build the plugin. Using the intellij.localPath allows to build the plugin using an IDE that is not available in ."  ><code class="code " id="8ac13147_226"  >intellij.localPath</code></a> to point to that installation. If the <a href="tools-gradle-intellij-plugin.html#intellij-extension-localpath" id="8ac13147_227" data-tooltip="The path to the locally installed IDE distribution that should be used to build the plugin. Using the intellij.localPath allows to build the plugin using an IDE that is not available in ."  ><code class="code " id="8ac13147_228"  >intellij.localPath</code></a> attribute is set, do not set the <a href="tools-gradle-intellij-plugin.html#intellij-extension-version" id="8ac13147_229" data-tooltip="All available JetBrains IDEs versions can be found at IntelliJ Artifacts page."  ><code class="code " id="8ac13147_230"  >intellij.version</code></a> and <a href="tools-gradle-intellij-plugin.html#intellij-extension-type" id="8ac13147_231" data-tooltip="The type of the IntelliJ-based IDE distribution. The type may also be specified as a prefix of the value for the intellij.version property instead."  ><code class="code " id="8ac13147_232"  >intellij.type</code></a> attributes as this could result in undefined behavior.</p></section><section class="chapter"  ><h4 id="plugin-dependencies" data-toc="plugin-dependencies"  >Plugin Dependencies</h4><p id="8ac13147_233" >IntelliJ Platform plugin projects may depend on either bundled or third-party plugins. In that case, a project should build against a version of those plugins that match the IntelliJ Platform version used to build the plugin project. The Gradle plugin will fetch any plugins in the list defined by <a href="tools-gradle-intellij-plugin.html#intellij-extension-plugins" id="8ac13147_234" data-tooltip="The list of bundled IDE plugins and plugins from JetBrains Marketplace or configured intellij.pluginsRepositories."  ><code class="code " id="8ac13147_235"  >intellij.plugins</code></a>. See the Gradle plugin <a href="tools-gradle-intellij-plugin.html#configuration-intellij-extension" id="8ac13147_236" data-tooltip="After the Gradle IntelliJ Plugin is applied, the intellij extension can be used to configure the plugin and common settings of the provided tasks."  >IntelliJ Extension</a> for information about specifying the plugin and version.</p><p id="8ac13147_237" >Note that this attribute describes a dependency so that the Gradle plugin can fetch the required artifacts. The runtime dependency must be added in the <a href="plugin-configuration-file.html" id="8ac13147_238" data-tooltip="Plugin configuration file contains all the information about the plugin, as well as all registered extensions, actions, listeners, etc."  >Plugin Configuration</a> (<span class="filepath" id="8ac13147_239" >plugin.xml</span>) file as described in <a href="plugin-dependencies.html#3-dependency-declaration-in-pluginxml" id="8ac13147_240" data-tooltip="Regardless of whether a plugin project uses , or , the correct module must be listed as a dependency in plugin.xml. If a project depends on another plugin, the dependency must be declared like a module. If only general IntelliJ Platform features (APIs) are used, then a default…"  >Plugin Dependencies</a>.</p></section></section><section class="chapter"  ><h3 id="configuring-the-gradle-plugin-for-running-intellij-platform-plugin-projects" data-toc="configuring-the-gradle-plugin-for-running-intellij-platform-plugin-projects"  >Configuring the Gradle Plugin for Running IntelliJ Platform Plugin Projects</h3><p id="8ac13147_241" >By default, the Gradle plugin will use the same version of the IntelliJ Platform for the IDE Development Instance as was used for building the plugin. Using the corresponding JetBrains Runtime is also the default, so for this use-case no further configuration is required.</p><section class="chapter"  ><h4 id="running-against-alternate-versions-and-types-of-intellij-platform-based-ides" data-toc="running-against-alternate-versions-and-types-of-intellij-platform-based-ides"  >Running Against Alternate Versions and Types of IntelliJ Platform-Based IDEs</h4><p id="8ac13147_242" >The IntelliJ Platform IDE used for the Development Instance can be different from that used to build the plugin project. Setting the <a href="tools-gradle-intellij-plugin.html#runide-task-idedir" id="8ac13147_243" data-tooltip="The IDE dependency sources path. Configured automatically with the setupDependencies.idea dependency."  ><code class="code " id="8ac13147_244"  >runIde.ideDir</code></a> property will define an IDE to be used for the Development Instance. This attribute is commonly used when running or debugging a plugin in an <a href="intellij-platform.html" id="8ac13147_245" data-tooltip="介绍 IntelliJ Platform, 插件, 以及基于它的开发工具."  >alternate IntelliJ Platform-based IDE</a>.</p></section><section class="chapter"  ><h4 id="running-against-alternate-versions-of-the-jetbrains-runtime" data-toc="running-against-alternate-versions-of-the-jetbrains-runtime"  >Running Against Alternate Versions of the JetBrains Runtime</h4><p id="8ac13147_246" >Every version of the IntelliJ Platform has a corresponding version of the <a href="ide-development-instance.html#using-a-jetbrains-runtime-for-the-development-instance" id="8ac13147_247" data-tooltip="An everyday use case is to develop (build) a plugin project against a JDK, e.g., Java 8, and then run or debug the plugin in a Development Instance of the IDE. In such a situation, Development Instance must use a JetBrains Runtime (JBR) rather than the JDK used to build the plugin…"  >JetBrains Runtime</a>. A different version of the runtime can be used by specifying the <a href="tools-gradle-intellij-plugin.html#runide-task-jbrversion" id="8ac13147_248" data-tooltip="Custom JetBrains Runtime (JBR) version to use for running the IDE."  ><code class="code " id="8ac13147_249"  >runIde.jbrVersion</code></a> attribute, describing a version of the JetBrains Runtime that should be used by the IDE Development Instance. The Gradle plugin will fetch the specified JetBrains Runtime as needed.</p></section></section><section class="chapter"  ><h3 id="managing-directories-used-by-the-gradle-plugin" data-toc="managing-directories-used-by-the-gradle-plugin"  >Managing Directories Used by the Gradle Plugin</h3><p id="8ac13147_250" >There are several attributes to control where the Gradle plugin places directories for downloads and use by the IDE Development Instance.</p><p id="8ac13147_251" >The location of the <a href="ide-development-instance.html#the-development-instance-sandbox-directory" id="8ac13147_252" data-tooltip="The Sandbox Home directory contains the settings, caches, logs, and plugins for a Development Instance of the IDE. This information is stored in a different location than for the installed IDE itself."  >sandbox home</a> directory and its subdirectories can be controlled with Gradle plugin attributes. The <a href="tools-gradle-intellij-plugin.html#intellij-extension-sandboxdir" id="8ac13147_253" data-tooltip="The path of sandbox directory that is used for running IDE with developed plugin."  ><code class="code " id="8ac13147_254"  >intellij.sandboxDirectory</code></a> attribute is used to set the path for the sandbox directory to be used while running the plugin in an IDE Development Instance. Locations of the sandbox <a href="ide-development-instance.html#development-instance-settings-caches-logs-and-plugins" id="8ac13147_255" data-tooltip="Within the Sandbox Home directory are subdirectories of the Development Instance:"  >subdirectories</a> can be controlled using the <a href="tools-gradle-intellij-plugin.html#tasks-runide" id="8ac13147_256" data-tooltip="Runs the IDE instance with the developed plugin installed."  ><code class="code " id="8ac13147_257"  >runIde.configDirectory</code></a>, <a href="tools-gradle-intellij-plugin.html#tasks-runide" id="8ac13147_258" data-tooltip="Runs the IDE instance with the developed plugin installed."  ><code class="code " id="8ac13147_259"  >runIde.pluginsDirectory</code></a>, and <a href="tools-gradle-intellij-plugin.html#tasks-runide" id="8ac13147_260" data-tooltip="Runs the IDE instance with the developed plugin installed."  ><code class="code " id="8ac13147_261"  >runIde.systemDirectory</code></a> attributes. If the <a href="tools-gradle-intellij-plugin.html#intellij-extension-sandboxdir" id="8ac13147_262" data-tooltip="The path of sandbox directory that is used for running IDE with developed plugin."  ><code class="code " id="8ac13147_263"  >intellij.sandboxDirectory</code></a> path is explicitly set, the subdirectory attributes default to the new sandbox directory.</p><p id="8ac13147_264" >The storage location of downloaded IDE versions and components defaults to the Gradle cache directory. However, it can be controlled by setting the <a href="tools-gradle-intellij-plugin.html#intellij-extension-ideadependencycachepath" id="8ac13147_265" data-tooltip="Path to the directory where IDE dependency cache is stored. If not set, the dependency will be extracted next to the downloaded ZIP archive in Gradle cache directory."  ><code class="code " id="8ac13147_266"  >intellij.ideaDependencyCachePath</code></a> attribute.</p></section><section class="chapter"  ><h3 id="controlling-downloads-by-the-gradle-plugin" data-toc="controlling-downloads-by-the-gradle-plugin"  >Controlling Downloads by the Gradle Plugin</h3><p id="8ac13147_267" >As mentioned in the section about <a href="#configuring-the-gradle-intellij-plugin-for-building-intellij-platform-plugin-projects" id="8ac13147_268" data-tooltip="By default, the Gradle plugin will build a plugin project against the IntelliJ Platform defined by the latest EAP snapshot of the IntelliJ IDEA Community Edition."  >configuring the IntelliJ Platform</a> used for building plugin projects, the Gradle plugin will fetch the version of the IntelliJ Platform specified by the default or by the <code class="code " id="8ac13147_269"  >intellij</code> attributes. Standardizing the versions of the Gradle plugin and Gradle system across projects will minimize the time spent downloading versions.</p><p id="8ac13147_270" >There are controls for managing the <a href="tools-gradle-intellij-plugin.html" id="8ac13147_271" data-tooltip="The Gradle IntelliJ Plugin is a plugin for the Gradle build system to help configuring your environment for building, testing, verifying, and publishing plugins for IntelliJ-based IDEs."  >Gradle IntelliJ Plugin</a> version, and the version of Gradle itself. The plugin version is defined in the <code class="code " id="8ac13147_272"  >plugins {...}</code> section of a project's Gradle build script. The version of Gradle is defined in <span class="filepath" id="8ac13147_273" >$PROJECT_ROOT$/gradle/wrapper/gradle-wrapper.properties</span>.</p></section><section class="chapter"  ><h3 id="patching-the-plugin-configuration-file" data-toc="patching-the-plugin-configuration-file"  >Patching the Plugin Configuration File</h3><p id="8ac13147_274" >A plugin project's <span class="filepath" id="8ac13147_275" >plugin.xml</span> file has element values that are &quot;patched&quot; at build time from the attributes of the <a href="tools-gradle-intellij-plugin.html#tasks-patchpluginxml" id="8ac13147_276" data-tooltip="Patches plugin.xml files with values provided to the task."  ><code class="code " id="8ac13147_277"  >patchPluginXml</code></a> task. As many as possible of the attributes in the Patching DSL will be substituted into the corresponding element values in a plugin project's <span class="filepath" id="8ac13147_278" >plugin.xml</span> file:</p><ul class="list _ul" id="8ac13147_279"    ><li class="list__item" id="8ac13147_280" ><p>If a <a href="tools-gradle-intellij-plugin.html#tasks-patchpluginxml" id="8ac13147_281" data-tooltip="Patches plugin.xml files with values provided to the task."  ><code class="code " id="8ac13147_282"  >patchPluginXml</code></a> attribute default value is defined, the attribute value will be patched in <span class="filepath" id="8ac13147_283" >plugin.xml</span> <span class="emphasis" id="8ac13147_284" >regardless of whether the <a href="tools-gradle-intellij-plugin.html#tasks-patchpluginxml" id="8ac13147_285" data-tooltip="Patches plugin.xml files with values provided to the task."  ><code class="code " id="8ac13147_286"  >patchPluginXml</code></a> task appears in the Gradle build script</span>. </p><ul class="list _ul" id="8ac13147_287"    ><li class="list__item" id="8ac13147_288" ><p>For example, the default values for the attributes <a href="tools-gradle-intellij-plugin.html#patchpluginxml-task-sincebuild" id="8ac13147_289" data-tooltip="The lower bound of the version range to be patched used in the since-build attribute of the <idea-version> tag."  ><code class="code " id="8ac13147_290"  >patchPluginXml.sinceBuild</code></a> and <a href="tools-gradle-intellij-plugin.html#patchpluginxml-task-untilbuild" id="8ac13147_291" data-tooltip="The upper bound of the version range to be patched used in the until-build attribute of the <idea-version> tag."  ><code class="code " id="8ac13147_292"  >patchPluginXml.untilBuild</code></a> are defined based on the declared (or default) value of <a href="tools-gradle-intellij-plugin.html#intellij-extension-version" id="8ac13147_293" data-tooltip="All available JetBrains IDEs versions can be found at IntelliJ Artifacts page."  ><code class="code " id="8ac13147_294"  >intellij.version</code></a>. So by default <a href="tools-gradle-intellij-plugin.html#patchpluginxml-task-sincebuild" id="8ac13147_295" data-tooltip="The lower bound of the version range to be patched used in the since-build attribute of the <idea-version> tag."  ><code class="code " id="8ac13147_296"  >patchPluginXml.sinceBuild</code></a> and <a href="tools-gradle-intellij-plugin.html#patchpluginxml-task-untilbuild" id="8ac13147_297" data-tooltip="The upper bound of the version range to be patched used in the until-build attribute of the <idea-version> tag."  ><code class="code " id="8ac13147_298"  >patchPluginXml.untilBuild</code></a> are substituted into the <a href="plugin-configuration-file.html#idea-plugin__idea-version" id="8ac13147_299" data-tooltip="The plugin's range of compatible IntelliJ-based IDE versions."  ><code class="code " id="8ac13147_300"  >&lt;idea-version&gt;</code></a> element's <code class="code " id="8ac13147_301"  >since-build</code> and <code class="code " id="8ac13147_302"  >until-build</code> attributes in the <span class="filepath" id="8ac13147_303" >plugin.xml</span> file.</p></li></ul></li><li class="list__item" id="8ac13147_304" ><p>If a <a href="tools-gradle-intellij-plugin.html#tasks-patchpluginxml" id="8ac13147_305" data-tooltip="Patches plugin.xml files with values provided to the task."  ><code class="code " id="8ac13147_306"  >patchPluginXml</code></a> attribute value is explicitly defined, the attribute value will be substituted in <span class="filepath" id="8ac13147_307" >plugin.xml</span>. </p><ul class="list _ul" id="8ac13147_308"    ><li class="list__item" id="8ac13147_309" ><p>If both <a href="tools-gradle-intellij-plugin.html#patchpluginxml-task-sincebuild" id="8ac13147_310" data-tooltip="The lower bound of the version range to be patched used in the since-build attribute of the <idea-version> tag."  ><code class="code " id="8ac13147_311"  >patchPluginXml.sinceBuild</code></a> and <a href="tools-gradle-intellij-plugin.html#patchpluginxml-task-untilbuild" id="8ac13147_312" data-tooltip="The upper bound of the version range to be patched used in the until-build attribute of the <idea-version> tag."  ><code class="code " id="8ac13147_313"  >patchPluginXml.untilBuild</code></a> attributes are explicitly set, both are substituted in <span class="filepath" id="8ac13147_314" >plugin.xml</span>.</p></li><li class="list__item" id="8ac13147_315" ><p>If one attribute is explicitly set (e.g. <a href="tools-gradle-intellij-plugin.html#patchpluginxml-task-sincebuild" id="8ac13147_316" data-tooltip="The lower bound of the version range to be patched used in the since-build attribute of the <idea-version> tag."  ><code class="code " id="8ac13147_317"  >patchPluginXml.sinceBuild</code></a>) and one is not (e.g. <a href="tools-gradle-intellij-plugin.html#patchpluginxml-task-untilbuild" id="8ac13147_318" data-tooltip="The upper bound of the version range to be patched used in the until-build attribute of the <idea-version> tag."  ><code class="code " id="8ac13147_319"  >patchPluginXml.untilBuild</code></a> has a default value,) both attributes are patched at their respective (explicit and default) values.</p></li></ul></li><li class="list__item" id="8ac13147_320" ><p>For <span class="control" id="8ac13147_321" >no substitution</span> of the <code class="code " id="8ac13147_322"  >&lt;idea-version&gt;</code> element's <code class="code " id="8ac13147_323"  >since-build</code> and <code class="code " id="8ac13147_324"  >until-build</code> attributes, one of the following must appear in the Gradle build script: </p><ul class="list _ul" id="8ac13147_325"    ><li class="list__item" id="8ac13147_326" ><p>Either set <a href="tools-gradle-intellij-plugin.html#intellij-extension-updatesinceuntilbuild" id="8ac13147_327" data-tooltip="Enables patching plugin.xml with the values of patchPluginXml.sinceBuild and patchPluginXml.untilBuild properties."  ><code class="code " id="8ac13147_328"  >intellij.updateSinceUntilBuild</code></a> to <code class="code " id="8ac13147_329"  >false</code>, which will disable substituting both <code class="code " id="8ac13147_330"  >since-build</code> and <code class="code " id="8ac13147_331"  >until-build</code> attributes,</p></li></ul></li></ul><p id="8ac13147_332" >The best practice to avoid confusion is to replace the elements in <span class="filepath" id="8ac13147_333" >plugin.xml</span> that will be patched by the Gradle plugin with a comment. That way, the values for these parameters do not appear in two places in the source code. The Gradle plugin will add the necessary elements as part of the patching process. For those <a href="tools-gradle-intellij-plugin.html#tasks-patchpluginxml" id="8ac13147_334" data-tooltip="Patches plugin.xml files with values provided to the task."  ><code class="code " id="8ac13147_335"  >patchPluginXml</code></a> attributes that contain descriptions such as <a href="tools-gradle-intellij-plugin.html#patchpluginxml-task-changenotes" id="8ac13147_336" data-tooltip="The change notes of the plugin used in the <change-notes> tag."  ><code class="code " id="8ac13147_337"  >patchPluginXml.changeNotes</code></a> and <a href="tools-gradle-intellij-plugin.html#patchpluginxml-task-plugindescription" id="8ac13147_338" data-tooltip="The description of the plugin used in the <description> tag."  ><code class="code " id="8ac13147_339"  >patchPluginXml.pluginDescription</code></a>, a <code class="code " id="8ac13147_340"  >CDATA</code> block is not necessary when using HTML elements.</p><aside data-type="tip" class="prompt" data-title="" id="8ac13147_341" ><p id="8ac13147_342" >To maintain and generate an up-to-date changelog, try using <a href="https://github.com/JetBrains/gradle-changelog-plugin" id="8ac13147_343"   data-external="true" rel="noopener noreferrer" >Gradle Changelog Plugin</a>.</p></aside><p id="8ac13147_344" >As discussed in <a href="gradle-prerequisites.html#components-of-a-wizard-generated-gradle-intellij-platform-plugin" id="8ac13147_345" data-tooltip="For the example my_plugin, the IDE Plugin generator creates the following directory content:"  >Components of a Wizard-Generated Gradle IntelliJ Platform Plugin</a>, the Gradle properties <code class="code " id="8ac13147_346"  >project.version</code>, <code class="code " id="8ac13147_347"  >project.group</code>, and <code class="code " id="8ac13147_348"  >rootProject.name</code> are all generated based on the input to the Wizard. However, the <a href="tools-gradle-intellij-plugin.html" id="8ac13147_349" data-tooltip="The Gradle IntelliJ Plugin is a plugin for the Gradle build system to help configuring your environment for building, testing, verifying, and publishing plugins for IntelliJ-based IDEs."  >Gradle IntelliJ Plugin</a> does not combine and substitute those Gradle properties for the default <a href="plugin-configuration-file.html#idea-plugin__id" id="8ac13147_350" data-tooltip="A unique identifier of the plugin. It should be a fully qualified name similar to Java packages and must not collide with the ID of existing plugins. The ID is a technical value used to identify the plugin in the IDE and JetBrains Marketplace."  ><code class="code " id="8ac13147_351"  >&lt;id&gt;</code></a> and <a href="plugin-configuration-file.html#idea-plugin__name" id="8ac13147_352" data-tooltip="The user-visible plugin display name (Title Case)."  ><code class="code " id="8ac13147_353"  >&lt;name&gt;</code></a> elements in the <span class="filepath" id="8ac13147_354" >plugin.xml</span> file.</p><p id="8ac13147_355" >The best practice is to keep <code class="code " id="8ac13147_356"  >project.version</code> current. By default, if you modify <code class="code " id="8ac13147_357"  >project.version</code> in Gradle build script, the Gradle plugin will automatically update the <a href="plugin-configuration-file.html#idea-plugin__version" id="8ac13147_358" data-tooltip="The plugin version displayed in the Plugins settings dialog and in the JetBrains Marketplace plugin page. Plugins uploaded to the JetBrains Marketplace must follow semantic versioning."  ><code class="code " id="8ac13147_359"  >&lt;version&gt;</code></a> value in the <span class="filepath" id="8ac13147_360" >plugin.xml</span> file. This practice keeps all version declarations synchronized.</p></section><section class="chapter"  ><h3 id="verifying-plugin" data-toc="verifying-plugin"  >Verifying Plugin</h3><p id="8ac13147_361" >The Gradle plugin provides two tasks that allow for running integrity and compatibility tests:</p><ul class="list _ul" id="8ac13147_362"    ><li class="list__item" id="8ac13147_363" ><p><a href="tools-gradle-intellij-plugin.html#tasks-verifyplugin" id="8ac13147_364" data-tooltip="Validates completeness and contents of plugin.xml descriptors as well as plugin archive structure."  ><code class="code " id="8ac13147_365"  >verifyPlugin</code></a> task - validates completeness and contents of <span class="filepath" id="8ac13147_366" >plugin.xml</span> descriptors as well as plugin's archive structure,</p></li><li class="list__item" id="8ac13147_367" ><p><a href="tools-gradle-intellij-plugin.html#tasks-runpluginverifier" id="8ac13147_368" data-tooltip="Runs the IntelliJ Plugin Verifier tool to check the binary compatibility with specified IDE builds (see also )."  ><code class="code " id="8ac13147_369"  >runPluginVerifier</code></a> task - runs the <a href="https://github.com/JetBrains/intellij-plugin-verifier" id="8ac13147_370"   data-external="true" rel="noopener noreferrer" >IntelliJ Plugin Verifier</a> tool to check the binary compatibility with specified IntelliJ IDE builds.</p></li></ul><p id="8ac13147_371" >Plugin Verifier integration task allows for configuring the exact IDE versions that your plugin will be checked against. See <a href="verifying-plugin-compatibility.html#plugin-verifier" id="8ac13147_372" data-tooltip="Compatibility with newer IDEs can easily be verified for plugins hosted on the JetBrains Marketplace using the built-in Plugin Verifier."  >Plugin Verifier</a> for more information.</p></section><section class="chapter"  ><h3 id="publishing-with-the-gradle-plugin" data-toc="publishing-with-the-gradle-plugin"  >Publishing with the Gradle Plugin</h3><p id="8ac13147_373" >Please review the <a href="deployment.html" id="8ac13147_374" data-tooltip="Once you have configured Gradle support, you can automatically build and deploy your plugin to the JetBrains Marketplace. To automatically deploy a plugin, you need to have already published the plugin to the plugin repository at least once. Please see the guide page for manually…"  >Publishing Plugins with Gradle</a> page before using the <a href="tools-gradle-intellij-plugin.html#tasks-publishplugin" id="8ac13147_375" data-tooltip="Publishes plugin to the remote JetBrains Marketplace repository."  ><code class="code " id="8ac13147_376"  >publishPlugin</code></a> task. That documentation explains different ways to use Gradle for plugin uploads without exposing account credentials.</p></section></section><section class="chapter"  ><h2 id="common-gradle-plugin-configurations-for-development" data-toc="common-gradle-plugin-configurations-for-development"  >Common Gradle Plugin Configurations for Development</h2><p id="8ac13147_377" >Different combinations of Gradle plugin attributes are needed to create the desired build or IDE Development Instance environment. This section reviews some of the more common configurations.</p><section class="chapter"  ><h3 id="plugins-targeting-intellij-idea" data-toc="plugins-targeting-intellij-idea"  >Plugins Targeting IntelliJ IDEA</h3><p id="8ac13147_378" >IntelliJ Platform plugins targeting IntelliJ IDEA have the most straightforward Gradle plugin configuration.</p><ul class="list _ul" id="8ac13147_379"    ><li class="list__item" id="8ac13147_380" ><p>Determine the version of <a href="#configuring-the-gradle-intellij-plugin-for-building-intellij-platform-plugin-projects" id="8ac13147_381" data-tooltip="By default, the Gradle plugin will build a plugin project against the IntelliJ Platform defined by the latest EAP snapshot of the IntelliJ IDEA Community Edition."  >IntelliJ IDEA to use for building the plugin project</a>; this is the desired version of the IntelliJ Platform. This can be EAP (default) or determined from the <a href="build-number-ranges.html" id="8ac13147_382" data-tooltip="Use this reference of build number ranges to specify the correct since-build and until-build values in your plugin descriptor. Setting the actual values in plugin.xml is managed by patchPluginXml Gradle task, see ."  >build number ranges</a>. </p><ul class="list _ul" id="8ac13147_383"    ><li class="list__item" id="8ac13147_384" ><p>If a production version of IntelliJ IDEA is the desired target, set the <a href="tools-gradle-intellij-plugin.html#intellij-extension-version" id="8ac13147_385" data-tooltip="All available JetBrains IDEs versions can be found at IntelliJ Artifacts page."  ><code class="code " id="8ac13147_386"  >intellij.version</code></a> property accordingly.</p></li><li class="list__item" id="8ac13147_387" ><p>Set the necessary <a href="#plugin-dependencies" id="8ac13147_388" data-tooltip="IntelliJ Platform plugin projects may depend on either bundled or third-party plugins. In that case, a project should build against a version of those plugins that match the IntelliJ Platform version used to build the plugin project. The Gradle plugin will fetch any plugins in the…"  >plugin dependencies</a>, if any.</p></li></ul></li><li class="list__item" id="8ac13147_389" ><p>If the plugin project should be run or debugged in an IDE Development Instance based on the same IntelliJ IDEA version, no further attributes need to be set for the IDE Development Instance. This is the default behavior and is the most common use case. </p><ul class="list _ul" id="8ac13147_390"    ><li class="list__item" id="8ac13147_391" ><p>If the plugin project should be run or debugged in an IDE Development Instance based on an alternate version of the IntelliJ Platform, set the <a href="#running-against-alternate-versions-and-types-of-intellij-platform-based-ides" id="8ac13147_392" data-tooltip="The IntelliJ Platform IDE used for the Development Instance can be different from that used to build the plugin project. Setting the runIde.ideDir property will define an IDE to be used for the Development Instance. This attribute is commonly used when running or debugging a plugin…"  >Running</a> DSL attribute accordingly.</p></li><li class="list__item" id="8ac13147_393" ><p>If the plugin project should be run using a JetBrains Runtime other than the default for the IDE Development Instance, specify the <a href="#running-against-alternate-versions-of-the-jetbrains-runtime" id="8ac13147_394" data-tooltip="Every version of the IntelliJ Platform has a corresponding version of the JetBrains Runtime. A different version of the runtime can be used by specifying the runIde.jbrVersion attribute, describing a version of the JetBrains Runtime that should be used by the IDE Development…"  >JetBrains Runtime version</a>.</p></li></ul></li><li class="list__item" id="8ac13147_395" ><p>Set the appropriate attributes for <a href="#patching-the-plugin-configuration-file" id="8ac13147_396" data-tooltip="A plugin project's plugin.xml file has element values that are "patched" at build time from the attributes of the patchPluginXml task. As many as possible of the attributes in the Patching DSL will be substituted into the corresponding element values in a plugin project's plugin.xml…"  >patching the plugin.xml file</a>.</p></li></ul></section><section class="chapter"  ><h3 id="plugins-targeting-alternate-intellij-platform-based-ides" data-toc="plugins-targeting-alternate-intellij-platform-based-ides"  >Plugins Targeting Alternate IntelliJ Platform-Based IDEs</h3><p id="8ac13147_397" >Gradle also supports developing plugins to run in IDEs that are based on the IntelliJ Platform. For more information, see the <a href="dev-alternate-products.html" id="8ac13147_398" data-tooltip="Plugin projects can target IDEs other than IntelliJ IDEA, as long as the products are based on the IntelliJ Platform. Such plugins are developed much like plugin projects that target IntelliJ IDEA. They can be written in Kotlin or Java, or a mix of both. Once completed, the plugins…"  >Developing for Multiple Products</a> page of this guide.</p></section></section><div class="last-modified"> Last modified: 29 九月 2022</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="gradle-prerequisites.html">Getting Started with Gradle</a>   <a class="navigation-links__next" href="deployment.html">Publishing Plugins with Gradle</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/storage/help-app/v5/app.js"></script></body></html>