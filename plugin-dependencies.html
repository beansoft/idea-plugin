<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2022-09-25T22:17:43.1950407"><meta name="build-number" content="${buildNumber}">    <meta name="keywords" content="">  <title>Dependencies | IntelliJ Platform Plugin SDK</title><script id="virtual-toc-data" type="application/json">[{"id":"1-locating-plugin-id-and-preparing-sandbox","level":0,"title":"1. Locating Plugin ID and Preparing Sandbox","anchor":"#1-locating-plugin-id-and-preparing-sandbox"},{"id":"2-project-setup","level":0,"title":"2. Project Setup","anchor":"#2-project-setup"},{"id":"3-dependency-declaration-in-pluginxml","level":0,"title":"3. Dependency Declaration in plugin.xml","anchor":"#3-dependency-declaration-in-pluginxml"},{"id":"optional-plugin-dependencies","level":0,"title":"Optional Plugin Dependencies","anchor":"#optional-plugin-dependencies"}]</script>   <link href="https://resources.jetbrains.com/storage/help-app/v5/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Dependencies | IntelliJ Platform Plugin SDK"/><meta property="og:description" content=""/><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"/><meta property="og:site_name" content="IntelliJ Platform Plugin SDK Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="https://plugins.jetbrains.com/docs/intellij/plugin-dependencies.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@JBPlatform"><meta name="twitter:title" content="Dependencies | IntelliJ Platform Plugin SDK"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@JBPlatform"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://plugins.jetbrains.com/docs/intellij/plugin-dependencies.html#webpage", "url": "https://plugins.jetbrains.com/docs/intellij/plugin-dependencies.html", "name": "Dependencies | IntelliJ Platform Plugin SDK", "description": "", "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://plugins.jetbrains.com/docs/intellij/#website", "url": "https://plugins.jetbrains.com/docs/intellij/", "name": "IntelliJ Platform Plugin SDK Help" }</script><!-- End Schema.org --></head>    <body data-id="plugin_dependencies.md" data-main-title="Dependencies" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Part I — 插件///plugin_structure.md|Plugin Structure"  data-edit-url="https://github.com/JetBrains/intellij-sdk-docs/edit/main/topics/basics/plugin_structure/plugin_dependencies.md"  >  <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ Platform Plugin SDK  Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">      </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="plugin_dependencies.md" id="plugin_dependencies.md"  >Dependencies</h1><p id="69ddd4c4_1" >A plugin may depend on classes from other plugins, either bundled, third-party, or by the same author. This document describes the syntax for declaring plugin dependencies and optional plugin dependencies. For more information about dependencies on the IntelliJ Platform modules, see Part II of this document: <a href="plugin-compatibility.html" id="69ddd4c4_2" data-tooltip="All products based on the IntelliJ Platform are built on the same underlying API. Some of these products share features built on top of the platform, such as Java support in IntelliJ IDEA and Android Studio. Underlying those shared features are shared components. When authoring a…"  >Plugin Compatibility with IntelliJ Platform Products</a>.</p><aside data-type="tip" class="prompt" data-title="" id="69ddd4c4_3" ><p id="69ddd4c4_4" >For adding dependencies on 3rd party libraries, use regular <a href="https://docs.gradle.org/current/userguide/core_dependency_management.html" id="69ddd4c4_5"   data-external="true" rel="noopener noreferrer" >Gradle dependency management</a>.</p></aside><section class="procedure-steps"   ><h3 id="69ddd4c4_6" data-toc="69ddd4c4_6">Required Steps</h3 ><p id="69ddd4c4_7" >To express a dependency on classes from other plugins or modules, perform the following three required steps detailed below on this page:</p><ol class="list _decimal" id="69ddd4c4_8"  type="1"  ><li class="list__item" id="69ddd4c4_9" ><p>Locate Plugin ID</p></li><li class="list__item" id="69ddd4c4_10" ><p>Project Setup</p></li><li class="list__item" id="69ddd4c4_11" ><p>Declaration in <span class="filepath" id="69ddd4c4_12" ><a href="plugin-configuration-file.html" id="69ddd4c4_13" data-tooltip="Plugin configuration file contains all the information about the plugin, as well as all registered extensions, actions, listeners, etc."  >plugin.xml</a></span></p></li></ol><p id="69ddd4c4_14" >If <code class="code " id="69ddd4c4_15"  >java.lang.NoClassDefFoundError</code> occurs at runtime, it means that either Step 3 was omitted or loading the plugin dependency failed (please check log files from <a href="ide-development-instance.html#development-instance-settings-caches-logs-and-plugins" id="69ddd4c4_16" data-tooltip="Within the Sandbox Home directory are subdirectories of the Development Instance:"  >Development Instance</a>).</p><ol class="list _decimal"></ol></section><section class="chapter"  ><h2 id="1-locating-plugin-id-and-preparing-sandbox" data-toc="1-locating-plugin-id-and-preparing-sandbox"  >1. Locating Plugin ID and Preparing Sandbox</h2><p id="69ddd4c4_17" >A compatible version must be chosen carefully according to the plugin's <a href="build-number-ranges.html" id="69ddd4c4_18" data-tooltip="Use this reference of build number ranges to specify the correct since-build and until-build values in your plugin descriptor. Setting the actual values in plugin.xml is managed by patchPluginXml Gradle task, see ."  >compatibility</a>. It is not possible to specify the minimum/maximum version for the dependent plugin. (<a href="https://youtrack.jetbrains.com/issue/IDEABKL-7906" id="69ddd4c4_19"   data-external="true" rel="noopener noreferrer" >Issue</a>)</p><section class="chapter"  ><h3 id="jetbrains-marketplace" data-toc="jetbrains-marketplace"  >JetBrains Marketplace</h3><p id="69ddd4c4_20" >For plugins published on <a href="https://plugins.jetbrains.com" id="69ddd4c4_21"   data-external="true" rel="noopener noreferrer" >JetBrains Marketplace</a>:</p><ol class="list _decimal" id="69ddd4c4_22"  type="1"  ><li class="list__item" id="69ddd4c4_23" ><p>Open plugin's detail page</p></li><li class="list__item" id="69ddd4c4_24" ><p>Select <span class="control" id="69ddd4c4_25" >Versions</span> tab</p></li><li class="list__item" id="69ddd4c4_26" ><p>Open detail page for the desired version, displaying the <span class="control" id="69ddd4c4_27" >Compatibility Range</span> and <span class="control" id="69ddd4c4_28" >Plugin ID</span></p></li></ol></section><section class="chapter"  ><h3 id="bundled-and-other-plugins" data-toc="bundled-and-other-plugins"  >Bundled and Other Plugins</h3><p id="69ddd4c4_29" >For bundled and non-public plugins, locate the plugin's main JAR file containing <span class="filepath" id="69ddd4c4_30" >META-INF/plugin.xml</span> descriptor with <a href="plugin-configuration-file.html#idea-plugin__id" id="69ddd4c4_31" data-tooltip="A unique identifier of the plugin. It should be a fully qualified name similar to Java packages and must not collide with the ID of existing plugins. The ID is a technical value used to identify the plugin in the IDE and JetBrains Marketplace."  ><code class="code " id="69ddd4c4_32"  >&lt;id&gt;</code></a> tag (or <a href="plugin-configuration-file.html#idea-plugin__name" id="69ddd4c4_33" data-tooltip="The user-visible plugin display name (Title Case)."  ><code class="code " id="69ddd4c4_34"  >&lt;name&gt;</code></a> if not specified). Bundled plugins are located in <span class="filepath" id="69ddd4c4_35" >$PRODUCT_ROOT$/plugins/$PLUGIN_NAME$/lib/$PLUGIN_NAME$.jar</span>.</p><section class="chapter"  ><h4 id="ids-of-bundled-plugins" data-toc="ids-of-bundled-plugins"  >IDs of Bundled Plugins</h4><p id="69ddd4c4_36" >The following table lists some commonly used bundled plugins and their ID. See also <a href="extension-point-list.html" id="69ddd4c4_37" data-tooltip="Overview of Extension Points and Listeners for IntelliJ Platform"  >Extension Point and Listener List</a> and <a href="plugin-compatibility.html#modules-specific-to-functionality" id="69ddd4c4_38" data-tooltip="More specialized functionality is also delivered via modules and plugins in IntelliJ Platform-based products. For example, the com.intellij.modules.python module supports the Python language-specific functionality. If a plugin uses this module's functionality, such as…"  >Modules Specific to Functionality</a>.</p><div class="table-wrapper" ><table class=" wide" id="69ddd4c4_39"  ><thead><tr class=" ijRowHead" id="69ddd4c4_40" ><th id="69ddd4c4_41"    ><p>Plugin Name</p></th><th id="69ddd4c4_42"    ><p>Plugin ID</p></th></tr></thead><tbody ><tr class="" id="69ddd4c4_43" ><td id="69ddd4c4_44"    ><p>Copyright</p></td><td id="69ddd4c4_45"    ><p><code class="code " id="69ddd4c4_46"  >com.intellij.copyright</code></p></td></tr><tr class="" id="69ddd4c4_47" ><td id="69ddd4c4_48"    ><p>CSS</p></td><td id="69ddd4c4_49"    ><p><code class="code " id="69ddd4c4_50"  >com.intellij.css</code></p></td></tr><tr class="" id="69ddd4c4_51" ><td id="69ddd4c4_52"    ><p>Database Tools and SQL</p></td><td id="69ddd4c4_53"    ><p><code class="code " id="69ddd4c4_54"  >com.intellij.database</code> <a href="data-grip.html" id="69ddd4c4_55" data-tooltip="DataGrip is an IntelliJ Platform-based product. Plugin projects targeting DataGrip can be developed using IntelliJ IDEA with the ."  >DataGrip Plugin Development</a></p></td></tr><tr class="" id="69ddd4c4_56" ><td id="69ddd4c4_57"    ><p>IntelliLang</p></td><td id="69ddd4c4_58"    ><p><code class="code " id="69ddd4c4_59"  >org.intellij.intelliLang</code></p></td></tr><tr class="" id="69ddd4c4_60" ><td id="69ddd4c4_61"    ><p>Java</p></td><td id="69ddd4c4_62"    ><p><code class="code " id="69ddd4c4_63"  >com.intellij.java</code></p></td></tr><tr class="" id="69ddd4c4_64" ><td id="69ddd4c4_65"    ><p>JavaScript and TypeScript</p></td><td id="69ddd4c4_66"    ><p><code class="code " id="69ddd4c4_67"  >JavaScript</code></p></td></tr><tr class="" id="69ddd4c4_68" ><td id="69ddd4c4_69"    ><p>Kotlin</p></td><td id="69ddd4c4_70"    ><p><code class="code " id="69ddd4c4_71"  >org.jetbrains.kotlin</code> <a href="kotlin.html" id="69ddd4c4_72" data-tooltip="Using Kotlin to write plugins for the IntelliJ Platform is very similar to writing plugins in Java. Existing plugin developers can get started by converting boilerplate Java classes to their Kotlin equivalents by using the J2K compiler bundled with the IntelliJ Platform (versions…"  >Kotlin for Plugin Developers</a></p></td></tr><tr class="" id="69ddd4c4_73" ><td id="69ddd4c4_74"    ><p>Markdown</p></td><td id="69ddd4c4_75"    ><p><code class="code " id="69ddd4c4_76"  >org.intellij.plugins.markdown</code></p></td></tr><tr class="" id="69ddd4c4_77" ><td id="69ddd4c4_78"    ><p>Maven</p></td><td id="69ddd4c4_79"    ><p><code class="code " id="69ddd4c4_80"  >org.jetbrains.idea.maven</code></p></td></tr><tr class="" id="69ddd4c4_81" ><td id="69ddd4c4_82"    ><p>Spring</p></td><td id="69ddd4c4_83"    ><p><code class="code " id="69ddd4c4_84"  >com.intellij.spring</code> <a href="spring-api.html" id="69ddd4c4_85" data-tooltip="Spring API allows 3rd party plugins to re-use, integrate with or extend existing Spring Framework support in IntelliJ IDEA Ultimate."  >Spring API</a></p></td></tr><tr class="" id="69ddd4c4_86" ><td id="69ddd4c4_87"    ><p>Spring Boot</p></td><td id="69ddd4c4_88"    ><p><code class="code " id="69ddd4c4_89"  >com.intellij.spring.boot</code> <a href="spring-api.html" id="69ddd4c4_90" data-tooltip="Spring API allows 3rd party plugins to re-use, integrate with or extend existing Spring Framework support in IntelliJ IDEA Ultimate."  >Spring API</a></p></td></tr></tbody ></table ></div></section></section><section class="chapter"  ><h3 id="preparing-sandbox" data-toc="preparing-sandbox"  >Preparing Sandbox</h3><p id="69ddd4c4_91" >If the plugin is not bundled with the target IDE, run the (sandbox) <a href="ide-development-instance.html" id="69ddd4c4_92" data-tooltip="A JetBrains feature for developing plugins is running or debugging a plugin project from within an IntelliJ Platform-based IDE such as IntelliJ IDEA. Selecting the runIde task for a Gradle-based project (or Run menu for a DevKit-based project) will launch a Development Instance of…"  >IDE Development Instance</a> of your target IDE and install the plugin there.</p></section></section><section class="chapter"  ><h2 id="2-project-setup" data-toc="2-project-setup"  >2. Project Setup</h2><p id="69ddd4c4_93" >Depending on the chosen development workflow (Gradle or DevKit), one of the two following steps is necessary.</p><div class="tabs" id="69ddd4c4_94"><div class="tabs__content" data-gtm="tab" id="69ddd4c4_95"   data-title="Gradle" ><aside data-type="tip" class="prompt" data-title="" id="69ddd4c4_96" ><p id="69ddd4c4_97" >Please see the <a href="tools-gradle-intellij-plugin.html#intellij-extension-plugins" id="69ddd4c4_98" data-tooltip="The list of bundled IDE plugins and plugins from JetBrains Marketplace or configured intellij.pluginsRepositories."  ><code class="code " id="69ddd4c4_99"  >intellij.plugins</code></a> property for acceptable values.</p></aside><p id="69ddd4c4_100" >If the project uses <a href="gradle-build-system.html" id="69ddd4c4_101" data-tooltip="The is the recommended solution for building IntelliJ Platform plugins. The plugin takes care of the dependencies of your plugin project — both the base IDE and other plugin dependencies. It provides tasks to run the IDE with your plugin and to package and publish your plugin to the…"  >Gradle</a>, add the dependency to the <a href="tools-gradle-intellij-plugin.html#intellij-extension-plugins" id="69ddd4c4_102" data-tooltip="The list of bundled IDE plugins and plugins from JetBrains Marketplace or configured intellij.pluginsRepositories."  ><code class="code " id="69ddd4c4_103"  >intellij.plugins</code></a> parameter in your build script:</p><div class="tabs" id="69ddd4c4_104"><div class="tabs__content" data-gtm="tab" id="69ddd4c4_105"   data-title="Kotlin" ><div class="code-block" data-lang="kotlin"    data-title="Kotlin"     >
intellij {
  plugins.set(listOf(&quot;com.example.another-plugin:1.0&quot;))
}
</div></div><div class="tabs__content" data-gtm="tab" id="69ddd4c4_107"   data-title="Groovy" ><div class="code-block" data-lang="groovy"    data-title="Groovy"     >
intellij {
  plugins = ['com.example.another-plugin:1.0']
}
</div></div></div><aside data-type="tip" class="prompt" data-title="" id="69ddd4c4_109" ><p id="69ddd4c4_110" >Transitive dependencies required for tests must currently be <a href="https://github.com/JetBrains/gradle-intellij-plugin/issues/38" id="69ddd4c4_111"   data-external="true" rel="noopener noreferrer" >specified explicitly</a>.</p></aside></div><div class="tabs__content" data-gtm="tab" id="69ddd4c4_112"   data-title="DevKit" ><aside data-type="tip" class="prompt" data-title="" id="69ddd4c4_113" ><p id="69ddd4c4_114" >Existing DevKit-based projects can be converted to use <a href="gradle-prerequisites.html#adding-gradle-support-to-an-existing-devkit-based-intellij-platform-plugin" id="69ddd4c4_115" data-tooltip="See Revamping Plugins #3 – Migrating from DevKit to the Gradle build system blog post for a step-by-step walk-through."  >Gradle setup</a> where dependency management is fully automated.</p></aside><p id="69ddd4c4_116" >If the project uses <a href="using-dev-kit.html" id="69ddd4c4_117" data-tooltip="For new projects, it is highly recommended to use Gradle-based setup."  >DevKit</a>, add the JARs of the plugin on which the project depends to the <span class="control" id="69ddd4c4_118" >Classpath</span> of the <span class="emphasis" id="69ddd4c4_119" >IntelliJ Platform SDK</span>.</p><aside data-type="tip" class="prompt" data-title="" id="69ddd4c4_120" ><p id="69ddd4c4_121" >Do not add the plugin JARs as a library: this will fail at runtime because the IntelliJ Platform will load two separate copies of the dependency plugin classes.</p></aside><p id="69ddd4c4_122" >To do that, open the <span class="control" id="69ddd4c4_123" >Project Structure</span> dialog, select the SDK used in the project, press the <kbd data-bypass="true" class="keystroke" id="69ddd4c4_124" ><span class="keystroke__value">+</span></kbd> button in the <span class="control" id="69ddd4c4_125" >Classpath</span> tab, and select the plugin JAR file(s):</p><ul class="list _ul" id="69ddd4c4_126"    ><li class="list__item" id="69ddd4c4_127" ><p>For bundled plugins, the plugin JAR files are located in <span class="filepath" id="69ddd4c4_128" >plugins/$PLUGIN_NAME$</span> or <span class="filepath" id="69ddd4c4_129" >plugins/$PLUGIN_NAME$/lib</span> under the main installation directory. If you're not sure which JAR to add, you can add all of them.</p></li><li class="list__item" id="69ddd4c4_130" ><p>For non-bundled plugins, the plugin JAR files are located in <span class="filepath" id="69ddd4c4_131" >config/plugins/$PLUGIN_NAME$</span> or <span class="filepath" id="69ddd4c4_132" >config/plugins/$PLUGIN_NAME$/lib</span> under the directory specified as <span class="control" id="69ddd4c4_133" >Sandbox Home</span> in the IntelliJ Platform Plugin SDK settings.</p></li></ul></div></div></section><section class="chapter"  ><h2 id="3-dependency-declaration-in-pluginxml" data-toc="3-dependency-declaration-in-pluginxml"  >3. Dependency Declaration in plugin.xml</h2><p id="69ddd4c4_134" >Regardless of whether a plugin project uses <a href="plugin-compatibility.html#modules-available-in-all-products" id="69ddd4c4_135" data-tooltip="A core set of modules is available in all products based on the IntelliJ Platform. These modules provide a set of shared functionalities. The following table lists modules that are currently available in all products."  >Modules Available in All Products</a>, or <a href="plugin-compatibility.html#modules-specific-to-functionality" id="69ddd4c4_136" data-tooltip="More specialized functionality is also delivered via modules and plugins in IntelliJ Platform-based products. For example, the com.intellij.modules.python module supports the Python language-specific functionality. If a plugin uses this module's functionality, such as…"  >Modules Specific to Functionality</a>, the correct module must be listed as a dependency in <span class="filepath" id="69ddd4c4_137" >plugin.xml</span>. If a project depends on another plugin, the dependency must be declared like a <a href="plugin-compatibility.html#modules" id="69ddd4c4_138" data-tooltip="A module represents a built-in plugin that is a non-removable part of a product. Some modules are available in all products, and some modules are available only in some, or even just one product. This section identifies and discusses modules of both types."  >module</a>. If only general IntelliJ Platform features (APIs) are used, then a default dependency on <code class="code " id="69ddd4c4_139"  >com.intellij.modules.platform</code> must be declared.</p><p id="69ddd4c4_140" >To display a list of available IntelliJ Platform modules, invoke the <a href="https://www.jetbrains.com/help/idea/auto-completing-code.html#4eac28ba" id="69ddd4c4_141"   data-external="true" rel="noopener noreferrer" >code completion</a> feature for the <a href="plugin-configuration-file.html#idea-plugin__depends" id="69ddd4c4_142" data-tooltip="Specifies a dependency on another plugin or a module of an IntelliJ Platform-based product. A single <idea-plugin> element can contain multiple <depends> elements."  ><code class="code " id="69ddd4c4_143"  >&lt;depends&gt;</code></a> element contents while editing the plugin project's <span class="filepath" id="69ddd4c4_144" >plugin.xml</span> file.</p><p id="69ddd4c4_145" >In the <span class="filepath" id="69ddd4c4_146" >plugin.xml</span>, add a <code class="code " id="69ddd4c4_147"  >&lt;depends&gt;</code> tag with the dependency plugin's ID as its content. Continuing with the example from <a href="#2-project-setup" id="69ddd4c4_148" data-tooltip="Depending on the chosen development workflow (Gradle or DevKit), one of the two following steps is necessary."  >Project Setup</a> above, the dependency declaration in <span class="filepath" id="69ddd4c4_149" >plugin.xml</span> would be:</p><div class="code-block" data-lang="markup"         >
&lt;depends&gt;com.example.another-plugin&lt;/depends&gt;
</div></section><section class="chapter"  ><h2 id="optional-plugin-dependencies" data-toc="optional-plugin-dependencies"  >Optional Plugin Dependencies</h2><p id="69ddd4c4_151" >A plugin can also specify an optional plugin dependency. In this case, the plugin will load even if the plugin it depends on is not installed or enabled, but part of the plugin's functionality will not be available.</p><p id="69ddd4c4_152" >Declare additional <code class="code " id="69ddd4c4_153"  >optional=&quot;true&quot;</code> and <code class="code " id="69ddd4c4_154"  >config-file</code> attribute pointing to <a href="plugin-configuration-file.html#additional-plugin-configuration-files" id="69ddd4c4_155" data-tooltip="A plugin can contain additional configuration files beside the main plugin.xml. They have the same format, and they are included with the config-file attribute of <depends> elements specifying plugin dependencies. However, some elements and attributes required in plugin.xml are…"  >optional plugin descriptor file</a>:</p><div class="code-block" data-lang="markup"         >
&lt;depends
    optional=&quot;true&quot;
    config-file=&quot;myPluginId-optionalPluginName.xml&quot;&gt;dependency.plugin.id&lt;/depends&gt;
</div><aside data-type="tip" class="prompt" data-title="" id="69ddd4c4_157" ><p id="69ddd4c4_158" >Additional plugin descriptor files must follow the naming pattern <span class="filepath" id="69ddd4c4_159" >myPluginId-$NAME$.xml</span> resulting in unique filenames to prevent problems with classloaders in tests (<a href="https://youtrack.jetbrains.com/issue/IDEA-205964" id="69ddd4c4_160"   data-external="true" rel="noopener noreferrer" >Details</a>).</p></aside><p id="69ddd4c4_161" >For example, if a plugin adds additional highlighting for Java and Kotlin files, use the following setup. The main <span class="filepath" id="69ddd4c4_162" >plugin.xml</span> will define an annotator for Java and specify an optional dependency on the Kotlin plugin (plugin ID <code class="code " id="69ddd4c4_163"  >org.jetbrains.kotlin</code>):</p><p id="69ddd4c4_164" ><span class="filepath" id="69ddd4c4_165" >plugin.xml</span></p><div class="code-block" data-lang="markup"         >
&lt;idea-plugin&gt;
   ...
   &lt;depends
       optional=&quot;true&quot;
       config-file=&quot;myPluginId-withKotlin.xml&quot;&gt;org.jetbrains.kotlin&lt;/depends&gt;

   &lt;extensions defaultExtensionNs=&quot;com.intellij&quot;&gt;
      &lt;annotator
          language=&quot;JAVA&quot;
          implementationClass=&quot;com.example.MyJavaAnnotator&quot;/&gt;
   &lt;/extensions&gt;
&lt;/idea-plugin&gt;
</div><p id="69ddd4c4_167" >Then create a file called <span class="filepath" id="69ddd4c4_168" >myPluginId-withKotlin.xml</span>, in the same directory as the main <span class="filepath" id="69ddd4c4_169" >plugin.xml</span> file. In that file, define an annotator for Kotlin:</p><p id="69ddd4c4_170" ><span class="filepath" id="69ddd4c4_171" >myPluginId-withKotlin.xml</span></p><div class="code-block" data-lang="markup"         >
&lt;idea-plugin&gt;
   &lt;extensions defaultExtensionNs=&quot;com.intellij&quot;&gt;
      &lt;annotator
          language=&quot;kotlin&quot;
          implementationClass=&quot;com.example.MyKotlinAnnotator&quot;/&gt;
   &lt;/extensions&gt;
&lt;/idea-plugin&gt;
</div></section><div class="last-modified"> Last modified: 25 九月 2022</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="plugin-icon-file.html">Plugin Logo</a>   <a class="navigation-links__next" href="dynamic-plugins.html">Dynamic Plugins</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/storage/help-app/v5/app.js"></script></body></html>