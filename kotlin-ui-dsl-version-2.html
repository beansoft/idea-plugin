<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2022-09-25T22:17:42.0658302"><meta name="build-number" content="${buildNumber}">    <meta name="keywords" content="">  <title>Kotlin UI DSL Version 2 | IntelliJ Platform Plugin SDK</title><script id="virtual-toc-data" type="application/json">[{"id":"ui-dsl-examples","level":0,"title":"UI DSL Examples","anchor":"#ui-dsl-examples"},{"id":"ui-dsl-basics","level":0,"title":"UI DSL Basics","anchor":"#ui-dsl-basics"},{"id":"panel","level":0,"title":"Panel","anchor":"#panel"},{"id":"row","level":0,"title":"Row","anchor":"#row"},{"id":"cell","level":0,"title":"Cell","anchor":"#cell"},{"id":"placeholder","level":0,"title":"Placeholder","anchor":"#placeholder"},{"id":"bindings","level":0,"title":"Bindings","anchor":"#bindings"},{"id":"version-1-and-2-comparison","level":0,"title":"Version 1 and 2 Comparison","anchor":"#version-1-and-2-comparison"}]</script>   <link href="https://resources.jetbrains.com/storage/help-app/v5/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Kotlin UI DSL Version 2 | IntelliJ Platform Plugin SDK"/><meta property="og:description" content=""/><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"/><meta property="og:site_name" content="IntelliJ Platform Plugin SDK Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="https://plugins.jetbrains.com/docs/intellij/kotlin-ui-dsl-version-2.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@JBPlatform"><meta name="twitter:title" content="Kotlin UI DSL Version 2 | IntelliJ Platform Plugin SDK"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@JBPlatform"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://plugins.jetbrains.com/docs/intellij/kotlin-ui-dsl-version-2.html#webpage", "url": "https://plugins.jetbrains.com/docs/intellij/kotlin-ui-dsl-version-2.html", "name": "Kotlin UI DSL Version 2 | IntelliJ Platform Plugin SDK", "description": "", "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://plugins.jetbrains.com/docs/intellij/#website", "url": "https://plugins.jetbrains.com/docs/intellij/", "name": "IntelliJ Platform Plugin SDK Help" }</script><!-- End Schema.org --></head>    <body data-id="kotlin_ui_dsl_version_2.md" data-main-title="Kotlin UI DSL Version 2" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Part II — Base Platform///user_interface_components.md|User Interface Components"  data-edit-url="https://github.com/JetBrains/intellij-sdk-docs/edit/main/topics/user_interface_components/kotlin_ui_dsl_version_2.md"  >  <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ Platform Plugin SDK  Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">      </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="kotlin_ui_dsl_version_2.md" id="kotlin_ui_dsl_version_2.md"  >Kotlin UI DSL Version 2</h1><aside data-type="tip" class="prompt" data-title="" id="bd968217_1" ><p id="bd968217_2" >This page describes API available in IntelliJ Platform releases <span class="control" id="bd968217_3" >2021.3 and later</span> only.</p><p id="bd968217_4" >See <a href="kotlin-ui-dsl.html" id="bd968217_5" data-tooltip="Kotlin UI DSL allows creating UI forms with input components bound to state objects. The forms are built by using a declarative Kotlin syntax. It shares similarities with Jetpack Compose for Android and is intended to build UI forms or part of forms for, e.g. dialogs and settings…"  >Kotlin UI DSL Version 1</a> for targeting earlier releases.</p></aside><p id="bd968217_6" >Kotlin UI DSL Version 2 allows creating UI forms with input components bound to state objects. The forms are built by using a declarative Kotlin syntax and follow the official IntelliJ Platform UI conventions described in the <a href="https://jetbrains.design/intellij/" id="bd968217_7"   data-external="true" rel="noopener noreferrer" >IntelliJ Platform UI Guidelines</a>. The library is written in <a href="kotlin.html" id="bd968217_8" data-tooltip="Using Kotlin to write plugins for the IntelliJ Platform is very similar to writing plugins in Java. Existing plugin developers can get started by converting boilerplate Java classes to their Kotlin equivalents by using the J2K compiler bundled with the IntelliJ Platform (versions…"  >Kotlin</a> and makes it easy to develop user interfaces like dialogs and settings pages.</p><p id="bd968217_9" >The Kotlin UI DSL is not intended to build general UIs, like tool windows controls that trigger some actions and do not contain any input components bound to state objects. For this purpose, use <a href="user-interface-components.html" id="bd968217_10" data-tooltip="The IntelliJ Platform includes a large number of custom Swing components. Using those components in your plugins will ensure that your plugin looks and works consistently with the UI of the rest of the IDE, and can often reduce the code size compared to using the default Swing…"  >custom Swing components</a> from the IntelliJ Platform or the standard ones.</p><p id="bd968217_11" >The <span class="emphasis" id="bd968217_12" >Kotlin UI DSL Version 2</span> functions are located in the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/ui/dsl/builder" id="bd968217_13"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bd968217_14"  >com.intellij.ui.dsl.builder</code></a> package.</p><section class="chapter"  ><h2 id="ui-dsl-examples" data-toc="ui-dsl-examples"  >UI DSL Examples</h2><p id="bd968217_15" >It is highly recommended taking a look at the UI DSL demo available via  (see <a href="internal-actions-intro.html" id="bd968217_17" data-tooltip="工具 | 内部操作 菜单提供给插件开发者一系列工具来帮助开发, 调试以及测试它们开发的IntelliJ Platform插件."  >Internal Actions</a> if not available in your IDE instance).</p><p id="bd968217_18" >It describes some UI DSL basics and contains explanations, tips, a list of all available components, and many examples with links to the source code.</p><aside data-type="tip" class="prompt" data-title="" id="bd968217_19" ><p id="bd968217_20" >All sections below refer to relevant tab available in this demo:</p><p id="bd968217_21" ><span class="control" id="bd968217_22" >UI DSL Showcase Tab</span>: <span class="emphasis" id="bd968217_23" >Tab Name</span> (Link to sources of demonstration tab)</p></aside></section><section class="chapter"  ><h2 id="ui-dsl-basics" data-toc="ui-dsl-basics"  >UI DSL Basics</h2><p id="bd968217_24" ><span class="control" id="bd968217_25" >UI DSL Showcase Tab</span>: Basics (Sources: <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/internal/ui/uiDslShowcase/DemoBasics.kt" id="bd968217_26"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bd968217_27"  >DemoBasics</code></a>)</p><p id="bd968217_28" >See the following simple example of UI DSL:</p><div class="code-block" data-lang="kotlin"         >
panel {
  row(&quot;Enter value:&quot;) {
    textField()
  }
}
</div><p id="bd968217_30" >Building content of any form starts from <code class="code " id="bd968217_31"  >panel {</code> which returns <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-api/src/com/intellij/openapi/ui/DialogPanel.kt" id="bd968217_32"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bd968217_33"  >DialogPanel</code></a> filled with components described inside the panel block. A panel consists of any number of rows marked with <code class="code " id="bd968217_34"  >row</code> tag created vertically from top to bottom.</p><p id="bd968217_35" >Every row consists of cells where the last cell in a row occupies the remaining width. Inside one row, cells are added from left to right in the same order calls to factory methods or <code class="code " id="bd968217_36"  >cell()</code> appear in each row. Cells can contain one component or a sub-panel.</p><p id="bd968217_37" >If there are unoccupied cells at the end of a row, they are merged into one cell with the last non-empty cell.</p></section><section class="chapter"  ><h2 id="panel" data-toc="panel"  >Panel</h2><p id="bd968217_38" ><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/ui/dsl/builder/Panel.kt" id="bd968217_39"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bd968217_40"  >Panel</code></a> is the start interface for building content. It can consist of several rows and different UI groups.</p><section class="chapter"  ><h3 id="panelrow" data-toc="panelrow"  >Panel.row</h3><p id="bd968217_41" >Adds row with the label if present.</p></section><section class="chapter"  ><h3 id="panelindent" data-toc="panelindent"  >Panel.indent</h3><p id="bd968217_42" ><span class="control" id="bd968217_43" >UI DSL Showcase Tab</span>: Gaps (Sources: <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/internal/ui/uiDslShowcase/DemoGaps.kt" id="bd968217_44"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bd968217_45"  >DemoGaps</code></a>)</p><p id="bd968217_46" >Adds standard left indent:</p><div class="code-block" data-lang="kotlin"         >
row {
  label(&quot;Not indented row&quot;)
}
indent {
  row {
    label(&quot;Indented row&quot;)
  }
}
</div></section><section class="chapter"  ><h3 id="panelseparator" data-toc="panelseparator"  >Panel.separator</h3><p id="bd968217_48" ><span class="control" id="bd968217_49" >UI DSL Showcase Tab</span>: Groups (Sources: <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/internal/ui/uiDslShowcase/DemoGroups.kt" id="bd968217_50"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bd968217_51"  >DemoGroups</code></a>)</p><p id="bd968217_52" >Adds horizontal line separator with an optional title.</p></section><section class="chapter"  ><h3 id="panelpanel" data-toc="panelpanel"  >Panel.panel</h3><p id="bd968217_53" >Creates a sub-panel that occupies the whole width and uses its own grid inside.</p></section><section class="chapter"  ><h3 id="panelrowsrange" data-toc="panelrowsrange"  >Panel.rowsRange</h3><p id="bd968217_54" >Creates grouped rows range to perform operations on them like <code class="code " id="bd968217_55"  >enabled</code>, <code class="code " id="bd968217_56"  >enabledIf</code> etc. All rows use the parent grid.</p></section><section class="chapter"  ><h3 id="panelgroup" data-toc="panelgroup"  >Panel.group</h3><p id="bd968217_57" ><span class="control" id="bd968217_58" >UI DSL Showcase Tab</span>: Groups (Sources: <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/internal/ui/uiDslShowcase/DemoGroups.kt" id="bd968217_59"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bd968217_60"  >DemoGroups</code></a>)</p><p id="bd968217_61" >Adds a panel with an independent grid, optional title, and some vertical space above and below the group.</p><div class="code-block" data-lang="kotlin"         >
group(&quot;Title&quot;) {
  row(&quot;Row:&quot;) {
    textField()
  }
}
</div></section><section class="chapter"  ><h3 id="panelgrouprowsrange" data-toc="panelgrouprowsrange"  >Panel.groupRowsRange</h3><p id="bd968217_63" >Similar to <code class="code " id="bd968217_64"  >Panel.group()</code> method but uses the same grid as the parent.</p></section><section class="chapter"  ><h3 id="panelcollapsiblegroup" data-toc="panelcollapsiblegroup"  >Panel.collapsibleGroup</h3><p id="bd968217_65" ><span class="control" id="bd968217_66" >UI DSL Showcase Tab</span>: Groups (Sources: <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/internal/ui/uiDslShowcase/DemoGroups.kt" id="bd968217_67"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bd968217_68"  >DemoGroups</code></a>)</p><p id="bd968217_69" >Adds collapsible panel with independent grid, title, and some vertical space above and below the group.</p><div class="code-block" data-lang="kotlin"         >
collapsibleGroup(&quot;Title&quot;) {
  row(&quot;Row:&quot;) {
    textField()
  }
}
</div></section><section class="chapter"  ><h3 id="panelbuttonsgroup" data-toc="panelbuttonsgroup"  >Panel.buttonsGroup</h3><p id="bd968217_71" ><span class="control" id="bd968217_72" >UI DSL Showcase Tab</span>: Groups (Sources: <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/internal/ui/uiDslShowcase/DemoGroups.kt" id="bd968217_73"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bd968217_74"  >DemoGroups</code></a>)</p><p id="bd968217_75" >Unions <code class="code " id="bd968217_76"  >Row.radioButton</code> in one group. Must also be used for <code class="code " id="bd968217_77"  >Row.checkBox</code> if these are grouped with some title.</p><div class="code-block" data-lang="kotlin"         >
var value = true
buttonsGroup(&quot;Panel.buttonsGroup:&quot;) {
 row {
  radioButton(&quot;true&quot;, true)
 }
 row {
  radioButton(&quot;false&quot;, false)
 }
}.bind({ value }, { value = it })
</div></section><section class="chapter"  ><h3 id="panelonapplyonresetonismodified" data-toc="panelonapplyonresetonismodified"  >Panel.onApply/onReset/onIsModified</h3><p id="bd968217_79" >Registers callbacks that will be called from <code class="code " id="bd968217_80"  >DialogPanel.apply()</code>/<code class="code " id="bd968217_81"  >reset()</code>/<code class="code " id="bd968217_82"  >isModified()</code> methods.</p></section></section><section class="chapter"  ><h2 id="row" data-toc="row"  >Row</h2><p id="bd968217_83" >Every row is represented by the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/ui/dsl/builder/Row.kt" id="bd968217_84"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bd968217_85"  >Row</code></a> interface. It contains all available factory methods for creating components (like <code class="code " id="bd968217_86"  >button()</code>, <code class="code " id="bd968217_87"  >label()</code>, <code class="code " id="bd968217_88"  >textField()</code>, etc.) and methods for row configuration.</p><section class="chapter"  ><h3 id="rowlayout" data-toc="rowlayout"  >Row.layout</h3><p id="bd968217_89" ><span class="control" id="bd968217_90" >UI DSL Showcase Tab</span>: Row Layout (Sources: <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/internal/ui/uiDslShowcase/DemoRowLayout.kt" id="bd968217_91"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bd968217_92"  >DemoRowLayout</code></a>)</p><p id="bd968217_93" >There are three possible layouts:</p><ul class="list _ul" id="bd968217_94"    ><li class="list__item" id="bd968217_95" ><p><code class="code " id="bd968217_96"  >INDEPENDENT</code>: all cells of the row (including label if present) independent of the parent grid. That means this row has its own grid.</p></li><li class="list__item" id="bd968217_97" ><p><code class="code " id="bd968217_98"  >LABEL_ALIGNED</code>: label is aligned with the parent grid, other components independent of the parent grid.</p></li><li class="list__item" id="bd968217_99" ><p><code class="code " id="bd968217_100"  >PARENT_GRID</code>: all components, including label (if present), are in the parent grid.</p></li></ul><p id="bd968217_101" >The default value is <code class="code " id="bd968217_102"  >LABEL_ALIGNED</code> when a label is provided for the row, <code class="code " id="bd968217_103"  >INDEPENDENT</code> otherwise.</p><div class="code-block" data-lang="kotlin"         >
row(&quot;Label:&quot;) {
  textField()
}
row(&quot;Long label:&quot;) {
  textField()
}
</div><p id="bd968217_105" >Here both labels are aligned together because rows have <code class="code " id="bd968217_106"  >LABEL_ALIGNED</code> by default. If an independent layout is needed, then <code class="code " id="bd968217_107"  >INDEPENDENT</code> layout should be used:</p><div class="code-block" data-lang="kotlin"         >
row(&quot;Long label:&quot;) {
  textField()
}.layout(RowLayout.INDEPENDENT)
</div></section><section class="chapter"  ><h3 id="rowresizablerow" data-toc="rowresizablerow"  >Row.resizableRow</h3><p id="bd968217_109" >The row becomes resizable and occupies all vertical free space. For several resizable rows, extra free space is divided between rows equally.</p></section><section class="chapter"  ><h3 id="rowrowcomment" data-toc="rowrowcomment"  >Row.rowComment</h3><p id="bd968217_110" ><span class="control" id="bd968217_111" >UI DSL Showcase Tab</span>: Comments (Sources: <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/internal/ui/uiDslShowcase/DemoComments.kt" id="bd968217_112"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bd968217_113"  >DemoComments</code></a>)</p><p id="bd968217_114" >Adds comment after the row with appropriate color and font. Visibility and enabled state of the row affects row comment as well.</p></section><section class="chapter"  ><h3 id="rowcell" data-toc="rowcell"  >Row.cell</h3><p id="bd968217_115" >Adds <code class="code " id="bd968217_116"  >component</code>. Use it only for custom specific components, all standard components like <code class="code " id="bd968217_117"  >label()</code>, <code class="code " id="bd968217_118"  >button()</code>, <code class="code " id="bd968217_119"  >checkbox()</code> etc. are covered by dedicated <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/ui/dsl/builder/Row.kt" id="bd968217_120"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bd968217_121"  >Row</code></a> factory methods.</p><p id="bd968217_122" >For example, there is no method for password field so that the following code can be used:</p><div class="code-block" data-lang="kotlin"         >
val passwordField = JPasswordField()
row {
  cell(passwordField)
}
</div></section><section class="chapter"  ><h3 id="rowscrollcell-component" data-toc="rowscrollcell-component"  >Row.scrollCell(component)</h3><p id="bd968217_124" >Adds <code class="code " id="bd968217_125"  >component</code> wrapped with <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-api/src/com/intellij/ui/components/JBScrollPane.java" id="bd968217_126"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bd968217_127"  >JBScrollPane</code></a>.</p></section><section class="chapter"  ><h3 id="rowtopgapbottomgap" data-toc="rowtopgapbottomgap"  >Row.topGap/bottomGap</h3><p id="bd968217_128" >Adds additional gap above/below the current row. It is visible together with the row. By default, <code class="code " id="bd968217_129"  >NONE</code> is used. Between unrelated settings, <code class="code " id="bd968217_130"  >SMALL</code> can be used. <code class="code " id="bd968217_131"  >MEDIUM</code> is used between groups and usually set automatically by <code class="code " id="bd968217_132"  >group()</code> method and similar ones.</p></section><section class="chapter"  ><h3 id="rowvisibleenabled" data-toc="rowvisibleenabled"  >Row.visible/enabled</h3><p id="bd968217_133" ><span class="control" id="bd968217_134" >UI DSL Showcase Tab</span>: Enabled/Visible (Sources: <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/internal/ui/uiDslShowcase/DemoAvailability.kt" id="bd968217_135"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bd968217_136"  >DemoAvailability</code></a>)</p><p id="bd968217_137" >Sets visibility/enabled state of the row, including row comment (see <code class="code " id="bd968217_138"  >Row.rowComment</code>) and all children recursively. The row is invisible/disabled if there is an invisible/disabled parent.</p></section><section class="chapter"  ><h3 id="rowvisibleifenabledif" data-toc="rowvisibleifenabledif"  >Row.visibleIf/enabledIf</h3><p id="bd968217_139" ><span class="control" id="bd968217_140" >UI DSL Showcase Tab</span>: Enabled/Visible (Sources: <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/internal/ui/uiDslShowcase/DemoAvailability.kt" id="bd968217_141"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bd968217_142"  >DemoAvailability</code></a>)</p><p id="bd968217_143" >Binds row visibility/enabled state to the provided predicate. Below is an example of a checkbox whose enabled state depends on another checkbox:</p><div class="code-block" data-lang="kotlin"         >
lateinit var checkBox: Cell&lt;JBCheckBox&gt;
row {
  checkBox = checkBox(&quot;Check to enable option&quot;)
}
row {
  checkBox(&quot;Option 1&quot;)
}.enabledIf(checkBox.selected)
</div></section><section class="chapter"  ><h3 id="rowpanel" data-toc="rowpanel"  >Row.panel</h3><p id="bd968217_145" ><span class="control" id="bd968217_146" >UI DSL Showcase Tab</span>: Groups (Sources: <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/internal/ui/uiDslShowcase/DemoGroups.kt" id="bd968217_147"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bd968217_148"  >DemoGroups</code></a>)</p><p id="bd968217_149" >Creates a sub-panel inside the cell of the row. The panel contains its own set of rows and cells. For example, it is possible to create several columns by creating a row with several panels inside.</p></section></section><section class="chapter"  ><h2 id="cell" data-toc="cell"  >Cell</h2><p id="bd968217_150" >Every component in the UI DSL builder is wrapped into <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/ui/dsl/builder/Cell.kt" id="bd968217_151"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bd968217_152"  >Cell</code></a> class. Standard components should not be created directly but with factory methods from <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/ui/dsl/builder/Row.kt" id="bd968217_153"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bd968217_154"  >Row</code></a> class like <code class="code " id="bd968217_155"  >checkBox()</code>, <code class="code " id="bd968217_156"  >button()</code> and others because of additional functionality, e.g. <code class="code " id="bd968217_157"  >textField()</code> is configured with columns width, radio buttons are placed into radio buttons groups.</p><section class="chapter"  ><h3 id="cellcomponent" data-toc="cellcomponent"  >Cell.component</h3><p id="bd968217_158" ><code class="code " id="bd968217_159"  >JComponent</code> that occupies the cell.</p></section><section class="chapter"  ><h3 id="cellhorizontalalignverticalalign" data-toc="cellhorizontalalignverticalalign"  >Cell.horizontalAlign/verticalAlign</h3><p id="bd968217_160" >Sets horizontal/vertical alignment of content inside the cell.</p><div class="code-block" data-lang="kotlin"         >
row(&quot;Row:&quot;) {
  textField()
    .horizontalAlign(HorizontalAlign.FILL)
}
</div></section><section class="chapter"  ><h3 id="cellresizablecolumn" data-toc="cellresizablecolumn"  >Cell.resizableColumn</h3><p id="bd968217_162" ><span class="control" id="bd968217_163" >UI DSL Showcase Tab</span>: Tips (Sources: <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/internal/ui/uiDslShowcase/DemoTips.kt" id="bd968217_164"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bd968217_165"  >DemoTips</code></a>)</p><p id="bd968217_166" >Marks column of the cell as resizable: the column occupies all extra horizontal space in panel and changes size together with the panel. It's possible to have several resizable columns, which means extra space is shared between them. There is no need to set resizable for cells in different rows but in the same column: it has no additional effect. Note that the size and placement of components in columns are managed by <code class="code " id="bd968217_167"  >horizontalAlign</code>.</p><div class="code-block" data-lang="kotlin"         >
row(&quot;Row&quot;) {
  textField()
    .resizableColumn()
  link(&quot;Config...&quot;) {}
}
</div></section><section class="chapter"  ><h3 id="cellgap" data-toc="cellgap"  >Cell.gap</h3><p id="bd968217_169" ><span class="control" id="bd968217_170" >UI DSL Showcase Tab</span>: Gaps (Sources: <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/internal/ui/uiDslShowcase/DemoGaps.kt" id="bd968217_171"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bd968217_172"  >DemoGaps</code></a>)</p><p id="bd968217_173" >Separates the next cell in the current row with <code class="code " id="bd968217_174"  >rightGap</code>. <code class="code " id="bd968217_175"  >RightGap.SMALL</code> gap is set after row label automatically by <code class="code " id="bd968217_176"  >Panel.row()</code> methods.</p><p id="bd968217_177" >Below are some cases where <code class="code " id="bd968217_178"  >RightGap.SMALL</code> should be used:</p><div class="code-block" data-lang="kotlin"         >
row {
  val checkBox = checkBox(&quot;Use mail:&quot;)
                  .gap(RightGap.SMALL)
  textField()
}
row(&quot;Width:&quot;) {
  textField()
    .gap(RightGap.SMALL)
  label(&quot;pixels&quot;)
}
</div></section><section class="chapter"  ><h3 id="cellvisibleenabled" data-toc="cellvisibleenabled"  >Cell.visible/enabled</h3><p id="bd968217_180" ><span class="control" id="bd968217_181" >UI DSL Showcase Tab</span>: Enabled/Visible (Sources: <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/internal/ui/uiDslShowcase/DemoAvailability.kt" id="bd968217_182"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bd968217_183"  >DemoAvailability</code></a>)</p><p id="bd968217_184" >Sets visibility/enabled state of the cell and all children recursively. The cell is invisible/disabled if there is an invisible/disabled parent.</p></section><section class="chapter"  ><h3 id="cellvisibleifenabledif" data-toc="cellvisibleifenabledif"  >Cell.visibleIf/enabledIf</h3><p id="bd968217_185" ><span class="control" id="bd968217_186" >UI DSL Showcase Tab</span>: Enabled/Visible (Sources: <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/internal/ui/uiDslShowcase/DemoAvailability.kt" id="bd968217_187"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bd968217_188"  >DemoAvailability</code></a>)</p><p id="bd968217_189" >Binds cell visibility/enabled state to the provided predicate.</p><div class="code-block" data-lang="kotlin"         >
row {
  val mailCheckBox = checkBox(&quot;Use mail:&quot;)
                      .gap(RightGap.SMALL)
  textField()
    .enabledIf(mailCheckBox.selected)
}
</div></section><section class="chapter"  ><h3 id="cellcomment" data-toc="cellcomment"  >Cell.comment</h3><p id="bd968217_191" ><span class="control" id="bd968217_192" >UI DSL Showcase Tab</span>: Comments (Sources: <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/internal/ui/uiDslShowcase/DemoComments.kt" id="bd968217_193"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bd968217_194"  >DemoComments</code></a>)</p><p id="bd968217_195" >Adds comment under the cell aligned by left edge with appropriate color and font size (macOS uses smaller font). Comment can contain HTML tags except <code class="code " id="bd968217_196"  >&lt;html&gt;</code>, which is added automatically. The comment occupies the available width before the following comment (if present) or the whole remaining width. Visibility and enabled state of the cell affect comment as well.</p><div class="code-block" data-lang="kotlin"         >
row(&quot;Label:&quot;) {
  textField()
    .comment(&quot;Comment for textField&quot;)
}
</div></section><section class="chapter"  ><h3 id="celllabel" data-toc="celllabel"  >Cell.label</h3><p id="bd968217_198" ><span class="control" id="bd968217_199" >UI DSL Showcase Tab</span>: Components Labels (Sources: <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/internal/ui/uiDslShowcase/DemoComponentLabels.kt" id="bd968217_200"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bd968217_201"  >DemoComponentLabels</code></a>)</p><p id="bd968217_202" >Adds label at the specified position. <code class="code " id="bd968217_203"  >LabelPosition.TOP</code> labels occupy available width before the next top label (if present) or the whole remaining width. Visibility and enabled state of the cell affect the label as well.</p><div class="code-block" data-lang="kotlin"         >
row {
  textField()
    .label(&quot;Cell label on top:&quot;, LabelPosition.TOP)
}
</div></section><section class="chapter"  ><h3 id="cellonapplyonresetonismodified" data-toc="cellonapplyonresetonismodified"  >Cell.onApply/onReset/onIsModified</h3><p id="bd968217_205" >Registers callbacks that will be called for component from <code class="code " id="bd968217_206"  >DialogPanel.apply()</code>/<code class="code " id="bd968217_207"  >reset()</code>/<code class="code " id="bd968217_208"  >isModified()</code> methods.</p></section></section><section class="chapter"  ><h2 id="placeholder" data-toc="placeholder"  >Placeholder</h2><p id="bd968217_209" >Used as a reserved cell in the layout. It can be created by <code class="code " id="bd968217_210"  >Row.placeholder()</code> method and populated by content later via component property or reset to <code class="code " id="bd968217_211"  >null</code>.</p></section><section class="chapter"  ><h2 id="bindings" data-toc="bindings"  >Bindings</h2><p id="bd968217_212" >It is possible to bind component values to properties with the following methods.</p><section class="chapter"  ><h3 id="cellgraphproperty" data-toc="cellgraphproperty"  >Cell.graphProperty</h3><p id="bd968217_213" >Binds <code class="code " id="bd968217_214"  >component</code> value changing to property. The property is updated when the value is changed and is not related to <code class="code " id="bd968217_215"  >DialogPanel.apply()</code>. The method is rarely used directly. There are many extensions for specific components described in <a href="#cellbind" id="bd968217_216" data-tooltip="UI DSL Showcase Tab: Binding (Sources: DemoBinding)"  >Cell.bind</a>.</p></section><section class="chapter"  ><h3 id="cellbind" data-toc="cellbind"  >Cell.bind</h3><p id="bd968217_217" ><span class="control" id="bd968217_218" >UI DSL Showcase Tab</span>: Binding (Sources: <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/internal/ui/uiDslShowcase/DemoBinding.kt" id="bd968217_219"   data-external="true" rel="noopener noreferrer" ><code class="code " id="bd968217_220"  >DemoBinding</code></a>)</p><p id="bd968217_221" >Binds <code class="code " id="bd968217_222"  >component</code> value that is provided by <code class="code " id="bd968217_223"  >componentGet</code> and <code class="code " id="bd968217_224"  >componentSet</code> methods to specified binding property. The property is applied only when <code class="code " id="bd968217_225"  >DialogPanel.apply()</code> is invoked. Methods <code class="code " id="bd968217_226"  >DialogPanel.isModified()</code> and <code class="code " id="bd968217_227"  >DialogPanel.reset()</code> are also supported automatically for bound properties.</p><p id="bd968217_228" >The <code class="code " id="bd968217_229"  >bind()</code> method is rarely used directly. There are many extensions for specific components, see following example:</p><div class="code-block" data-lang="kotlin"         >
row {
  checkBox(&quot;Checkbox&quot;)
    .bindSelected(model::checkbox)
}
row(&quot;textField:&quot;) {
  textField()
    .bindText(model::textField)
}
row(&quot;intTextField(0..100):&quot;) {
  intTextField()
    .bindIntText(model::intTextField)
}
row(&quot;comboBox:&quot;) {
  comboBox(Color.values())
    .bindItem(model::comboBoxColor)
}
row(&quot;slider:&quot;) {
  slider(0, 100, 10, 50)
    .bindValue(model::slider)
}
row(&quot;spinner:&quot;) {
  spinner(0..100)
    .bindIntValue(model::spinner)
}
buttonsGroup(title = &quot;radioButton:&quot;) {
 for (value in Color.values()) {
  row {
   radioButton(value.name, value)
  }
 }
}.bind(model::radioButtonColor)
</div></section></section><section class="chapter"  ><h2 id="version-1-and-2-comparison" data-toc="version-1-and-2-comparison"  >Version 1 and 2 Comparison</h2><p id="bd968217_231" >In UI DSL version 2, some crucial problems from version 1 have been fixed, so porting is highly desirable. See <a href="#migration-from-version-1" id="bd968217_232" data-tooltip="New API is very similar to the old one and covers almost all functionality now, so moving to the new version can be done quickly."  >Migration from Version 1</a> on how to port existing UI DSL code from version 1 to version 2 API. Version 1 is deprecated and will be removed in future platform releases.</p><p id="bd968217_233" >The following significant changes were made:</p><ul class="list _ul" id="bd968217_234"    ><li class="list__item" id="bd968217_235" ><p>Reduced API, which allows conceiving API easier and faster. Example: there were 5 overloaded methods <code class="code " id="bd968217_236"  >Cell.checkBox()</code> in version 1, now only one method remains. Functionality for binding properties is extracted into <code class="code " id="bd968217_237"  >Cell&lt;T&gt;.bindSelected()</code> methods.</p></li><li class="list__item" id="bd968217_238" ><p>UI DSL became stricter, so the available API in every context is much smaller. Example: code like <code class="code " id="bd968217_239"  >row { row {</code> is forbidden now.</p></li><li class="list__item" id="bd968217_240" ><p>Structured API mostly based on interfaces, because it's easier to learn API by grouped methods. Only a small part of API is implemented as extensions.</p></li><li class="list__item" id="bd968217_241" ><p>KDoc is widely used.</p></li><li class="list__item" id="bd968217_242" ><p>MIG layout is fully removed from the new UI DSL and replaced by <code class="code " id="bd968217_243"  >GridLayout</code>. Because MIG layout is an external library, it's hard to fix bugs there (e.g., there are layout problems when components become invisible) and extend its functionality. Fixed focus ring cropping problems: when components are placed near the panel border focus ring could be cropped if panel insets do not specify enough space.</p></li><li class="list__item" id="bd968217_244" ><p>Implemented <a href="#placeholder" id="bd968217_245" data-tooltip="Used as a reserved cell in the layout. It can be created by Row.placeholder() method and populated by content later via component property or reset to null."  >Placeholder</a> that allows replacing components at runtime after content is shown.</p></li></ul><section class="chapter"  ><h3 id="migration-from-version-1" data-toc="migration-from-version-1"  >Migration from Version 1</h3><p id="bd968217_246" >New API is very similar to the old one and covers almost all functionality now, so moving to the new version can be done quickly.</p><p id="bd968217_247" >Version 1 is placed in <code class="code " id="bd968217_248"  >com.intellij.ui.layout</code> package.</p><p id="bd968217_249" >Version 2 is placed in <code class="code " id="bd968217_250"  >com.intellij.ui.dsl.builder</code> package.</p><section class="procedure-steps"   ><h3 id="bd968217_251" data-toc="bd968217_251">Migration Steps</h3 ><ol class="list _decimal" id="bd968217_252"  type="1"  ><li class="list__item" id="bd968217_253" ><p>Having a screenshot or live version of the initial components layout can help</p></li><li class="list__item" id="bd968217_254" ><p>Remove imports of old UI DSL starting with <code class="code " id="bd968217_255"  >com.intellij.ui.layout</code></p></li><li class="list__item" id="bd968217_256" ><p>Go to the place where the panel is created and import new UI DSL <code class="code " id="bd968217_257"  >com.intellij.ui.dsl.builder</code> suggested by IntelliJ IDEA</p></li><li class="list__item" id="bd968217_258" ><p>Update non-compilable code, using the following table</p></li></ol><ol class="list _decimal"></ol></section><div class="table-wrapper" ><table class=" wide" id="bd968217_259"  ><thead><tr class=" ijRowHead" id="bd968217_260" ><th id="bd968217_261"    ><p>Version 1</p></th><th id="bd968217_262"    ><p>Version 2</p></th></tr></thead><tbody ><tr class="" id="bd968217_263" ><td id="bd968217_264"    ><p><code class="code " id="bd968217_265"  >row { row {</code></p></td><td id="bd968217_266"    ><p><code class="code " id="bd968217_267"  >indent { row {</code></p></td></tr><tr class="" id="bd968217_268" ><td id="bd968217_269"    ><p><code class="code " id="bd968217_270"  >row { cell(isFullWidth = true)</code></p></td><td id="bd968217_271"    ><p><code class="code " id="bd968217_272"  >row {</code></p></td></tr><tr class="" id="bd968217_273" ><td id="bd968217_274"    ><p><code class="code " id="bd968217_275"  >fullRow {</code></p></td><td id="bd968217_276"    ><p><code class="code " id="bd968217_277"  >row {</code></p></td></tr><tr class="" id="bd968217_278" ><td id="bd968217_279"    ><p><code class="code " id="bd968217_280"  >titledRow(…) {</code></p></td><td id="bd968217_281"    ><p><code class="code " id="bd968217_282"  >group(…) {</code></p></td></tr><tr class="" id="bd968217_283" ><td id="bd968217_284"    ><p><code class="code " id="bd968217_285"  >hideableRow</code></p></td><td id="bd968217_286"    ><p><code class="code " id="bd968217_287"  >collapsibleGroup</code></p></td></tr><tr class="" id="bd968217_288" ><td id="bd968217_289"    ><p><code class="code " id="bd968217_290"  >cell</code> used as sub-grid</p></td><td id="bd968217_291"    ><p><code class="code " id="bd968217_292"  >row { panel { … } }</code></p></td></tr><tr class="" id="bd968217_293" ><td id="bd968217_294"    ><p><code class="code " id="bd968217_295"  >component(…)</code> or its invocation via <code class="code " id="bd968217_296"  >()</code></p></td><td id="bd968217_297"    ><p><code class="code " id="bd968217_298"  >cell(…)</code></p></td></tr><tr class="" id="bd968217_299" ><td id="bd968217_300"    ><p><code class="code " id="bd968217_301"  >enableIf</code></p></td><td id="bd968217_302"    ><p><code class="code " id="bd968217_303"  >enabledIf</code></p></td></tr><tr class="" id="bd968217_304" ><td id="bd968217_305"    ><p><code class="code " id="bd968217_306"  >checkBox(text, bindOptions)</code></p></td><td id="bd968217_307"    ><p><code class="code " id="bd968217_308"  >checkBox(text).bindSelected(bindOptions)</code></p></td></tr><tr class="" id="bd968217_309" ><td id="bd968217_310"    ><p><code class="code " id="bd968217_311"  >radioButton(text, bindOptions)</code></p></td><td id="bd968217_312"    ><p><code class="code " id="bd968217_313"  >radioButton(text).bindSelected(bindOptions)</code></p></td></tr><tr class="" id="bd968217_314" ><td id="bd968217_315"    ><p><code class="code " id="bd968217_316"  >comboBox(…, bindOptions)</code></p></td><td id="bd968217_317"    ><p><code class="code " id="bd968217_318"  >comboBox(text).bindItem(bindOptions)</code></p></td></tr><tr class="" id="bd968217_319" ><td id="bd968217_320"    ><p><code class="code " id="bd968217_321"  >textField(bindOptions, columns)</code></p></td><td id="bd968217_322"    ><p><code class="code " id="bd968217_323"  >textField().bindText(bindOptions).columns(columns)</code></p></td></tr><tr class="" id="bd968217_324" ><td id="bd968217_325"    ><p><code class="code " id="bd968217_326"  >scrollableTextArea(bindOptions, rows, columns)</code></p></td><td id="bd968217_327"    ><p><code class="code " id="bd968217_328"  >textArea().bindText(bindOptions).rows(rows).columns(columns)</code></p></td></tr><tr class="" id="bd968217_329" ><td id="bd968217_330"    ><p><code class="code " id="bd968217_331"  >intTextField(bindOptions, columns, range, step)</code></p></td><td id="bd968217_332"    ><p><code class="code " id="bd968217_333"  >intTextField(range, step).bindIntText(bindOptions).columns(columns)</code></p></td></tr><tr class="" id="bd968217_334" ><td id="bd968217_335"    ><p><code class="code " id="bd968217_336"  >textFieldWithBrowseButton(bindOptions, …)</code></p></td><td id="bd968217_337"    ><p><code class="code " id="bd968217_338"  >textFieldWithBrowseButton(…).bindText(bindOptions)</code></p></td></tr><tr class="" id="bd968217_339" ><td id="bd968217_340"    ><p><code class="code " id="bd968217_341"  >.growPolicy(GrowPolicy.COLUMNS_SHORT)</code></p></td><td id="bd968217_342"    ><p><code class="code " id="bd968217_343"  >.columns(SHORT_TEXT)</code></p></td></tr><tr class="" id="bd968217_344" ><td id="bd968217_345"    ><p><code class="code " id="bd968217_346"  >.growPolicy(GrowPolicy.MEDIUM_TEXT)</code></p></td><td id="bd968217_347"    ><p><code class="code " id="bd968217_348"  >.columns(COLUMNS_MEDIUM)</code></p></td></tr><tr class="" id="bd968217_349" ><td id="bd968217_350"    ><p><code class="code " id="bd968217_351"  >label(…, bold = true)</code></p></td><td id="bd968217_352"    ><p><code class="code " id="bd968217_353"  >label(…).bold()</code></p></td></tr><tr class="" id="bd968217_354" ><td id="bd968217_355"    ><p><code class="code " id="bd968217_356"  >withLeftGap()</code></p></td><td id="bd968217_357"    ><p>For previous left cell use <code class="code " id="bd968217_358"  >Cell.gap(SMALL)</code></p></td></tr><tr class="" id="bd968217_359" ><td id="bd968217_360"    ><p><code class="code " id="bd968217_361"  >withLeftGap(gapLeft)</code></p></td><td id="bd968217_362"    ><p>Please do not use custom gaps if possible</p></td></tr><tr class="" id="bd968217_363" ><td id="bd968217_364"    ><p><code class="code " id="bd968217_365"  >withLargeLeftGap()</code></p></td><td id="bd968217_366"    ><p>Not needed, this gap is set by default</p></td></tr><tr class="" id="bd968217_367" ><td id="bd968217_368"    ><p><code class="code " id="bd968217_369"  >withValidationOnInput</code></p></td><td id="bd968217_370"    ><p><code class="code " id="bd968217_371"  >validationOnInput</code></p></td></tr><tr class="" id="bd968217_372" ><td id="bd968217_373"    ><p><code class="code " id="bd968217_374"  >withValidationOnApply</code></p></td><td id="bd968217_375"    ><p><code class="code " id="bd968217_376"  >validationOnApply</code></p></td></tr><tr class="" id="bd968217_377" ><td id="bd968217_378"    ><p><code class="code " id="bd968217_379"  >withErrorOnApplyIf</code></p></td><td id="bd968217_380"    ><p><code class="code " id="bd968217_381"  >errorOnApply</code></p></td></tr><tr class="" id="bd968217_382" ><td id="bd968217_383"    ><p><code class="code " id="bd968217_384"  >withBinding</code></p></td><td id="bd968217_385"    ><p><code class="code " id="bd968217_386"  >bind</code></p></td></tr></tbody ></table ></div></section></section><div class="last-modified"> Last modified: 25 九月 2022</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="dialog-wrapper.html">Dialogs</a>   <a class="navigation-links__next" href="kotlin-ui-dsl.html">Kotlin UI DSL Version 1</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/storage/help-app/v5/app.js"></script></body></html>