<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2022-09-29T19:15:56.7542335"><meta name="build-number" content="${buildNumber}">    <meta name="keywords" content="">  <title>Extension Points | IntelliJ Platform Plugin SDK</title><script id="virtual-toc-data" type="application/json">[{"id":"declaring-extension-points","level":0,"title":"Declaring Extension Points","anchor":"#declaring-extension-points"},{"id":"using-extension-points","level":0,"title":"Using Extension Points","anchor":"#using-extension-points"},{"id":"dynamic-extension-points","level":0,"title":"Dynamic Extension Points","anchor":"#dynamic-extension-points"}]</script>   <link href="https://resources.jetbrains.com/storage/help-app/v5/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Extension Points | IntelliJ Platform Plugin SDK"/><meta property="og:description" content=""/><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"/><meta property="og:site_name" content="IntelliJ Platform Plugin SDK Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@JBPlatform"><meta name="twitter:title" content="Extension Points | IntelliJ Platform Plugin SDK"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@JBPlatform"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html#webpage", "url": "https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html", "name": "Extension Points | IntelliJ Platform Plugin SDK", "description": "", "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://plugins.jetbrains.com/docs/intellij/#website", "url": "https://plugins.jetbrains.com/docs/intellij/", "name": "IntelliJ Platform Plugin SDK Help" }</script><!-- End Schema.org --></head>    <body data-id="plugin_extension_points.md" data-main-title="Extension Points" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Part I — 插件///plugin_structure.md|Plugin Structure"  data-edit-url="https://github.com/JetBrains/intellij-sdk-docs/edit/main/topics/basics/plugin_structure/plugin_extension_points.md"  >  <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ Platform Plugin SDK  Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">      </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="plugin_extension_points.md" id="plugin_extension_points.md"  >Extension Points</h1><aside data-type="tip" class="prompt" data-title="" id="de56940d_100" ><p id="de56940d_101" >See <a href="plugin-extensions.html" id="de56940d_102" data-tooltip="Extensions are the most common way of customizing functionality in the IDE."  >Plugin Extensions</a> for <span class="emphasis" id="de56940d_103" >using</span> extension points in your plugin.</p></aside><p id="de56940d_104" >By defining <span class="emphasis" id="de56940d_105" >extension points</span> in your plugin, you can allow other plugins to extend your plugin's functionality. There are two types of extension points:</p><ul class="list _ul" id="de56940d_106"    ><li class="list__item" id="de56940d_107" ><p><span class="emphasis" id="de56940d_108" >Interface</span> extension points allow other plugins to extend your plugins with <span class="emphasis" id="de56940d_109" >code</span>. When you define an interface extension point, you specify an interface, and other plugins will provide classes implementing that interface. You'll then be able to invoke methods on those interfaces.</p></li><li class="list__item" id="de56940d_110" ><p><span class="emphasis" id="de56940d_111" >Bean</span> extension points allow other plugins to extend your plugins with <span class="emphasis" id="de56940d_112" >data</span>. You specify the fully qualified name of an extension class, and other plugins will provide data that will be turned into instances of that class.</p></li></ul><section class="chapter"  ><h2 id="declaring-extension-points" data-toc="declaring-extension-points"  >Declaring Extension Points</h2><p id="de56940d_113" >You can declare extensions and extension points in the plugin configuration file <span class="filepath" id="de56940d_114" ><a href="plugin-configuration-file.html" id="de56940d_115" data-tooltip="Plugin configuration file contains all the information about the plugin, as well as all registered extensions, actions, listeners, etc."  >plugin.xml</a></span>, within the <a href="plugin-configuration-file.html#idea-plugin__extensions" id="de56940d_116" data-tooltip="Defines the plugin extensions."  ><code class="code " id="de56940d_117"  >&lt;extensions&gt;</code></a> and <a href="plugin-configuration-file.html#idea-plugin__extensionPoints" id="de56940d_118" data-tooltip="Extension points defined by the plugin."  ><code class="code " id="de56940d_119"  >&lt;extensionPoints&gt;</code></a> sections.</p><p id="de56940d_120" >To declare extension points in your plugin, add an <code class="code " id="de56940d_121"  >&lt;extensionPoints&gt;</code> section to your <span class="filepath" id="de56940d_122" >plugin.xml</span>. Then insert a child element <a href="plugin-configuration-file.html#idea-plugin__extensionPoints__extensionPoint" id="de56940d_123" data-tooltip="A single extension point entry of the <extensionPoints> defined by the plugin. A single <extensionPoints> element can contain multiple <extensionPoint> elements."  ><code class="code " id="de56940d_124"  >&lt;extensionPoint&gt;</code></a> that defines the extension point name and the name of a bean class or an interface that is allowed to extend the plugin functionality in the <code class="code " id="de56940d_125"  >name</code>, <code class="code " id="de56940d_126"  >beanClass</code> and <code class="code " id="de56940d_127"  >interface</code> attributes, respectively.</p><p id="de56940d_128" ><span class="filepath" id="de56940d_129" >myPlugin/META-INF/plugin.xml</span></p><div class="code-block" data-lang="markup"         >
&lt;idea-plugin&gt;
  &lt;id&gt;my.plugin&lt;/id&gt;

  &lt;extensionPoints&gt;
    &lt;extensionPoint
        name=&quot;myExtensionPoint1&quot;
        beanClass=&quot;com.example.MyBeanClass&quot;/&gt;

    &lt;extensionPoint
        name=&quot;myExtensionPoint2&quot;
        interface=&quot;com.example.MyInterface&quot;/&gt;
  &lt;/extensionPoints&gt;

&lt;/idea-plugin&gt;
</div><p id="de56940d_131" >The <code class="code " id="de56940d_132"  >name</code> attribute assigns a unique name for this extension point. Its fully qualified name required in <a href="#using-extension-points" id="de56940d_133" data-tooltip="To refer to all registered extension instances at runtime, declare an ExtensionPointName passing in the fully-qualified name matching its declaration in plugin.xml."  >Using Extension Points</a> is built by prefixing <a href="plugin-configuration-file.html#idea-plugin__id" id="de56940d_134" data-tooltip="A unique identifier of the plugin. It should be a fully qualified name similar to Java packages and must not collide with the ID of existing plugins. The ID is a technical value used to identify the plugin in the IDE and JetBrains Marketplace."  ><code class="code " id="de56940d_135"  >&lt;id&gt;</code></a> + <code class="code " id="de56940d_136"  >.</code>: <code class="code " id="de56940d_137"  >my.plugin.myExtensionPoint1</code> and <code class="code " id="de56940d_138"  >my.plugin.myExtensionPoint2</code>.</p><p id="de56940d_139" >The <code class="code " id="de56940d_140"  >beanClass</code> attribute sets a bean class that specifies one or several properties annotated with the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/util/src/com/intellij/util/xmlb/annotations/Attribute.java" id="de56940d_141"   data-external="true" rel="noopener noreferrer" ><code class="code " id="de56940d_142"  >@Attribute</code></a> annotation. Note that bean classes do not follow the JavaBean standard.</p><p id="de56940d_143" >The <code class="code " id="de56940d_144"  >interface</code> attribute sets an interface the plugin that contributes to the extension point must implement.</p><p id="de56940d_145" >The <code class="code " id="de56940d_146"  >area</code> attribute determines the scope in which the extension will be instantiated. As extensions should be stateless, it is <span class="control" id="de56940d_147" >not</span> recommended to use non-default. Must be one of <code class="code " id="de56940d_148"  >IDEA_APPLICATION</code> for Application (default), <code class="code " id="de56940d_149"  >IDEA_PROJECT</code> for Project, or <code class="code " id="de56940d_150"  >IDEA_MODULE</code> for Module scope.</p><p id="de56940d_151" >The plugin that contributes to the extension point will read those properties from the <span class="filepath" id="de56940d_152" >plugin.xml</span> file.</p><aside data-type="tip" class="prompt" data-title="" id="de56940d_153" ><p id="de56940d_154" >See <a href="bundling-plugin-openapi-sources.html" id="de56940d_155" data-tooltip="If a plugin exposes its own API that is meant to be used by other plugins, it is worth considering bundling the plugin's API sources in the ZIP distribution."  >Bundling Plugin API Sources</a> section explaining how to expose extension points sources to other plugins.</p></aside><section class="chapter"  ><h3 id="sample" data-toc="sample"  >Sample</h3><p id="de56940d_156" >To clarify this, consider the following sample <code class="code " id="de56940d_157"  >MyBeanClass</code> bean class used in the above <span class="filepath" id="de56940d_158" >plugin.xml</span> file:</p><p id="de56940d_159" ><span class="filepath" id="de56940d_160" >myPlugin/src/com/myplugin/MyBeanClass.java</span></p><div class="code-block" data-lang="java"         >
public class MyBeanClass extends AbstractExtensionPointBean {

  @Attribute(&quot;key&quot;)
  public String key;

  @Attribute(&quot;implementationClass&quot;)
  public String implementationClass;

  public String getKey() {
    return key;
  }

  public String getClass() {
    return implementationClass;
  }
}
</div><aside data-type="tip" class="prompt" data-title="" id="de56940d_162" ><p id="de56940d_163" >See <a href="plugin-extensions.html#extension-properties-code-insight" id="de56940d_164" data-tooltip="Several tooling features are available to help configure bean class extension points in plugin.xml."  >Extension properties code insight</a> on how to provide smart completion/validation.</p></aside><p id="de56940d_165" >For above extension points usage in <span class="emphasis" id="de56940d_166" >anotherPlugin</span> would look like this (see also <a href="plugin-extensions.html#declaring-extensions" id="de56940d_167" data-tooltip="Auto-completion, Quick Documentation, and other code insight features are available on extension point tags and attributes."  >Declaring Extensions</a>):</p><p id="de56940d_168" ><span class="filepath" id="de56940d_169" >anotherPlugin/META-INF/plugin.xml</span></p><div class="code-block" data-lang="markup"         >
&lt;idea-plugin&gt;
  &lt;id&gt;another.plugin&lt;/id&gt;

  &lt;!-- Declare dependency on plugin defining extension point: --&gt;
  &lt;depends&gt;my.plugin&lt;/depends&gt;

  &lt;!-- Use &quot;my.plugin&quot; namespace: --&gt;
  &lt;extensions defaultExtensionNs=&quot;my.plugin&quot;&gt;
    &lt;myExtensionPoint1
        key=&quot;someKey&quot;
        implementationClass=&quot;another.some.implementation.class&quot;/&gt;

    &lt;myExtensionPoint2
        implementation=&quot;another.MyInterfaceImpl&quot;/&gt;
  &lt;/extension&gt;

&lt;/idea-plugin&gt;
</div></section></section><section class="chapter"  ><h2 id="using-extension-points" data-toc="using-extension-points"  >Using Extension Points</h2><p id="de56940d_171" >To refer to all registered extension instances at runtime, declare an <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/extensions/src/com/intellij/openapi/extensions/ExtensionPointName.java" id="de56940d_172"   data-external="true" rel="noopener noreferrer" ><code class="code " id="de56940d_173"  >ExtensionPointName</code></a> passing in the fully-qualified name matching its <a href="#declaring-extension-points" id="de56940d_174" data-tooltip="You can declare extensions and extension points in the plugin configuration file plugin.xml, within the <extensions> and <extensionPoints> sections."  >declaration in plugin.xml</a>.</p><p id="de56940d_175" ><span class="filepath" id="de56940d_176" >myPlugin/src/com/myplugin/MyExtensionUsingService.java</span></p><div class="code-block" data-lang="java"         >
public class MyExtensionUsingService {

  private static final ExtensionPointName&lt;MyBeanClass&gt; EP_NAME =
    ExtensionPointName.create(&quot;my.plugin.myExtensionPoint1&quot;);

  public void useExtensions() {
    for (MyBeanClass extension : EP_NAME.getExtensionList()) {
      String key = extension.getKey();
      String clazz = extension.getClass();
      // ...
    }
  }
}
</div><p id="de56940d_178" >A gutter icon for the <code class="code " id="de56940d_179"  >ExtensionPointName</code> declaration allows navigating to the corresponding <a href="plugin-configuration-file.html#idea-plugin__extensionPoints__extensionPoint" id="de56940d_180" data-tooltip="A single extension point entry of the <extensionPoints> defined by the plugin. A single <extensionPoints> element can contain multiple <extensionPoint> elements."  ><code class="code " id="de56940d_181"  >&lt;extensionPoint&gt;</code></a> declaration in <span class="filepath" id="de56940d_182" >plugin.xml</span>.</p></section><section class="chapter"  ><h2 id="dynamic-extension-points" data-toc="dynamic-extension-points"  >Dynamic Extension Points</h2><p id="de56940d_183" >To support <a href="dynamic-plugins.html" id="de56940d_184" data-tooltip="Starting with the 2020.1 release, installing, updating, and uninstalling plugins without restarting the IDE is available in the IntelliJ Platform."  >Dynamic Plugins</a> (2020.1 and later), an extension point must adhere to specific usage rules:</p><ul class="list _ul" id="de56940d_185"    ><li class="list__item" id="de56940d_186" ><p>extensions are enumerated on every use and extensions instances are not stored anywhere</p></li><li class="list__item" id="de56940d_187" ><p>alternatively, an <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/extensions/src/com/intellij/openapi/extensions/ExtensionPointListener.java" id="de56940d_188"   data-external="true" rel="noopener noreferrer" ><code class="code " id="de56940d_189"  >ExtensionPointListener</code></a> can perform necessary updates of data structures (register via <code class="code " id="de56940d_190"  >ExtensionPointName.addExtensionPointListener()</code>)</p></li></ul><p id="de56940d_191" >Extension points matching these conditions can then be marked as <span class="emphasis" id="de56940d_192" >dynamic</span> by adding <code class="code " id="de56940d_193"  >dynamic=&quot;true&quot;</code> in their declaration:</p><div class="code-block" data-lang="markup"         >
&lt;extensionPoints&gt;
  &lt;extensionPoint
      name=&quot;myDynamicExtensionPoint&quot;
      beanClass=&quot;com.example.MyBeanClass&quot;
      dynamic=&quot;true&quot;/&gt;
&lt;/extensionPoints&gt;
</div><aside data-type="tip" class="prompt" data-title="" id="de56940d_195" ><p id="de56940d_196" >All non-dynamic extension points are highlighted via <span class="control" id="de56940d_197" >Plugin DevKit | Plugin descriptor | Plugin.xml dynamic plugin verification</span> inspection available in IntelliJ IDEA 2020.1 or later. Previous versions also highlight the <code class="code " id="de56940d_198"  >dynamic</code> attribute as &quot;experimental&quot;.</p></aside></section><div class="last-modified"> Last modified: 29 九月 2022</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="plugin-listeners.html">Listeners</a>   <a class="navigation-links__next" href="plugin-components.html">Components</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/storage/help-app/v5/app.js"></script></body></html>