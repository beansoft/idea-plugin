<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2022-09-25T22:17:42.2008612"><meta name="build-number" content="${buildNumber}">    <meta name="keywords" content="">  <title>Incompatible Changes in IntelliJ Platform and Plugins API 2020.* | IntelliJ Platform Plugin SDK</title><script id="virtual-toc-data" type="application/json">[{"id":"20203","level":0,"title":"2020.3","anchor":"#20203"},{"id":"20202","level":0,"title":"2020.2","anchor":"#20202"},{"id":"20201","level":0,"title":"2020.1","anchor":"#20201"}]</script>   <link href="https://resources.jetbrains.com/storage/help-app/v5/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Incompatible Changes in IntelliJ Platform and Plugins API 2020.* | IntelliJ Platform Plugin SDK"/><meta property="og:description" content=""/><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"/><meta property="og:site_name" content="IntelliJ Platform Plugin SDK Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="https://plugins.jetbrains.com/docs/intellij/api-changes-list-2020.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@JBPlatform"><meta name="twitter:title" content="Incompatible Changes in IntelliJ Platform and Plugins API 2020.* | IntelliJ Platform Plugin SDK"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@JBPlatform"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://plugins.jetbrains.com/docs/intellij/api-changes-list-2020.html#webpage", "url": "https://plugins.jetbrains.com/docs/intellij/api-changes-list-2020.html", "name": "Incompatible Changes in IntelliJ Platform and Plugins API 2020.* | IntelliJ Platform Plugin SDK", "description": "", "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://plugins.jetbrains.com/docs/intellij/#website", "url": "https://plugins.jetbrains.com/docs/intellij/", "name": "IntelliJ Platform Plugin SDK Help" }</script><!-- End Schema.org --></head>    <body data-id="api_changes_list_2020.md" data-main-title="Incompatible Changes in IntelliJ Platform and Plugins API 2020.*" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Appendix II — API and Compatibility///api_changes_list.md|Incompatible API Changes"  data-edit-url="https://github.com/JetBrains/intellij-sdk-docs/edit/main/reference_guide/api_changes_list_2020.md"  >  <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ Platform Plugin SDK  Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">      </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="api_changes_list_2020.md" id="api_changes_list_2020.md"  >Incompatible Changes in IntelliJ Platform and Plugins API 2020.*</h1><p id="7a491cd0_1" >Please see <a href="verifying-plugin-compatibility.html" id="7a491cd0_2" data-tooltip="确保兼容性检查的工具"  >验证插件兼容性</a> on how to use Plugin Verifier and IDE inspections to check such problems.</p><aside data-type="tip" class="prompt" data-title="" id="7a491cd0_3" ><p id="7a491cd0_4" >Changes from API marked with <code class="code " id="7a491cd0_5"  >@Deprecated(forRemoval=true)</code> or any of <a href="https://github.com/JetBrains/java-annotations/blob/master/common/src/main/java/org/jetbrains/annotations/ApiStatus.java" id="7a491cd0_6"   data-external="true" rel="noopener noreferrer" ><code class="code " id="7a491cd0_7"  >org.jetbrains.annotations.ApiStatus</code></a> <code class="code " id="7a491cd0_8"  >@Experimental</code>, <code class="code " id="7a491cd0_9"  >@ScheduledForRemoval</code>, or <code class="code " id="7a491cd0_10"  >@Internal</code> are not listed here, as incompatible changes are to be expected.</p><p id="7a491cd0_11" >For API annotated with <code class="code " id="7a491cd0_12"  >ApiStatus.@Internal</code>, see <a href="api-internal.html" id="7a491cd0_13" data-tooltip="Lists private API annotated with ApiStatus.Internal and corresponding replacement."  >Internal API Migration</a> for more details and replacements.</p></aside><section class="chapter"  ><h2 id="20203" data-toc="20203"  >2020.3</h2><aside data-type="tip" class="prompt" data-title="" id="7a491cd0_14" ><p id="7a491cd0_15" >Java 11 is required (<a href="https://blog.jetbrains.com/platform/2020/09/intellij-project-migrates-to-java-11/" id="7a491cd0_16"   data-external="true" rel="noopener noreferrer" >blog post</a>) when targeting 2020.3 and later only.</p><p id="7a491cd0_17" >Please make sure to always upgrade <a href="tools-gradle-intellij-plugin.html" id="7a491cd0_18" data-tooltip="The Gradle IntelliJ Plugin is a plugin for the Gradle build system to help configuring your environment for building, testing, verifying, and publishing plugins for IntelliJ-based IDEs."  >Gradle IntelliJ Plugin</a> to the latest version <a href="https://github.com/jetbrains/gradle-intellij-plugin/releases" id="7a491cd0_19"   data-external="true" rel="noopener noreferrer" ><img alt="GitHub Release" title="GitHub Release" id="7a491cd0_20" src="https://img.shields.io/github/release/jetbrains/gradle-intellij-plugin.svg?style=flat-square"  class="inline-icon-"   /></a></p></aside><section class="chapter"  ><h3 id="intellij-platform-20203" data-toc="intellij-platform-20203"  >IntelliJ Platform 2020.3</h3><dl id="7a491cd0_21"  data-style="title-top"  ><dt id="7a491cd0_22"  data-expandable="false" >com.intellij.openapi.application.NonBlockingReadAction.finishOnUiThread method parameter type changed from Consumer<T> to Consumer<? super T></dt><dd><p>This may break source-compatibility with inheritors written in Kotlin.</p></dd><dt id="7a491cd0_27"  data-expandable="false" >com.intellij.openapi.diagnostic.ErrorReportSubmitter.submit method parameter type changed from Consumer<SubmittedReportInfo> to Consumer<? super SubmittedReportInfo></dt><dd><p>This may break source-compatibility with inheritors written in Kotlin.</p></dd><dt id="7a491cd0_32"  data-expandable="false" >com.intellij.execution.ui.ConsoleView.attachToProcess method ProcessHandler parameter marked @NotNull</dt><dd><p>This may break source-compatibility with inheritors written in Kotlin if they declare parameter type as nullable.</p></dd><dt id="7a491cd0_37"  data-expandable="false" >com.intellij.util.indexing.FileContentImpl(VirtualFile, byte[]) constructor removed</dt><dd><p>Constructors of <code class="code " id="7a491cd0_40"  >FileContentImpl</code> were replaced with factory methods, use <code class="code " id="7a491cd0_41"  >FileContentImpl#createByContent(VirtualFile, byte[])</code>.</p></dd><dt id="7a491cd0_42"  data-expandable="false" >com.intellij.spellchecker.quickfixes.ChangeTo(String) constructor removed</dt><dd><p>Replaced with <code class="code " id="7a491cd0_45"  >ChangeTo(String, PsiElement, TextRange)</code>.</p></dd><dt id="7a491cd0_46"  data-expandable="false" >com.intellij.spellchecker.tokenizer.SpellcheckingStrategy.getDefaultRegularFixes(boolean, String, PsiElement) method removed</dt><dd><p>Replaced with <code class="code " id="7a491cd0_49"  >SpellcheckingStrategy.getDefaultRegularFixes(boolean, String, PsiElement, TextRange)</code>.</p></dd><dt id="7a491cd0_50"  data-expandable="false" >com.intellij.psi.stubs.IStubElementType.createStub method parameter type changed from StubElement to StubElement<?></dt><dd><p>This may break source-compatibility with inheritors written in Kotlin.</p></dd><dt id="7a491cd0_55"  data-expandable="false" >com.intellij.execution.application.ApplicationConfiguration.isSwingInspectorEnabled() method removed</dt><dd><p>The Swing Inspector functionality has been removed from the product.</p></dd><dt id="7a491cd0_58"  data-expandable="false" >com.intellij.execution.application.ApplicationConfiguration.setSwingInspectorEnabled(boolean) method removed</dt><dd><p>The Swing Inspector functionality has been removed from the product.</p></dd><dt id="7a491cd0_61"  data-expandable="false" >show.swing.inspector property removed from resource bundle messages.ExecutionBundle</dt><dd><p>The Swing Inspector functionality has been removed from the product.</p></dd><dt id="7a491cd0_65"  data-expandable="false" >show.swing.inspector.disabled property removed from resource bundle messages.ExecutionBundle</dt><dd><p>The Swing Inspector functionality has been removed from the product.</p></dd></dl></section><section class="chapter"  ><h3 id="java-plugin-20203" data-toc="java-plugin-20203"  >Java Plugin 2020.3</h3><dl id="7a491cd0_69"  data-style="title-top"  ><dt id="7a491cd0_70"  data-expandable="false" >The PSI structure of multi-dimensional arrays in Java source files changed (see com.intellij.psi.PsiTypeElement)</dt><dd><p>Now the children are flattened: brackets for all the dimensions are direct children of the <code class="code " id="7a491cd0_73"  >PsiTypeElement</code> that represent the multi-dimensional array. This change doesn't break source or binary compatibility but may produce behavioral changes in the code that traverses the tree of Java source files.</p></dd><dt id="7a491cd0_74"  data-expandable="false" >The com.intellij.psi.PsiAnnotation.getOwner method now returns PsiType instead of PsiTypeElement for type annotations in Java source files</dt><dd><p>This change supports identifying whether a type annotation is attached to an inner class or a particular dimension of a multi-dimensional array. This change doesn't break source or binary compatibility but may produce behavioral changes for callers.</p></dd></dl></section><section class="chapter"  ><h3 id="phpstorm-and-php-plugin-20203" data-toc="phpstorm-and-php-plugin-20203"  >PhpStorm and PHP Plugin 2020.3</h3><dl id="7a491cd0_79"  data-style="title-top"  ><dt id="7a491cd0_80"  data-expandable="false" >Added PHP 8 support</dt><dd><p>See <a href="php-open-api-breaking-changes-203.html" id="7a491cd0_82" data-tooltip="PhpStorm 2020.3 introduces support for the upcoming PHP 8, which results in several noticeable changes in the PhpStorm internals."  >Breaking Changes in PhpStorm 2020.3</a>.</p></dd></dl></section><section class="chapter"  ><h3 id="python-plugin-20203" data-toc="python-plugin-20203"  >Python Plugin 2020.3</h3><dl id="7a491cd0_83"  data-style="title-top"  ><dt id="7a491cd0_84"  data-expandable="false" >All parameters in com.jetbrains.python.psi.PyElementVisitor marked @NotNull</dt><dd><p>This may break source-compatibility with inheritors written in Kotlin.</p></dd><dt id="7a491cd0_88"  data-expandable="false" >com.jetbrains.python.parsing.ParsingContext(SyntaxTreeBuilder, LanguageLevel, StatementParsing.FUTURE) method parameter StatementParsing.FUTURE removed</dt><dd><p>It is no longer used in parsing.</p></dd><dt id="7a491cd0_92"  data-expandable="false" >com.jetbrains.python.parsing.StatementParsing(ParsingContext, StatementParsing.FUTURE) method parameter StatementParsing.FUTURE removed</dt><dd><p>It is no longer used in parsing.</p></dd><dt id="7a491cd0_96"  data-expandable="false" >com.jetbrains.python.parsing.StatementParsing.FUTURE class removed</dt><dd><p>Use <code class="code " id="7a491cd0_99"  >com.jetbrains.python.psi.FutureFeature</code> instead.</p></dd><dt id="7a491cd0_100"  data-expandable="false" >com.jetbrains.python.sdk.PythonSdkUpdater.updateOrShowError(Sdk, SdkModificator, Project, Component) method parameter SdkModificator removed</dt><dd><p>It was not processed carefully, it should be enough to pass editable SDK instead.</p></dd><dt id="7a491cd0_104"  data-expandable="false" >python.sdk.interpreter.field.is.empty property removed from resource bundle messages.PyBundle</dt><dd><p>Use <code class="code " id="7a491cd0_108"  >python.sdk.field.is.empty</code> from <code class="code " id="7a491cd0_109"  >messages.PySdkBundle</code> instead.</p></dd><dt id="7a491cd0_110"  data-expandable="false" >base.interpreter property removed from resource bundle messages.PyBundle</dt><dd><p>Use <code class="code " id="7a491cd0_114"  >python.venv.base.label</code> from <code class="code " id="7a491cd0_115"  >messages.PySdkBundle</code> instead.</p></dd><dt id="7a491cd0_116"  data-expandable="false" >interpreter property removed from resource bundle messages.PyBundle</dt><dd><p>Use <code class="code " id="7a491cd0_120"  >python.interpreter.label</code> from <code class="code " id="7a491cd0_121"  >messages.PySdkBundle</code> instead.</p></dd><dt id="7a491cd0_122"  data-expandable="false" >com.jetbrains.python.psi.LanguageLevel.hasWithStatement() method removed</dt><dd><p>It is <code class="code " id="7a491cd0_125"  >true</code> for all supported python versions.</p></dd></dl></section><section class="chapter"  ><h3 id="clionappcode-20203" data-toc="clionappcode-20203"  >CLion/AppCode 2020.3</h3><dl id="7a491cd0_126"  data-style="title-top"  ><dt id="7a491cd0_127"  data-expandable="false" >Required changes in project setup</dt><dd><p>When targeting 2020.3, please see this <a href="https://blog.jetbrains.com/clion/2020/12/migration-guide-for-plugins-2020-3/" id="7a491cd0_129"   data-external="true" rel="noopener noreferrer" >migration guide</a>.</p></dd></dl></section></section><section class="chapter"  ><h2 id="20202" data-toc="20202"  >2020.2</h2><section class="chapter"  ><h3 id="intellij-platform-20202" data-toc="intellij-platform-20202"  >IntelliJ Platform 2020.2</h3><dl id="7a491cd0_130"  data-style="title-top"  ><dt id="7a491cd0_131"  data-expandable="false" >Support for JavaFX deprecated</dt><dd><p>Plugins should migrate to <a href="jcef.html" id="7a491cd0_133" data-tooltip="JCEF is available since 2020.1 as an experimental feature. We plan to deprecate using JavaFX in 3rd party plugins and switch to JCEF in 2020.2. To continue using JavaFX in 2020.2 or later, an explicit dependency on JavaFX Runtime for Plugins must be added. Please see also blog post…"  >JCEF</a>. Alternatively, add an explicit dependency on <a href="https://plugins.jetbrains.com/plugin/14250-javafx-runtime-for-plugins" id="7a491cd0_134"   data-external="true" rel="noopener noreferrer" >JavaFX Runtime for Plugins</a>.</p></dd><dt id="7a491cd0_135"  data-expandable="false" >com.intellij.psi.util.PsiTreeUtil.processElements(element, processor) method parameter type changed from PsiElementProcessor to PsiElementProcessor<PsiElement></dt><dd><p>This may break source-compatibility with clients that pass a more specific processor. Passing a more specific processor was illegal before because the <code class="code " id="7a491cd0_140"  >processElements</code> passes every descendant <code class="code " id="7a491cd0_141"  >PsiElement</code> to the processor regardless of its type. However, this worked with some poorly written clients, e.g. <code class="code " id="7a491cd0_142"  >PsiElementProcessor.CollectFilteredElements</code> and <code class="code " id="7a491cd0_143"  >PsiElementProcessor.FindFilteredElement</code> (both deprecated now). To simplify the migration, a new three-arg <code class="code " id="7a491cd0_144"  >processElements(element, elementClass, processor)</code> is introduced that filters by element class. In most cases, the simplest migration would be to add a wanted element class as a second argument. However, it's advised to use <code class="code " id="7a491cd0_145"  >SyntaxTraverser</code> API instead, which is more rich and flexible.</p></dd><dt id="7a491cd0_146"  data-expandable="false" >com.maddyhome.idea.copyright.util.FileTypeUtil.getFileTypeByName(String) method removed</dt><dd><p>This was an internal utility method not intended for use in plugins. Use <code class="code " id="7a491cd0_149"  >FileTypeManager.getInstance().findFileTypeByName()</code> instead.</p></dd><dt id="7a491cd0_150"  data-expandable="false" >javassist package removed</dt><dd><p><a href="https://github.com/jboss-javassist/javassist" id="7a491cd0_153"   data-external="true" rel="noopener noreferrer" >Javassist</a> library was removed, bundle it with your plugin instead.</p></dd><dt id="7a491cd0_154"  data-expandable="false" >com.intellij.compiler.backwardRefs.LanguageCompilerRefAdapter.INSTANCES field removed</dt><dd><p>This field leaked instances of plugin's extensions on plugin unloading. Use <code class="code " id="7a491cd0_157"  >com.intellij.compiler.backwardRefs.LanguageCompilerRefAdapter#EP_NAME.getExtensionList()</code> directly instead.</p></dd><dt id="7a491cd0_158"  data-expandable="false" >groovy.util.AntBuilder class removed</dt><dd><p>Add <code class="code " id="7a491cd0_161"  >org.codehaus.groovy:groovy-ant</code> dependency.</p></dd><dt id="7a491cd0_162"  data-expandable="false" >groovy.util.GroovyTestCase class removed</dt><dd><p>Add <code class="code " id="7a491cd0_165"  >org.codehaus.groovy:groovy-test</code> dependency.</p></dd><dt id="7a491cd0_166"  data-expandable="false" >groovy.util.GroovyTestSuite class removed</dt><dd><p>Add <code class="code " id="7a491cd0_169"  >org.codehaus.groovy:groovy-test</code> dependency.</p></dd><dt id="7a491cd0_170"  data-expandable="false" >groovy.json.internal package removed</dt><dd><p>Use classes from <code class="code " id="7a491cd0_173"  >org.apache.groovy.json.internal</code> package.</p></dd><dt id="7a491cd0_174"  data-expandable="false" >com.intellij.openapi.externalSystem.service.execution.TaskCompletionProvider(Project, ProjectSystemId, TextAccessor, Options) constructor parameter type changed from groovyjarjarcommonscli.Options to org.apache.commons.cli.Options</dt><dd><p>Update inheritors accordingly.</p></dd><dt id="7a491cd0_179"  data-expandable="false" >org.jetbrains.plugins.gradle.service.execution.cmd.GradleCommandLineOptionsProvider.getSupportedOptions() method return type changed from groovyjarjarcommonscli.Options to org.apache.commons.cli.Options</dt><dd><p>Update call sites accordingly.</p></dd><dt id="7a491cd0_184"  data-expandable="false" >com.intellij.openapi.editor.markup.MarkupModel.addLineHighlighter(TextAttributesKey, int, int) abstract method added</dt><dd><p>Use it instead of <code class="code " id="7a491cd0_187"  >MarkupModel.addLineHighlighter(int, int, TextAttributes)</code>.</p></dd><dt id="7a491cd0_188"  data-expandable="false" >com.intellij.openapi.editor.markup.MarkupModel.addRangeHighlighter(TextAttributesKey, int, int, int, HighlighterTargetArea) abstract method added</dt><dd><p>Use it instead of <code class="code " id="7a491cd0_191"  >MarkupModel.addRangeHighlighter(int, int, int, TextAttributes, HighlighterTargetArea)</code>.</p></dd><dt id="7a491cd0_192"  data-expandable="false" >com.intellij.codeInsight.daemon.LineMarkerProvider.getLineMarkerInfo method return type changed from LineMarkerInfo to LineMarkerInfo<?></dt><dd><p>This may break source-compatibility with inheritors written in Kotlin.</p></dd><dt id="7a491cd0_197"  data-expandable="false" >com.intellij.codeInsight.daemon.LineMarkerProvider.collectSlowLineMarkers method parameter type changed from List<PsiElement> to List<? extends PsiElement></dt><dd><p>This may break source-compatibility with inheritors written in Kotlin.</p></dd><dt id="7a491cd0_202"  data-expandable="false" >com.intellij.codeInsight.daemon.LineMarkerProvider.collectSlowLineMarkers method parameter type changed from List<PsiElement> to Collection<? super LineMarkerInfo<?>></dt><dd><p>This may break source-compatibility with inheritors written in Kotlin.</p></dd><dt id="7a491cd0_207"  data-expandable="false" >com.intellij.util.indexing.FileBasedIndex.FileTypeSpecificInputFilter.registerFileTypesUsedForIndexing method parameter type changed from Consumer<FileType> to Consumer<? super FileType></dt><dd><p>This may break source-compatibility with inheritors written in Kotlin.</p></dd><dt id="7a491cd0_212"  data-expandable="false" >com.intellij.psi.impl.include.FileIncludeProvider.registerFileTypesUsedForIndexing method parameter type changed from Consumer<FileType> to Consumer<? super FileType></dt><dd><p>This may break source-compatibility with inheritors written in Kotlin.</p></dd><dt id="7a491cd0_217"  data-expandable="false" >com.intellij.codeInsight.highlighting.HighlightUsagesHandlerBase.selectTargets method parameter type changed from List<T> to List<? extends T></dt><dd><p>This may break source-compatibility with inheritors written in Kotlin.</p></dd><dt id="7a491cd0_222"  data-expandable="false" >com.intellij.codeInsight.highlighting.HighlightUsagesHandlerBase.selectTargets method parameter type changed from Consumer<List<? extends T>> to Consumer<? super List<? extends T>></dt><dd><p>This may break source-compatibility with inheritors written in Kotlin.</p></dd><dt id="7a491cd0_227"  data-expandable="false" >com.intellij.codeInsight.highlighting.HighlightUsagesHandlerBase.computeUsages method parameter type changed from List<T> to List<? extends T></dt><dd><p>This may break source-compatibility with inheritors written in Kotlin.</p></dd><dt id="7a491cd0_232"  data-expandable="false" >com.intellij.pom.java.LanguageLevel.JDK_13_PREVIEW field removed</dt><dd><p>Please remove the plugin code supporting Java 13 language level features. IntelliJ IDEA supports preview features of the latest Java release and one upcoming release (if available).</p></dd></dl><section class="chapter"  ><h4 id="vcs" data-toc="vcs"  >VCS</h4><dl id="7a491cd0_235"  data-style="title-top"  ><dt id="7a491cd0_236"  data-expandable="false" >com.intellij.diff.util.DiffUserDataKeysEx.REVISION_INFO field removed</dt><dd><p>Use <code class="code " id="7a491cd0_239"  >com.intellij.diff.DiffVcsDataKeys.REVISION_INFO</code> instead.</p></dd><dt id="7a491cd0_240"  data-expandable="false" >com.intellij.codeInsight.actions.FormatChangedTextUtil.getChangedElements(Project, Change[], Function) method removed</dt><dd><p>Use <code class="code " id="7a491cd0_243"  >com.intellij.codeInsight.actions.VcsFacadeImpl.getVcsInstance().getChangedElements(...)</code> instead.</p></dd></dl></section></section><section class="chapter"  ><h3 id="github-plugin-20202" data-toc="github-plugin-20202"  >GitHub Plugin 2020.2</h3><dl id="7a491cd0_244"  data-style="title-top"  ><dt id="7a491cd0_245"  data-expandable="false" >org.jetbrains.plugins.github.util.LazyCancellableBackgroundProcessValue(ProgressManager) constructor removed</dt><dd><p>Required for more tight control of task scheduling. Use <code class="code " id="7a491cd0_248"  >org.jetbrains.plugins.github.util.LazyCancellableBackgroundProcessValue.Companion#create(ProgressManager, (ProgressIndicator) -&gt; T)</code> instead of subclassing.</p></dd><dt id="7a491cd0_249"  data-expandable="false" >org.jetbrains.plugins.github.util.LazyCancellableBackgroundProcessValue.compute(ProgressIndicator) method return type changed from T to CompletableFuture<T></dt><dd><p>Required for more tight control of task scheduling. Use <code class="code " id="7a491cd0_254"  >org.jetbrains.plugins.github.util.LazyCancellableBackgroundProcessValue.Companion#create(ProgressManager, (ProgressIndicator) -&gt; T)</code> instead of subclassing.</p></dd><dt id="7a491cd0_255"  data-expandable="false" >org.jetbrains.plugins.github.pullrequest.ui.GHCompletableFutureLoadingModel() constructor removed</dt><dd><p>Model was made disposable and it is now required to pass parent disposable in constructor.</p></dd><dt id="7a491cd0_258"  data-expandable="false" >org.jetbrains.plugins.github.util.GithubGitHelper.getPossibleRemoteUrlCoordinates() method removed</dt><dd><p>Use <code class="code " id="7a491cd0_261"  >org.jetbrains.plugins.github.util.GHProjectRepositoriesManager.getKnownRepositories()</code> instead.</p></dd></dl></section><section class="chapter"  ><h3 id="groovy-plugin-20202" data-toc="groovy-plugin-20202"  >Groovy Plugin 2020.2</h3><dl id="7a491cd0_262"  data-style="title-top"  ><dt id="7a491cd0_263"  data-expandable="false" >org.jetbrains.plugins.groovy.formatter.AlignmentProvider.addPair method parameter type changed from Boolean to boolean</dt><dd><p>Please adjust/recompile the code.</p></dd></dl></section><section class="chapter"  ><h3 id="java-ee-plugins-20202" data-toc="java-ee-plugins-20202"  >Java EE Plugins 2020.2</h3><dl id="7a491cd0_268"  data-style="title-top"  ><dt id="7a491cd0_269"  data-expandable="false" >Java EE plugins split</dt><dd><p>Plugin <code class="code " id="7a491cd0_271"  >com.intellij.javaee</code> <span class="emphasis" id="7a491cd0_272" >Java EE: EJB, JPA, Servlets</span> has been split to: </p><ul class="list _ul" id="7a491cd0_273"    ><li class="list__item" id="7a491cd0_274" ><p><code class="code " id="7a491cd0_275"  >com.inteellij.javaee</code> <span class="emphasis" id="7a491cd0_276" >Java EE Platform</span> - main plugin other JavaEE/Jakarta plugins depend on</p></li><li class="list__item" id="7a491cd0_277" ><p><code class="code " id="7a491cd0_278"  >com.intellij.javaee.app.servers.integration</code> <span class="emphasis" id="7a491cd0_279" >Java EE: Application Servers Integration</span></p></li><li class="list__item" id="7a491cd0_280" ><p><code class="code " id="7a491cd0_281"  >com.intellij.javaee.ejb</code> <span class="emphasis" id="7a491cd0_282" >Java EE: Enterprise Java Beans (EJB)</span></p></li><li class="list__item" id="7a491cd0_283" ><p><code class="code " id="7a491cd0_284"  >com.intellij.javaee.jpa</code> <span class="emphasis" id="7a491cd0_285" >Java EE: JPA</span></p></li><li class="list__item" id="7a491cd0_286" ><p><code class="code " id="7a491cd0_287"  >com.intellij.javaee.web</code> <span class="emphasis" id="7a491cd0_288" >Java EE: Web/Servlets</span></p></li></ul></dd></dl></section><section class="chapter"  ><h3 id="javascript-plugin-20202" data-toc="javascript-plugin-20202"  >JavaScript Plugin 2020.2</h3><dl id="7a491cd0_289"  data-style="title-top"  ><dt id="7a491cd0_290"  data-expandable="false" >com.intellij.lang.javascript.linter.jslint package removed</dt><dd><p>JSLint functionality has been unbundled and moved to a separate plugin. <a href="https://youtrack.jetbrains.com/issue/WEB-44511" id="7a491cd0_293"   data-external="true" rel="noopener noreferrer" >Issue</a></p></dd></dl></section><section class="chapter"  ><h3 id="phpstorm-and-php-plugin-20202" data-toc="phpstorm-and-php-plugin-20202"  >PhpStorm and PHP Plugin 2020.2</h3><dl id="7a491cd0_294"  data-style="title-top"  ><dt id="7a491cd0_295"  data-expandable="false" >Added Union Types Support</dt><dd><p>See <a href="php-open-api-breaking-changes-202.html" id="7a491cd0_297" data-tooltip="PhpStorm 2020.2 introduced support for PHP union types, which resulted in some PSI-breaking changes."  >Breaking Changes in PhpStorm 2020.2</a>.</p></dd></dl></section><section class="chapter"  ><h3 id="kotlin-plugin-14" data-toc="kotlin-plugin-14"  >Kotlin Plugin 1.4</h3><dl id="7a491cd0_298"  data-style="title-top"  ><dt id="7a491cd0_299"  data-expandable="false" >org.jetbrains.kotlin.idea.core.formatter.KotlinCodeStyleSettings.PACKAGES_TO_USE_STAR_IMPORTS field type changed from PackageEntryTable to KotlinPackageEntryTable</dt><dd><p>This change was required to implement import layout order for Kotlin. <code class="code " id="7a491cd0_304"  >KotlinPackageEntryTable</code> can be used in the same manner as <code class="code " id="7a491cd0_305"  >PackageEntryTable</code>.</p></dd></dl></section><section class="chapter"  ><h3 id="python-plugin-20202" data-toc="python-plugin-20202"  >Python Plugin 2020.2</h3><dl id="7a491cd0_306"  data-style="title-top"  ><dt id="7a491cd0_307"  data-expandable="false" >com.jetbrains.python.PythonDialectsTokenSetProvider.INSTANCE field removed</dt><dd><p><code class="code " id="7a491cd0_310"  >PythonDialectsTokenSetProvider</code> became an application service, use <code class="code " id="7a491cd0_311"  >PythonDialectsTokenSetProvider.getInstance()</code> instead.</p></dd><dt id="7a491cd0_312"  data-expandable="false" >com.jetbrains.python.psi.PyUtil.getLanguageLevelForVirtualFile(Project, VirtualFile) method removed</dt><dd><p>Use <code class="code " id="7a491cd0_315"  >PythonLanguageLevelPusher.getLanguageLevelForVirtualFile(Project, VirtualFile)</code> instead.</p></dd></dl></section></section><section class="chapter"  ><h2 id="20201" data-toc="20201"  >2020.1</h2><section class="chapter"  ><h3 id="intellij-platform-20201" data-toc="intellij-platform-20201"  >IntelliJ Platform 2020.1</h3><dl id="7a491cd0_316"  data-style="title-top"  ><dt id="7a491cd0_317"  data-expandable="false" >com.intellij.compiler.ant package removed</dt><dd><p>'Generate Ant build' functionality is removed from the IDE. Delete the code extending this or replace it with a dependency on the <code class="code " id="7a491cd0_320"  >generate-ant</code> plugin.</p></dd><dt id="7a491cd0_321"  data-expandable="false" >org.jetbrains.jps.incremental.ModuleLevelBuilder.getCompilableFileExtensions marked abstract</dt><dd><p>Implement it in <code class="code " id="7a491cd0_324"  >ModuleLevelBuilder</code>'s implementation.</p></dd><dt id="7a491cd0_325"  data-expandable="false" >com.intellij.codeInsight.TargetElementUtilBase class removed</dt><dd><p>Use <code class="code " id="7a491cd0_328"  >com.intellij.codeInsight.TargetElementUtil</code> instead.</p></dd><dt id="7a491cd0_329"  data-expandable="false" >com.intellij.psi.stubs.PrebuiltStubsProviderBase class now extends com.intellij.index.PrebuiltIndexProvider and inherits its abstract method getIndexRoot()</dt><dd><p>Use <code class="code " id="7a491cd0_334"  >com.intellij.psi.stubs.PlatformPrebuiltStubsProviderBase</code> instead.</p></dd><dt id="7a491cd0_335"  data-expandable="false" >com.intellij.psi.PsiElementVisitor.visitElement method PsiElement parameter marked @NotNull</dt><dd><p>This may break source-compatibility with inheritors written in Kotlin if they declare parameter type as nullable.</p></dd><dt id="7a491cd0_340"  data-expandable="false" >com.intellij.psi.PsiElementVisitor.visitFile method PsiFile parameter marked @NotNull</dt><dd><p>This may break source-compatibility with inheritors written in Kotlin if they declare parameter type as nullable.</p></dd><dt id="7a491cd0_345"  data-expandable="false" >com.intellij.psi.PsiElementVisitor.visitBinaryFile method PsiBinaryFile parameter marked @NotNull</dt><dd><p>This may break source-compatibility with inheritors written in Kotlin if they declare parameter type as nullable.</p></dd><dt id="7a491cd0_350"  data-expandable="false" >com.intellij.psi.PsiElementVisitor.visitPlainTextFile method PsiPlainTextFile parameter marked @NotNull</dt><dd><p>This may break source-compatibility with inheritors written in Kotlin if they declare parameter type as nullable.</p></dd><dt id="7a491cd0_355"  data-expandable="false" >com.intellij.psi.PsiElementVisitor.visitErrorElement method PsiErrorElement parameter marked @NotNull</dt><dd><p>This may break source-compatibility with inheritors written in Kotlin if they declare parameter type as nullable.</p></dd><dt id="7a491cd0_360"  data-expandable="false" >com.intellij.psi.PsiElementVisitor.visitPlainText method PsiPlainText parameter marked @NotNull</dt><dd><p>This may break source-compatibility with inheritors written in Kotlin if they declare parameter type as nullable.</p></dd><dt id="7a491cd0_365"  data-expandable="false" >com.intellij.psi.PsiElementVisitor.visitDirectory method PsiDirectory parameter marked @NotNull</dt><dd><p>This may break source-compatibility with inheritors written in Kotlin if they declare parameter type as nullable.</p></dd><dt id="7a491cd0_370"  data-expandable="false" >com.intellij.psi.PsiElementVisitor.visitComment method PsiComment parameter marked @NotNull</dt><dd><p>This may break source-compatibility with inheritors written in Kotlin if they declare parameter type as nullable.</p></dd><dt id="7a491cd0_375"  data-expandable="false" >com.intellij.psi.PsiElementVisitor.visitWhiteSpace method PsiWhiteSpace parameter marked @NotNull</dt><dd><p>This may break source-compatibility with inheritors written in Kotlin if they declare parameter type as nullable.</p></dd><dt id="7a491cd0_380"  data-expandable="false" >com.intellij.psi.PsiElementVisitor.visitOuterLanguageElement method OuterLanguageElement parameter marked @NotNull</dt><dd><p>This may break source-compatibility with inheritors written in Kotlin if they declare parameter type as nullable.</p></dd><dt id="7a491cd0_385"  data-expandable="false" >com.intellij.codeInspection.unused.ImplicitPropertyUsageProvider.isUsed method Property parameter marked @NotNull</dt><dd><p>This may break source-compatibility with inheritors written in Kotlin if they declare parameter type as nullable.</p></dd><dt id="7a491cd0_390"  data-expandable="false" >com.intellij.lang.ReadOnlyASTNode class removed</dt><dd><p>Use <code class="code " id="7a491cd0_393"  >com.intellij.testFramework.ReadOnlyLightVirtualFile</code>-based PSI instead.</p></dd><dt id="7a491cd0_394"  data-expandable="false" >Java code migrated to use TYPE_USE nullability annotations</dt><dd><p>In rare cases existing Kotlin code might become uncompilable due to some problems in the Kotlin compiler: if a method is used or overridden, and is written in Java, and returns an array annotated as <code class="code " id="7a491cd0_397"  >@Nullable</code> or <code class="code " id="7a491cd0_398"  >@NotNull</code>.</p></dd><dt id="7a491cd0_399"  data-expandable="false" >com.intellij.navigation.ChooseByNameContributorEx.processNames method parameter type changed from Processor<String> to Processor<? extends String></dt><dd><p>This may break source-compatibility with inheritors written in Kotlin.</p></dd><dt id="7a491cd0_404"  data-expandable="false" >com.intellij.navigation.ChooseByNameContributorEx.processElementsWithName method parameter type changed from Processor<NavigationItem> to Processor<? extends NavigationItem></dt><dd><p>This may break source-compatibility with inheritors written in Kotlin.</p></dd><dt id="7a491cd0_409"  data-expandable="false" >Images module functionality (package org.intellij.images.*) extracted to plugin</dt><dd><p>The dependency <a href="plugin-dependencies.html" id="7a491cd0_412" data-tooltip="A plugin may depend on classes from other plugins, either bundled, third-party, or by the same author. This document describes the syntax for declaring plugin dependencies and optional plugin dependencies. For more information about dependencies on the IntelliJ Platform modules, see…"  >must be declared</a> explicitly now by the <a href="plugin-configuration-file.html#idea-plugin__depends" id="7a491cd0_413" data-tooltip="Specifies a dependency on another plugin or a module of an IntelliJ Platform-based product. A single <idea-plugin> element can contain multiple <depends> elements."  ><code class="code " id="7a491cd0_414"  >&lt;depends&gt;</code></a> element: </p><ul class="list _ul" id="7a491cd0_415"    ><li class="list__item" id="7a491cd0_416" ><p id="7a491cd0_417" >Add <code class="code " id="7a491cd0_418"  >&lt;depends&gt;com.intellij.platform.images&lt;/depends&gt;</code> in <span class="filepath" id="7a491cd0_419" ><a href="plugin-configuration-file.html" id="7a491cd0_420" data-tooltip="Plugin configuration file contains all the information about the plugin, as well as all registered extensions, actions, listeners, etc."  >plugin.xml</a></span></p></li><li class="list__item" id="7a491cd0_421" ><p id="7a491cd0_422" >Add to <span class="filepath" id="7a491cd0_423" >build.gradle</span>:</p><div class="code-block" data-lang="groovy"         >
intellij {
  plugins = ['platform-images']
}
</div></li><li class="list__item" id="7a491cd0_425" ><p id="7a491cd0_426" >If your plugin depends on other plugins using <code class="code " id="7a491cd0_427"  >com.intellij.platform.images</code> (e.g., CSS), please make sure to use <code class="code " id="7a491cd0_428"  >gradle-intellij-plugin</code> &gt;=0.4.19</p></li></ul></dd></dl></section><section class="chapter"  ><h3 id="python-plugin-20201" data-toc="python-plugin-20201"  >Python Plugin 2020.1</h3><dl id="7a491cd0_429"  data-style="title-top"  ><dt id="7a491cd0_430"  data-expandable="false" >com.jetbrains.python.psi.PyCallExpression.PyMarkedCallee class removed</dt><dd><p>Use <code class="code " id="7a491cd0_433"  >com.jetbrains.python.psi.types.PyCallableType</code> instead.</p></dd><dt id="7a491cd0_434"  data-expandable="false" >com.jetbrains.python.psi.PyCallExpression.multiResolveCallee method return type changed from List<PyMarkedCallee> to List<PyCallableType></dt><dd><p>Use <code class="code " id="7a491cd0_439"  >com.jetbrains.python.psi.types.PyCallableType</code> instead of <code class="code " id="7a491cd0_440"  >com.jetbrains.python.psi.PyCallExpression.PyMarkedCallee</code>.</p></dd></dl></section></section><div class="last-modified"> Last modified: 25 九月 2022</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="api-changes-list-2021.html">Incompatible Changes in IntelliJ Platform and Plugins API 2021.*</a>   <a class="navigation-links__next" href="api-changes-list-2019.html">Incompatible Changes in IntelliJ Platform and Plugins API 2019.*</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/storage/help-app/v5/app.js"></script></body></html>