<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2022-09-28T11:33:50.740823"><meta name="build-number" content="${buildNumber}">    <meta name="keywords" content="">  <title>Android Studio Plugin Development | IntelliJ Platform Plugin SDK</title><script id="virtual-toc-data" type="application/json">[{"id":"configuring-intellij-platform-projects-for-android-studio-plugin-development","level":0,"title":"Configuring IntelliJ Platform Projects for Android Studio Plugin Development","anchor":"#configuring-intellij-platform-projects-for-android-studio-plugin-development"},{"id":"additional-articles-and-resources","level":0,"title":"Additional Articles and Resources","anchor":"#additional-articles-and-resources"},{"id":"open-source-plugins-for-android-studio","level":0,"title":"Open Source Plugins for Android Studio","anchor":"#open-source-plugins-for-android-studio"},{"id":"faq","level":0,"title":"FAQ","anchor":"#faq"},{"id":"see-also","level":0,"title":"See Also","anchor":"#see-also"}]</script>   <link href="https://resources.jetbrains.com/storage/help-app/v5/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Android Studio Plugin Development | IntelliJ Platform Plugin SDK"/><meta property="og:description" content=""/><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"/><meta property="og:site_name" content="IntelliJ Platform Plugin SDK Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="https://plugins.jetbrains.com/docs/intellij/android-studio.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@JBPlatform"><meta name="twitter:title" content="Android Studio Plugin Development | IntelliJ Platform Plugin SDK"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@JBPlatform"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://plugins.jetbrains.com/docs/intellij/android-studio.html#webpage", "url": "https://plugins.jetbrains.com/docs/intellij/android-studio.html", "name": "Android Studio Plugin Development | IntelliJ Platform Plugin SDK", "description": "", "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://plugins.jetbrains.com/docs/intellij/#website", "url": "https://plugins.jetbrains.com/docs/intellij/", "name": "IntelliJ Platform Plugin SDK Help" }</script><!-- End Schema.org --></head>    <body data-id="android_studio.md" data-main-title="Android Studio Plugin Development" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Part VIII — Product Specific"  data-edit-url="https://github.com/JetBrains/intellij-sdk-docs/edit/main/topics/products/androidstudio/android_studio.md"  >  <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ Platform Plugin SDK  Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">      </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="android_studio.md" id="android_studio.md"  >Android Studio Plugin Development</h1><p id="8a072d42_2" >Android Studio plugins extend or add functionality to the <a href="https://developer.android.com/studio" id="8a072d42_3"   data-external="true" rel="noopener noreferrer" >Android Studio IDE</a>. Plugins can be written in <a href="kotlin.html" id="8a072d42_4" data-tooltip="Using Kotlin to write plugins for the IntelliJ Platform is very similar to writing plugins in Java. Existing plugin developers can get started by converting boilerplate Java classes to their Kotlin equivalents by using the J2K compiler bundled with the IntelliJ Platform (versions…"  >Kotlin</a> or Java, or a mix of both, and are created using IntelliJ IDEA and the <a href="intellij-platform.html" id="8a072d42_5" data-tooltip="介绍 IntelliJ Platform, 插件, 以及基于它的开发工具."  >IntelliJ Platform</a>. It's also helpful to be familiar with <a href="https://docs.oracle.com/javase/8/javase-clienttechnologies.htm" id="8a072d42_6"   data-external="true" rel="noopener noreferrer" >Java Swing</a>. Once completed, plugins can be packaged and distributed at <a href="https://plugins.jetbrains.com" id="8a072d42_7"   data-external="true" rel="noopener noreferrer" >JetBrains Marketplace</a>.</p><p id="8a072d42_8" >Android Studio plugins are not Android modules or apps to run in the Android operating system, such as smartphones or tablets.</p><section class="chapter"  ><h2 id="configuring-intellij-platform-projects-for-android-studio-plugin-development" data-toc="configuring-intellij-platform-projects-for-android-studio-plugin-development"  >Configuring IntelliJ Platform Projects for Android Studio Plugin Development</h2><p id="8a072d42_9" >To create a new Android Studio plugin project, follow the tutorial on the <a href="gradle-prerequisites.html" id="8a072d42_10" data-tooltip="Gradle is the preferred solution for creating IntelliJ Platform plugins. The IntelliJ IDEA Ultimate and Community editions bundle the necessary plugins to support Gradle-based development. These IntelliJ IDEA plugins are Gradle and Plugin DevKit, which are enabled by default. To…"  >Getting Started with Gradle</a> page. The tutorial produces a skeleton project suitable to use as a starting point for an Android Studio plugin. On the <a href="gradle-prerequisites.html#create-ide-plugin" id="8a072d42_11" data-tooltip="Creating new Gradle-based IntelliJ Platform plugin projects is performed using the dedicated generator available in the New Project Wizard. The generator creates all the necessary project files based on a few template inputs."  >New Project Screen</a>, choose <span class="control" id="8a072d42_12" >IDE Plugin</span> from the project generators list as described in the tutorial, <span class="control" id="8a072d42_13" >not</span> <span class="control" id="8a072d42_14" >Android</span>. Some minor modifications to the skeleton project are needed, as discussed below.</p><section class="chapter"  ><h3 id="matching-versions-of-the-intellij-platform-with-the-android-studio-version" data-toc="matching-versions-of-the-intellij-platform-with-the-android-studio-version"  >Matching Versions of the IntelliJ Platform with the Android Studio Version</h3><p id="8a072d42_15" >For API compatibility, it is essential to match the version of the IntelliJ Platform APIs used for plugin development with the target version of Android Studio. The version number of Android Studio contains the version of the underlying IntelliJ Platform APIs that were used to build it.</p><p id="8a072d42_16" >The actual Android Studio version doesn't entirely reflect the (YEAR.MAJOR.MINOR) version of the IntelliJ Platform. The Android Studio version presented below is <code class="code " id="8a072d42_17"  >2021.1.1 Patch 1</code>, but the <code class="code " id="8a072d42_18"  >2021.1</code> part marked with the green rectangle refers to the IntelliJ IDEA release.</p><p id="8a072d42_19" >To find the version of the IntelliJ Platform used to build Android Studio, use the Android Studio <span class="control" id="8a072d42_20" >About</span> dialog screen. An example is shown below. In this case, the (BRANCH.BUILD.FIX) version of the IntelliJ Platform is <code class="code " id="8a072d42_21"  >211.7628.21</code> – marked with the blue rectangle – is corresponding to the IntelliJ IDEA version <code class="code " id="8a072d42_22"  >2021.1.3</code>.</p><p id="8a072d42_23" >In your Gradle build script, you should set both versions – build number and the release number – to the <a href="tools-gradle-intellij-plugin.html#intellij-extension-version" id="8a072d42_24" data-tooltip="All available JetBrains IDEs versions can be found at IntelliJ Artifacts page."  ><code class="code " id="8a072d42_25"  >intellij.version</code></a> property. To figure out the exact release number based on the build number, visit the <a href="https://www.jetbrains.com/intellij-repository/releases/" id="8a072d42_26"   data-external="true" rel="noopener noreferrer" >IntelliJ Repository Releases</a> listing and check the <code class="code " id="8a072d42_27"  >com.jetbrains.intellij.idea</code> section.</p><p id="8a072d42_28" >The <a href="#configuring-the-plugin-gradle-build-script" id="8a072d42_29" data-tooltip="The use-case of developing for a non-IntelliJ IDEA IDE is reviewed in the Plugins Targeting Alternate IntelliJ Platform-Based IDEs section of the Configuring Gradle for IntelliJ Platform Plugins page. The particular example in that section discusses configuring a plugin project for…"  >Gradle build script configuration steps</a> section below explains how to set the IntelliJ Platform version to match the target version of Android Studio.</p><figure  id="8a072d42_30"><img alt="Example Android Studio About Dialog" title="Example Android Studio About Dialog" src="images/android_studio_build.png"  class="" width="600" height="376"/></figure></section><section class="chapter"  ><h3 id="android-studio-releases-listing" data-toc="android-studio-releases-listing"  >Android Studio Releases Listing</h3><p id="8a072d42_31" >Below, you may find a list of recent Android Studio releases mapped to the relevant IntelliJ IDEA versions:</p><p id="8a072d42_32" >For the full list of Android Studio releases with more details, visit the <a href="android-studio-releases-list.html" id="8a072d42_33" data-tooltip="This page contains a complete list of the Android Studio releases with the relevant IntelliJ IDEA release version specified."  >Android Studio Releases List</a> page.</p></section><section class="chapter"  ><h3 id="configuring-the-plugin-gradle-build-script" data-toc="configuring-the-plugin-gradle-build-script"  >Configuring the Plugin Gradle Build Script</h3><p id="8a072d42_34" >The use-case of developing for a non-IntelliJ IDEA IDE is reviewed in the <a href="gradle-guide.html#plugins-targeting-alternate-intellij-platform-based-ides" id="8a072d42_35" data-tooltip="Gradle also supports developing plugins to run in IDEs that are based on the IntelliJ Platform. For more information, see the Developing for Multiple Products page of this guide."  >Plugins Targeting Alternate IntelliJ Platform-Based IDEs</a> section of the <a href="gradle-guide.html" id="8a072d42_36" data-tooltip="This page serves as a guide to Gradle-based plugin configuration for IntelliJ Platform projects. The IntelliJ IDEA Ultimate and Community editions bundle the Gradle and Plugin DevKit plugins to support Gradle-based development."  >Configuring Gradle for IntelliJ Platform Plugins</a> page. The particular example in that section discusses configuring a plugin project for PhpStorm, so the details for an Android Studio plugin project are reviewed here.</p><p id="8a072d42_37" >Here are the steps to configure the Gradle build script for developing a plugin to target Android Studio:</p><ul class="list _ul" id="8a072d42_38"    ><li class="list__item" id="8a072d42_39" ><p>The Gradle plugin attributes describing the configuration of the <a href="gradle-guide.html#configuring-the-gradle-intellij-plugin-for-building-intellij-platform-plugin-projects" id="8a072d42_40" data-tooltip="By default, the Gradle plugin will build a plugin project against the IntelliJ Platform defined by the latest EAP snapshot of the IntelliJ IDEA Community Edition."  >IntelliJ Platform used to build the plugin project</a> must be explicitly set. Continuing with the example <a href="#matching-versions-of-the-intellij-platform-with-the-android-studio-version" id="8a072d42_41" data-tooltip="For API compatibility, it is essential to match the version of the IntelliJ Platform APIs used for plugin development with the target version of Android Studio. The version number of Android Studio contains the version of the underlying IntelliJ Platform APIs that were used to build…"  >above</a>, set the <a href="tools-gradle-intellij-plugin.html#intellij-extension-version" id="8a072d42_42" data-tooltip="All available JetBrains IDEs versions can be found at IntelliJ Artifacts page."  ><code class="code " id="8a072d42_43"  >intellij.version</code></a> value to <code class="code " id="8a072d42_44"  >191.8026.42</code>. Alternatively, specify <a href="tools-gradle-intellij-plugin.html#intellij-extension-localpath" id="8a072d42_45" data-tooltip="The path to the locally installed IDE distribution that should be used to build the plugin. Using the intellij.localPath allows to build the plugin using an IDE that is not available in ."  ><code class="code " id="8a072d42_46"  >intellij.localPath</code></a> to refer to a local installation of Android Studio.</p></li><li class="list__item" id="8a072d42_47" ><p>Android Studio plugin projects that use APIs from the <code class="code " id="8a072d42_48"  >android</code> plugin must declare a dependency on that plugin. Declare the dependency in the Gradle build script using the <a href="tools-gradle-intellij-plugin.html#intellij-extension-plugins" id="8a072d42_49" data-tooltip="The list of bundled IDE plugins and plugins from JetBrains Marketplace or configured intellij.pluginsRepositories."  ><code class="code " id="8a072d42_50"  >intellij.plugins</code></a> attribute, which in this case lists the <a href="tools-gradle-intellij-plugin.html#intellij-extension-pluginname" id="8a072d42_51" data-tooltip="The plugin name part used in the generated ZIP distribution: build/distributions/PluginName-1.0.0.zip and name of the plugin directory in the sandbox directory."  >directory name</a> of the plugin.</p></li><li class="list__item" id="8a072d42_52" ><p>The best practice is to use the target version of Android Studio as the IDE Development Instance. Set the Development Instance to the (user-specific) absolute path to the target Android Studio application.</p></li></ul><p id="8a072d42_53" >The snippet below is an example of configuring the Setup and Running DSLs in a Gradle build script specific to developing a plugin targeted at Android Studio.</p><div class="tabs" id="8a072d42_54"><div class="tabs__content" data-gtm="tab" id="8a072d42_55"   data-title="Kotlin" ><div class="code-block" data-lang="kotlin"    data-title="Kotlin"     >
intellij {
  // Define IntelliJ Platform against which to build the plugin project.

  // Same IntelliJ IDEA version (2019.1.4) as target 3.5 Android Studio:
  version.set(&quot;191.8026.42&quot;)

  // Use IntelliJ IDEA CE because it's the basis of the IntelliJ Platform:
  type.set(&quot;IC&quot;)

  // Require the Android plugin (Gradle will choose the correct version):
  plugins.set(listOf(&quot;android&quot;))
}

runIde {
  // Absolute path to installed target 3.5 Android Studio to use as
  // IDE Development Instance (the &quot;Contents&quot; directory is macOS specific):
  ideDir.set(file(&quot;/Applications/Android Studio.app/Contents&quot;))
}
</div></div><div class="tabs__content" data-gtm="tab" id="8a072d42_57"   data-title="Groovy" ><div class="code-block" data-lang="groovy"    data-title="Groovy"     >
intellij {
  // Define IntelliJ Platform against which to build the plugin project.

  // Same IntelliJ IDEA version (2019.1.4) as target 3.5 Android Studio:
  version = '191.8026.42'

  // Use IntelliJ IDEA CE because it's the basis of the IntelliJ Platform:
  type = 'IC'

  // Require the Android plugin (Gradle will choose the correct version):
  plugins = ['android']
}

runIde {
  // Absolute path to installed target 3.5 Android Studio to use as
  // IDE Development Instance (the &quot;Contents&quot; directory is macOS specific):
  ideDir = file('/Applications/Android Studio.app/Contents')
}
</div></div></div></section><section class="chapter"  ><h3 id="configuring-the-plugin-pluginxml-file" data-toc="configuring-the-plugin-pluginxml-file"  >Configuring the Plugin plugin.xml File</h3><p id="8a072d42_59" >When using APIs from the <code class="code " id="8a072d42_60"  >android</code> plugin, declare a dependency:</p><div class="code-block" data-lang="markup"         >
  &lt;depends&gt;org.jetbrains.android&lt;/depends&gt;
</div><p id="8a072d42_62" >As discussed in the <a href="plugin-compatibility.html#declaring-plugin-dependencies" id="8a072d42_63" data-tooltip="For the purposes of dependencies, a module can be thought of as a built-in plugin that ships as a non-removable part of a product. A working definition of a dependency is that a plugin project cannot be run without the module present in an IntelliJ Platform-based product. Declaring…"  >Plugin Dependencies</a> section of this guide, a plugin's dependency on <a href="plugin-compatibility.html#modules-specific-to-functionality" id="8a072d42_64" data-tooltip="More specialized functionality is also delivered via modules and plugins in IntelliJ Platform-based products. For example, the com.intellij.modules.python module supports the Python language-specific functionality. If a plugin uses this module's functionality, such as…"  >Modules Specific to Functionality</a> must be declared in <span class="filepath" id="8a072d42_65" ><a href="plugin-configuration-file.html" id="8a072d42_66" data-tooltip="Plugin configuration file contains all the information about the plugin, as well as all registered extensions, actions, listeners, etc."  >plugin.xml</a></span>. When using Android Studio-specific features (APIs), a dependency on <code class="code " id="8a072d42_67"  >com.intellij.modules.androidstudio</code> must be declared as shown in the code snippet below. Otherwise, if only general IntelliJ Platform features (APIs) are used, then a dependency on <code class="code " id="8a072d42_68"  >com.intellij.modules.platform</code> must be declared as discussed in <a href="plugin-compatibility.html" id="8a072d42_69" data-tooltip="All products based on the IntelliJ Platform are built on the same underlying API. Some of these products share features built on top of the platform, such as Java support in IntelliJ IDEA and Android Studio. Underlying those shared features are shared components. When authoring a…"  >Plugin Compatibility with IntelliJ Platform Products</a>.</p><div class="code-block" data-lang="markup"         >
  &lt;depends&gt;com.intellij.modules.androidstudio&lt;/depends&gt;
</div></section><section class="chapter"  ><h3 id="android-specific-extension-points" data-toc="android-specific-extension-points"  >Android Specific Extension Points</h3><p id="8a072d42_71" >See <span class="emphasis" id="8a072d42_72" >Android Plugin</span> section in <a href="extension-point-list.html" id="8a072d42_73" data-tooltip="Overview of Extension Points and Listeners for IntelliJ Platform"  >扩展点和监听器列表</a>.</p></section></section><section class="chapter"  ><h2 id="additional-articles-and-resources" data-toc="additional-articles-and-resources"  >Additional Articles and Resources</h2><ul class="list _ul" id="8a072d42_74"    ><li class="list__item" id="8a072d42_75" ><p>Discussion of extending Android Lint - <a href="https://intellij-support.jetbrains.com/hc/en-us/community/posts/360005018559-How-to-register-AndroidLintInspectionBase-in-IntellijIdea-Plugin" id="8a072d42_76"   data-external="true" rel="noopener noreferrer" >How to Register AndroidLintInspectionBase in IntelliJIdea Plugin</a></p></li><li class="list__item" id="8a072d42_77" ><p>Grzegorz Matyszczak's article <a href="https://proandroiddev.com/how-i-automated-creating-files-for-a-new-screen-with-my-own-android-studio-plugin-5d54b14ba6fa" id="8a072d42_78"   data-external="true" rel="noopener noreferrer" >How I Automated Creating Files for a New Screen with My Own Android Studio Plugin</a></p></li><li class="list__item" id="8a072d42_79" ><p>Marcos Holgado's article series <a href="https://proandroiddev.com/write-an-android-studio-plugin-part-1-creating-a-basic-plugin-af956c4f8b50" id="8a072d42_80"   data-external="true" rel="noopener noreferrer" >Write an Android Studio Plugin (Part 1)</a></p></li></ul></section><section class="chapter"  ><h2 id="open-source-plugins-for-android-studio" data-toc="open-source-plugins-for-android-studio"  >Open Source Plugins for Android Studio</h2><p id="8a072d42_81" >When learning new development configurations, it is helpful to have some representative projects for reference:</p><ul class="list _ul" id="8a072d42_82"    ><li class="list__item" id="8a072d42_83" ><p><a href="https://github.com/pbreault/adb-idea" id="8a072d42_84"   data-external="true" rel="noopener noreferrer" >ADB Idea</a> plugin for Android Studio and Intellij IDEA that speeds up Android development.</p></li><li class="list__item" id="8a072d42_85" ><p><a href="https://github.com/takahirom/android-postfix-plugin" id="8a072d42_86"   data-external="true" rel="noopener noreferrer" >Android postfix plugin</a> for Android Studio.</p></li><li class="list__item" id="8a072d42_87" ><p><a href="https://github.com/flutter/flutter-intellij" id="8a072d42_88"   data-external="true" rel="noopener noreferrer" >Flutter Plugin</a>.</p></li><li class="list__item" id="8a072d42_89" ><p>Bal Sikandar's <a href="https://github.com/balsikandar/Android-Studio-Plugins" id="8a072d42_90"   data-external="true" rel="noopener noreferrer" >list of Android Studio plugins</a>.</p></li></ul></section><section class="chapter"  ><h2 id="faq" data-toc="faq"  >FAQ</h2><section class="chapter"  ><h3 id="how-to-sync-gradle-project" data-toc="how-to-sync-gradle-project"  >How To Sync Gradle Project</h3><p id="8a072d42_91" >Use <code class="code " id="8a072d42_92"  >com.android.tools.idea.gradle.project.sync.GradleSyncInvoker.requestProjectSync()</code> for programmatic synchronization.</p></section></section><section class="chapter"  ><h2 id="see-also" data-toc="see-also"  >See Also</h2><p id="8a072d42_93" ><a href="https://github.com/JetBrains/android#contents" id="8a072d42_94"   data-external="true" rel="noopener noreferrer" >IntelliJ Android Plugin README</a></p></section><div class="last-modified"> Last modified: 28 九月 2022</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="plugin-compatibility.html">Plugin Compatibility with IntelliJ Platform Products</a>   <a class="navigation-links__next" href="android-studio-releases-list.html">Android Studio Releases List</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/storage/help-app/v5/app.js"></script></body></html>