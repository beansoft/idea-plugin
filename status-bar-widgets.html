<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2022-09-28T11:33:50.1863898"><meta name="build-number" content="${buildNumber}">    <meta name="keywords" content="">  <title>Status Bar Widgets | IntelliJ Platform Plugin SDK</title><script id="virtual-toc-data" type="application/json">[{"id":"editorbasedwidget","level":0,"title":"EditorBasedWidget","anchor":"#editorbasedwidget"},{"id":"editorbasedstatusbarpopup","level":0,"title":"EditorBasedStatusBarPopup","anchor":"#editorbasedstatusbarpopup"},{"id":"controlling-widgets-programmatically","level":0,"title":"Controlling Widgets Programmatically","anchor":"#controlling-widgets-programmatically"},{"id":"showing-widget-in-lightedit-mode","level":0,"title":"Showing Widget in LightEdit Mode","anchor":"#showing-widget-in-lightedit-mode"}]</script>   <link href="https://resources.jetbrains.com/storage/help-app/v5/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Status Bar Widgets | IntelliJ Platform Plugin SDK"/><meta property="og:description" content=""/><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"/><meta property="og:site_name" content="IntelliJ Platform Plugin SDK Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="https://plugins.jetbrains.com/docs/intellij/status-bar-widgets.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@JBPlatform"><meta name="twitter:title" content="Status Bar Widgets | IntelliJ Platform Plugin SDK"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@JBPlatform"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://plugins.jetbrains.com/docs/intellij/status-bar-widgets.html#webpage", "url": "https://plugins.jetbrains.com/docs/intellij/status-bar-widgets.html", "name": "Status Bar Widgets | IntelliJ Platform Plugin SDK", "description": "", "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://plugins.jetbrains.com/docs/intellij/#website", "url": "https://plugins.jetbrains.com/docs/intellij/", "name": "IntelliJ Platform Plugin SDK Help" }</script><!-- End Schema.org --></head>    <body data-id="status_bar_widgets.md" data-main-title="Status Bar Widgets" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Part II — Base Platform///user_interface_components.md|User Interface Components"  data-edit-url="https://github.com/JetBrains/intellij-sdk-docs/edit/main/topics/user_interface_components/status_bar_widgets.md"  >  <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ Platform Plugin SDK  Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">      </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="status_bar_widgets.md" id="status_bar_widgets.md"  >Status Bar Widgets</h1><p id="f003f576_1" >The IntelliJ Platform allows plugins to extend the IDE <a href="https://www.jetbrains.com/help/idea/guided-tour-around-the-user-interface.html#status-bar" id="f003f576_2"   data-external="true" rel="noopener noreferrer" >status bar</a> with additional custom widgets.</p><p id="f003f576_3" >Status bar widgets are small UI elements that allow providing users with useful information and settings for the current file, project, IDE, etc. For example, the status bar contains the widget showing the encoding of the current file, or the current VCS branch of the project.</p><p id="f003f576_4" >Due to the prominent presentation and limited space, they should be used only for information or settings that are relevant enough to be &quot;always&quot; shown.</p><p id="f003f576_5" >The starting point for extending the status bar with new widgets is the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-api/src/com/intellij/openapi/wm/StatusBarWidgetFactory.java" id="f003f576_6"   data-external="true" rel="noopener noreferrer" ><code class="code " id="f003f576_7"  >StatusBarWidgetFactory</code></a> interface, which is registered in the <code class="code " id="f003f576_8"  >com.intellij.statusBarWidgetFactory</code> extension point.</p><p id="f003f576_9" >In case a widget provides information or functionality related to the editor files, consider extending the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/openapi/wm/impl/status/widget/StatusBarEditorBasedWidgetFactory.java" id="f003f576_10"   data-external="true" rel="noopener noreferrer" ><code class="code " id="f003f576_11"  >StatusBarEditorBasedWidgetFactory</code></a> class.</p><p id="f003f576_12" >Each widget factory returns a new widget from <code class="code " id="f003f576_13"  >createWidget()</code>. To control the disposing of a widget, implement the <code class="code " id="f003f576_14"  >disposeWidget()</code>, if you just want to dispose it, use <code class="code " id="f003f576_15"  >Disposer.dispose(widget)</code>.</p><p id="f003f576_16" >Any widget must implement the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/ide-core/src/com/intellij/openapi/wm/StatusBarWidget.java" id="f003f576_17"   data-external="true" rel="noopener noreferrer" ><code class="code " id="f003f576_18"  >StatusBarWidget</code></a> interface.</p><p id="f003f576_19" >To reuse the IntelliJ Platform implementation, you can extend one of two classes:</p><ul class="list _ul" id="f003f576_20"    ><li class="list__item" id="f003f576_21" ><p><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/openapi/wm/impl/status/EditorBasedWidget.java" id="f003f576_22"   data-external="true" rel="noopener noreferrer" ><code class="code " id="f003f576_23"  >EditorBasedWidget</code></a></p></li><li class="list__item" id="f003f576_24" ><p><a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/openapi/wm/impl/status/EditorBasedStatusBarPopup.java" id="f003f576_25"   data-external="true" rel="noopener noreferrer" ><code class="code " id="f003f576_26"  >EditorBasedStatusBarPopup</code></a></p></li></ul><section class="chapter"  ><h2 id="editorbasedwidget" data-toc="editorbasedwidget"  >EditorBasedWidget</h2><p id="f003f576_27" ><code class="code " id="f003f576_28"  >EditorBasedWidget</code> is the basic widget implementation. To implement it, override <code class="code " id="f003f576_29"  >ID()</code> where returns the unique ID of the widget. This identifier may be needed to later obtain a widget instance.</p><p id="f003f576_30" >Use one of the existing predefined widget appearance options:</p><ul class="list _ul" id="f003f576_31"    ><li class="list__item" id="f003f576_32" ><p id="f003f576_33" ><code class="code " id="f003f576_34"  >com.intellij.openapi.wm.StatusBarWidget.IconPresentation</code></p><p id="f003f576_35" >Widget with only an icon.</p><p id="f003f576_36" >Example: <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/openapi/wm/impl/status/PowerSaveStatusWidgetFactory.java" id="f003f576_37"   data-external="true" rel="noopener noreferrer" >PowerSaveStatusWidgetFactory</a></p></li><li class="list__item" id="f003f576_38" ><p id="f003f576_39" ><code class="code " id="f003f576_40"  >com.intellij.openapi.wm.StatusBarWidget.TextPresentation</code></p><p id="f003f576_41" >Widget with only a text.</p><p id="f003f576_42" >Example: <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/openapi/wm/impl/status/PositionPanel.java" id="f003f576_43"   data-external="true" rel="noopener noreferrer" >PositionPanel</a></p></li><li class="list__item" id="f003f576_44" ><p id="f003f576_45" ><code class="code " id="f003f576_46"  >com.intellij.openapi.wm.StatusBarWidget.MultipleTextValuesPresentation</code></p><p id="f003f576_47" >Widget with a text and a popup.</p><p id="f003f576_48" >Example: <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/dvcs-impl/src/com/intellij/dvcs/ui/DvcsStatusWidget.java" id="f003f576_49"   data-external="true" rel="noopener noreferrer" >DvcsStatusWidget</a></p></li></ul><aside data-type="tip" class="prompt" data-title="" id="f003f576_50" ><p id="f003f576_51" >Note that they can't be combined to get, for example, an icon and a text.</p></aside><p id="f003f576_52" >To use the selected appearance, return a class that implements one of the above interfaces from <code class="code " id="f003f576_53"  >getPresentation()</code>.</p><p id="f003f576_54" >To create a widget with custom content, it should implement the <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-api/src/com/intellij/openapi/wm/CustomStatusBarWidget.java" id="f003f576_55"   data-external="true" rel="noopener noreferrer" ><code class="code " id="f003f576_56"  >CustomStatusBarWidget</code></a> interface. Override <code class="code " id="f003f576_57"  >getComponent()</code> to return the custom widget's component to display.</p><p id="f003f576_58" >Example: <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/openapi/wm/impl/status/MemoryUsagePanel.java" id="f003f576_59"   data-external="true" rel="noopener noreferrer" >MemoryUsagePanel</a></p></section><section class="chapter"  ><h2 id="editorbasedstatusbarpopup" data-toc="editorbasedstatusbarpopup"  >EditorBasedStatusBarPopup</h2><p id="f003f576_60" ><code class="code " id="f003f576_61"  >EditorBasedStatusBarPopup</code> is the basis for all widgets that have a popup with a list of actions. For example, the encoding widget of the current file.</p><p id="f003f576_62" >The component to display is returned from <code class="code " id="f003f576_63"  >createComponent()</code>. Each update of the widget IDE calls <code class="code " id="f003f576_64"  >updateComponent()</code> to update this component. In <code class="code " id="f003f576_65"  >updateComponent()</code> implementation, you can describe how the widget should change depending on the current state.</p><p id="f003f576_66" >Implement <code class="code " id="f003f576_67"  >getWidgetState()</code> to return the current state of the widget. This state will be passed to the <code class="code " id="f003f576_68"  >updateComponent()</code> when the widget is updated. The method accepts a file that's currently opened in the editor To create your own state class, inherit it from <code class="code " id="f003f576_69"  >EditorBasedStatusBarPopup.WidgetState.WidgetState</code>.</p><p id="f003f576_70" >Implement <code class="code " id="f003f576_71"  >ID()</code>, and return the unique ID of the widget. This identifier may be needed to later get a widget instance.</p><p id="f003f576_72" >Implement <code class="code " id="f003f576_73"  >createInstance()</code>, and return the new widget instance.</p><p id="f003f576_74" >Finally, implement the <code class="code " id="f003f576_75"  >createPopup()</code> method, which returns the <a href="popups.html" id="f003f576_76" data-tooltip="The IntelliJ Platform user interface makes extensive use of popups - semi-modal windows that have no chrome (explicit closing buttons) and disappear automatically on focus loss. Making use of these controls in your plugin ensures a consistent user experience between your plugin and…"  >popup</a> that will be displayed when the widget is clicked.</p><p id="f003f576_77" >Custom listeners to be notified of widget updates can be registered using <code class="code " id="f003f576_78"  >registerCustomListeners()</code>.</p><p id="f003f576_79" >To update a widget, use <code class="code " id="f003f576_80"  >update()</code>.</p></section><section class="chapter"  ><h2 id="controlling-widgets-programmatically" data-toc="controlling-widgets-programmatically"  >Controlling Widgets Programmatically</h2><p id="f003f576_81" >By default, when adding a widget to the status bar, it can be displayed/hidden through the context menu of the status bar or widget.</p><p id="f003f576_82" >If you want to change visibility programmatically use <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/openapi/wm/impl/status/widget/StatusBarWidgetSettings.kt" id="f003f576_83"   data-external="true" rel="noopener noreferrer" ><code class="code " id="f003f576_84"  >StatusBarWidgetSettings.setEnabled()</code></a>.</p><p id="f003f576_85" >The first argument to the method is the factory that created the widget. To get it, use <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/openapi/wm/impl/status/widget/StatusBarWidgetsManager.java" id="f003f576_86"   data-external="true" rel="noopener noreferrer" ><code class="code " id="f003f576_87"  >StatusBarWidgetsManager.findWidgetFactory()</code></a> and pass the widget ID and a boolean value that describes whether the widget will be visible or not.</p><p id="f003f576_88" >Also, you need to update the widget for the changes to take effect with <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/platform-impl/src/com/intellij/openapi/wm/impl/status/widget/StatusBarWidgetsManager.java" id="f003f576_89"   data-external="true" rel="noopener noreferrer" ><code class="code " id="f003f576_90"  >StatusBarWidgetsManager.updateWidget()</code></a>.</p></section><section class="chapter"  ><h2 id="showing-widget-in-lightedit-mode" data-toc="showing-widget-in-lightedit-mode"  >Showing Widget in LightEdit Mode</h2><p id="f003f576_91" >By default, widgets aren't shown in <a href="https://www.jetbrains.com/help/idea/lightedit-mode.html" id="f003f576_92"   data-external="true" rel="noopener noreferrer" >LightEdit</a> mode. To show a widget, implement <a href="https://github.com/JetBrains/intellij-community/tree/idea/222.3739.54/platform/core-api/src/com/intellij/ide/lightEdit/LightEditCompatible.java" id="f003f576_93"   data-external="true" rel="noopener noreferrer" ><code class="code " id="f003f576_94"  >LightEditCompatible</code></a> in your factory.</p></section><div class="last-modified"> Last modified: 28 九月 2022</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="lists-and-trees.html">List and Tree Controls</a>   <a class="navigation-links__next" href="misc-swing-components.html">Miscellaneous Swing Components</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/storage/help-app/v5/app.js"></script></body></html>